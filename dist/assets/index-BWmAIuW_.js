(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Y_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hd={exports:{}},Qs={},fd={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function AC(){if(my)return ce;my=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(I){return I===null||typeof I!="object"?null:(I=y&&I[y]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function R(I,O,ue){this.props=I,this.context=O,this.refs=A,this.updater=ue||x}R.prototype.isReactComponent={},R.prototype.setState=function(I,O){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,O,"setState")},R.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function V(){}V.prototype=R.prototype;function H(I,O,ue){this.props=I,this.context=O,this.refs=A,this.updater=ue||x}var b=H.prototype=new V;b.constructor=H,T(b,R.prototype),b.isPureReactComponent=!0;var M=Array.isArray,U=Object.prototype.hasOwnProperty,q={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function z(I,O,ue){var pe,ye={},ve=null,Pe=null;if(O!=null)for(pe in O.ref!==void 0&&(Pe=O.ref),O.key!==void 0&&(ve=""+O.key),O)U.call(O,pe)&&!X.hasOwnProperty(pe)&&(ye[pe]=O[pe]);var xe=arguments.length-2;if(xe===1)ye.children=ue;else if(1<xe){for(var Me=Array(xe),bt=0;bt<xe;bt++)Me[bt]=arguments[bt+2];ye.children=Me}if(I&&I.defaultProps)for(pe in xe=I.defaultProps,xe)ye[pe]===void 0&&(ye[pe]=xe[pe]);return{$$typeof:t,type:I,key:ve,ref:Pe,props:ye,_owner:q.current}}function me(I,O){return{$$typeof:t,type:I.type,key:O,ref:I.ref,props:I.props,_owner:I._owner}}function Ie(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function dt(I){var O={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ue){return O[ue]})}var ee=/\/+/g;function Se(I,O){return typeof I=="object"&&I!==null&&I.key!=null?dt(""+I.key):O.toString(36)}function Ee(I,O,ue,pe,ye){var ve=typeof I;(ve==="undefined"||ve==="boolean")&&(I=null);var Pe=!1;if(I===null)Pe=!0;else switch(ve){case"string":case"number":Pe=!0;break;case"object":switch(I.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=I,ye=ye(Pe),I=pe===""?"."+Se(Pe,0):pe,M(ye)?(ue="",I!=null&&(ue=I.replace(ee,"$&/")+"/"),Ee(ye,O,ue,"",function(bt){return bt})):ye!=null&&(Ie(ye)&&(ye=me(ye,ue+(!ye.key||Pe&&Pe.key===ye.key?"":(""+ye.key).replace(ee,"$&/")+"/")+I)),O.push(ye)),1;if(Pe=0,pe=pe===""?".":pe+":",M(I))for(var xe=0;xe<I.length;xe++){ve=I[xe];var Me=pe+Se(ve,xe);Pe+=Ee(ve,O,ue,Me,ye)}else if(Me=_(I),typeof Me=="function")for(I=Me.call(I),xe=0;!(ve=I.next()).done;)ve=ve.value,Me=pe+Se(ve,xe++),Pe+=Ee(ve,O,ue,Me,ye);else if(ve==="object")throw O=String(I),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return Pe}function $e(I,O,ue){if(I==null)return I;var pe=[],ye=0;return Ee(I,pe,"","",function(ve){return O.call(ue,ve,ye++)}),pe}function Qe(I){if(I._status===-1){var O=I._result;O=O(),O.then(function(ue){(I._status===0||I._status===-1)&&(I._status=1,I._result=ue)},function(ue){(I._status===0||I._status===-1)&&(I._status=2,I._result=ue)}),I._status===-1&&(I._status=0,I._result=O)}if(I._status===1)return I._result.default;throw I._result}var le={current:null},$={transition:null},te={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:$,ReactCurrentOwner:q};function K(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:$e,forEach:function(I,O,ue){$e(I,function(){O.apply(this,arguments)},ue)},count:function(I){var O=0;return $e(I,function(){O++}),O},toArray:function(I){return $e(I,function(O){return O})||[]},only:function(I){if(!Ie(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ce.Component=R,ce.Fragment=n,ce.Profiler=o,ce.PureComponent=H,ce.StrictMode=i,ce.Suspense=f,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,ce.act=K,ce.cloneElement=function(I,O,ue){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var pe=T({},I.props),ye=I.key,ve=I.ref,Pe=I._owner;if(O!=null){if(O.ref!==void 0&&(ve=O.ref,Pe=q.current),O.key!==void 0&&(ye=""+O.key),I.type&&I.type.defaultProps)var xe=I.type.defaultProps;for(Me in O)U.call(O,Me)&&!X.hasOwnProperty(Me)&&(pe[Me]=O[Me]===void 0&&xe!==void 0?xe[Me]:O[Me])}var Me=arguments.length-2;if(Me===1)pe.children=ue;else if(1<Me){xe=Array(Me);for(var bt=0;bt<Me;bt++)xe[bt]=arguments[bt+2];pe.children=xe}return{$$typeof:t,type:I.type,key:ye,ref:ve,props:pe,_owner:Pe}},ce.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:l,_context:I},I.Consumer=I},ce.createElement=z,ce.createFactory=function(I){var O=z.bind(null,I);return O.type=I,O},ce.createRef=function(){return{current:null}},ce.forwardRef=function(I){return{$$typeof:d,render:I}},ce.isValidElement=Ie,ce.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:Qe}},ce.memo=function(I,O){return{$$typeof:p,type:I,compare:O===void 0?null:O}},ce.startTransition=function(I){var O=$.transition;$.transition={};try{I()}finally{$.transition=O}},ce.unstable_act=K,ce.useCallback=function(I,O){return le.current.useCallback(I,O)},ce.useContext=function(I){return le.current.useContext(I)},ce.useDebugValue=function(){},ce.useDeferredValue=function(I){return le.current.useDeferredValue(I)},ce.useEffect=function(I,O){return le.current.useEffect(I,O)},ce.useId=function(){return le.current.useId()},ce.useImperativeHandle=function(I,O,ue){return le.current.useImperativeHandle(I,O,ue)},ce.useInsertionEffect=function(I,O){return le.current.useInsertionEffect(I,O)},ce.useLayoutEffect=function(I,O){return le.current.useLayoutEffect(I,O)},ce.useMemo=function(I,O){return le.current.useMemo(I,O)},ce.useReducer=function(I,O,ue){return le.current.useReducer(I,O,ue)},ce.useRef=function(I){return le.current.useRef(I)},ce.useState=function(I){return le.current.useState(I)},ce.useSyncExternalStore=function(I,O,ue){return le.current.useSyncExternalStore(I,O,ue)},ce.useTransition=function(){return le.current.useTransition()},ce.version="18.3.1",ce}var gy;function Vh(){return gy||(gy=1,fd.exports=AC()),fd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function bC(){if(yy)return Qs;yy=1;var t=Vh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,y={},_=null,x=null;p!==void 0&&(_=""+p),f.key!==void 0&&(_=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)i.call(f,g)&&!l.hasOwnProperty(g)&&(y[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:d,key:_,ref:x,props:y,_owner:o.current}}return Qs.Fragment=n,Qs.jsx=u,Qs.jsxs=u,Qs}var vy;function DC(){return vy||(vy=1,hd.exports=bC()),hd.exports}var w=DC(),F=Vh();const MC=Y_(F);var ll={},pd={exports:{}},Pt={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function OC(){return _y||(_y=1,(function(t){function e($,te){var K=$.length;$.push(te);e:for(;0<K;){var I=K-1>>>1,O=$[I];if(0<o(O,te))$[I]=te,$[K]=O,K=I;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var te=$[0],K=$.pop();if(K!==te){$[0]=K;e:for(var I=0,O=$.length,ue=O>>>1;I<ue;){var pe=2*(I+1)-1,ye=$[pe],ve=pe+1,Pe=$[ve];if(0>o(ye,K))ve<O&&0>o(Pe,ye)?($[I]=Pe,$[ve]=K,I=ve):($[I]=ye,$[pe]=K,I=pe);else if(ve<O&&0>o(Pe,K))$[I]=Pe,$[ve]=K,I=ve;else break e}}return te}function o($,te){var K=$.sortIndex-te.sortIndex;return K!==0?K:$.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,y=null,_=3,x=!1,T=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var te=n(p);te!==null;){if(te.callback===null)i(p);else if(te.startTime<=$)i(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(p)}}function M($){if(A=!1,b($),!T)if(n(f)!==null)T=!0,Qe(U);else{var te=n(p);te!==null&&le(M,te.startTime-$)}}function U($,te){T=!1,A&&(A=!1,V(z),z=-1),x=!0;var K=_;try{for(b(te),y=n(f);y!==null&&(!(y.expirationTime>te)||$&&!dt());){var I=y.callback;if(typeof I=="function"){y.callback=null,_=y.priorityLevel;var O=I(y.expirationTime<=te);te=t.unstable_now(),typeof O=="function"?y.callback=O:y===n(f)&&i(f),b(te)}else i(f);y=n(f)}if(y!==null)var ue=!0;else{var pe=n(p);pe!==null&&le(M,pe.startTime-te),ue=!1}return ue}finally{y=null,_=K,x=!1}}var q=!1,X=null,z=-1,me=5,Ie=-1;function dt(){return!(t.unstable_now()-Ie<me)}function ee(){if(X!==null){var $=t.unstable_now();Ie=$;var te=!0;try{te=X(!0,$)}finally{te?Se():(q=!1,X=null)}}else q=!1}var Se;if(typeof H=="function")Se=function(){H(ee)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,$e=Ee.port2;Ee.port1.onmessage=ee,Se=function(){$e.postMessage(null)}}else Se=function(){R(ee,0)};function Qe($){X=$,q||(q=!0,Se())}function le($,te){z=R(function(){$(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){T||x||(T=!0,Qe(U))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function($){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var K=_;_=te;try{return $()}finally{_=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,te){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=_;_=$;try{return te()}finally{_=K}},t.unstable_scheduleCallback=function($,te,K){var I=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?I+K:I):K=I,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=K+O,$={id:g++,callback:te,priorityLevel:$,startTime:K,expirationTime:O,sortIndex:-1},K>I?($.sortIndex=K,e(p,$),n(f)===null&&$===n(p)&&(A?(V(z),z=-1):A=!0,le(M,K-I))):($.sortIndex=O,e(f,$),T||x||(T=!0,Qe(U))),$},t.unstable_shouldYield=dt,t.unstable_wrapCallback=function($){var te=_;return function(){var K=_;_=te;try{return $.apply(this,arguments)}finally{_=K}}}})(gd)),gd}var wy;function LC(){return wy||(wy=1,md.exports=OC()),md.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function FC(){if(Sy)return Pt;Sy=1;var t=Vh(),e=LC();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function _(r){return f.call(y,r)?!0:f.call(g,r)?!1:p.test(r)?y[r]=!0:(g[r]=!0,!1)}function x(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function T(r,s,a,c){if(s===null||typeof s>"u"||x(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function A(r,s,a,c,h,m,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=v}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new A(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];R[s]=new A(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new A(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new A(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new A(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new A(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new A(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new A(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new A(r,5,!1,r.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function H(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(V,H);R[s]=new A(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(V,H);R[s]=new A(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(V,H);R[s]=new A(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new A(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new A(r,1,!1,r.toLowerCase(),null,!0,!0)});function b(r,s,a,c){var h=R.hasOwnProperty(s)?R[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(T(s,a,h,c)&&(a=null),c||h===null?_(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),q=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),Ie=Symbol.for("react.provider"),dt=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),Qe=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),$=Symbol.iterator;function te(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,I;function O(r){if(I===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);I=s&&s[1]||""}return`
`+I+r}var ue=!1;function pe(r,s){if(!r||ue)return"";ue=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(N){var c=N}Reflect.construct(r,[],s)}else{try{s.call()}catch(N){c=N}r.call(s.prototype)}else{try{throw Error()}catch(N){c=N}r()}}catch(N){if(N&&c&&typeof N.stack=="string"){for(var h=N.stack.split(`
`),m=c.stack.split(`
`),v=h.length-1,S=m.length-1;1<=v&&0<=S&&h[v]!==m[S];)S--;for(;1<=v&&0<=S;v--,S--)if(h[v]!==m[S]){if(v!==1||S!==1)do if(v--,S--,0>S||h[v]!==m[S]){var E=`
`+h[v].replace(" at new "," at ");return r.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",r.displayName)),E}while(1<=v&&0<=S);break}}}finally{ue=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?O(r):""}function ye(r){switch(r.tag){case 5:return O(r.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function ve(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case X:return"Fragment";case q:return"Portal";case me:return"Profiler";case z:return"StrictMode";case Se:return"Suspense";case Ee:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case dt:return(r.displayName||"Context")+".Consumer";case Ie:return(r._context.displayName||"Context")+".Provider";case ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $e:return s=r.displayName||null,s!==null?s:ve(r.type)||"Memo";case Qe:s=r._payload,r=r._init;try{return ve(r(s))}catch{}}return null}function Pe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function xe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Me(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bt(r){var s=Me(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(v){c=""+v,m.call(this,v)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Jo(r){r._valueTracker||(r._valueTracker=bt(r))}function Sp(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Me(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Zo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function _u(r,s){var a=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Ep(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=xe(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function xp(r,s){s=s.checked,s!=null&&b(r,"checked",s,!1)}function wu(r,s){xp(r,s);var a=xe(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Su(r,s.type,a):s.hasOwnProperty("defaultValue")&&Su(r,s.type,xe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Cp(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Su(r,s,a){(s!=="number"||Zo(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var ds=Array.isArray;function li(r,s,a,c){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+xe(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Eu(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Tp(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(ds(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:xe(a)}}function Ip(r,s){var a=xe(s.value),c=xe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function kp(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Pp(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xu(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Pp(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ea,Np=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,h)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ea.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function hs(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},OE=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(r){OE.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),fs[s]=fs[r]})});function Rp(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||fs.hasOwnProperty(r)&&fs[r]?(""+s).trim():s+"px"}function Ap(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=Rp(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var LE=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cu(r,s){if(s){if(LE[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Tu(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iu=null;function ku(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Pu=null,ui=null,ci=null;function bp(r){if(r=Os(r)){if(typeof Pu!="function")throw Error(n(280));var s=r.stateNode;s&&(s=xa(s),Pu(r.stateNode,r.type,s))}}function Dp(r){ui?ci?ci.push(r):ci=[r]:ui=r}function Mp(){if(ui){var r=ui,s=ci;if(ci=ui=null,bp(r),s)for(r=0;r<s.length;r++)bp(s[r])}}function Op(r,s){return r(s)}function Lp(){}var Nu=!1;function Fp(r,s,a){if(Nu)return r(s,a);Nu=!0;try{return Op(r,s,a)}finally{Nu=!1,(ui!==null||ci!==null)&&(Lp(),Mp())}}function ps(r,s){var a=r.stateNode;if(a===null)return null;var c=xa(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var Ru=!1;if(d)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Ru=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Ru=!1}function FE(r,s,a,c,h,m,v,S,E){var N=Array.prototype.slice.call(arguments,3);try{s.apply(a,N)}catch(L){this.onError(L)}}var gs=!1,ta=null,na=!1,Au=null,jE={onError:function(r){gs=!0,ta=r}};function VE(r,s,a,c,h,m,v,S,E){gs=!1,ta=null,FE.apply(jE,arguments)}function UE(r,s,a,c,h,m,v,S,E){if(VE.apply(this,arguments),gs){if(gs){var N=ta;gs=!1,ta=null}else throw Error(n(198));na||(na=!0,Au=N)}}function kr(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function jp(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Vp(r){if(kr(r)!==r)throw Error(n(188))}function BE(r){var s=r.alternate;if(!s){if(s=kr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,c=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return Vp(h),r;if(m===c)return Vp(h),s;m=m.sibling}throw Error(n(188))}if(a.return!==c.return)a=h,c=m;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,c=m;break}if(S===c){v=!0,c=h,a=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===a){v=!0,a=m,c=h;break}if(S===c){v=!0,c=m,a=h;break}S=S.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function Up(r){return r=BE(r),r!==null?Bp(r):null}function Bp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Bp(r);if(s!==null)return s;r=r.sibling}return null}var zp=e.unstable_scheduleCallback,Wp=e.unstable_cancelCallback,zE=e.unstable_shouldYield,WE=e.unstable_requestPaint,He=e.unstable_now,$E=e.unstable_getCurrentPriorityLevel,bu=e.unstable_ImmediatePriority,$p=e.unstable_UserBlockingPriority,ra=e.unstable_NormalPriority,HE=e.unstable_LowPriority,Hp=e.unstable_IdlePriority,ia=null,un=null;function KE(r){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(ia,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:YE,GE=Math.log,qE=Math.LN2;function YE(r){return r>>>=0,r===0?32:31-(GE(r)/qE|0)|0}var sa=64,oa=4194304;function ys(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function aa(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,m=r.pingedLanes,v=a&268435455;if(v!==0){var S=v&~h;S!==0?c=ys(S):(m&=v,m!==0&&(c=ys(m)))}else v=a&~h,v!==0?c=ys(v):m!==0&&(c=ys(m));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,m=s&-s,h>=m||h===16&&(m&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Yt(s),h=1<<a,c|=r[a],s&=~h;return c}function QE(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XE(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes;0<m;){var v=31-Yt(m),S=1<<v,E=h[v];E===-1?((S&a)===0||(S&c)!==0)&&(h[v]=QE(S,s)):E<=s&&(r.expiredLanes|=S),m&=~S}}function Du(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Kp(){var r=sa;return sa<<=1,(sa&4194240)===0&&(sa=64),r}function Mu(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function vs(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Yt(s),r[s]=a}function JE(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-Yt(a),m=1<<h;s[h]=0,c[h]=-1,r[h]=-1,a&=~m}}function Ou(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Yt(a),h=1<<c;h&s|r[c]&s&&(r[c]|=s),a&=~h}}var Ce=0;function Gp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var qp,Lu,Yp,Qp,Xp,Fu=!1,la=[],Bn=null,zn=null,Wn=null,_s=new Map,ws=new Map,$n=[],ZE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jp(r,s){switch(r){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":_s.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ws.delete(s.pointerId)}}function Ss(r,s,a,c,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Os(s),s!==null&&Lu(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function ex(r,s,a,c,h){switch(s){case"focusin":return Bn=Ss(Bn,r,s,a,c,h),!0;case"dragenter":return zn=Ss(zn,r,s,a,c,h),!0;case"mouseover":return Wn=Ss(Wn,r,s,a,c,h),!0;case"pointerover":var m=h.pointerId;return _s.set(m,Ss(_s.get(m)||null,r,s,a,c,h)),!0;case"gotpointercapture":return m=h.pointerId,ws.set(m,Ss(ws.get(m)||null,r,s,a,c,h)),!0}return!1}function Zp(r){var s=Pr(r.target);if(s!==null){var a=kr(s);if(a!==null){if(s=a.tag,s===13){if(s=jp(a),s!==null){r.blockedOn=s,Xp(r.priority,function(){Yp(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ua(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Vu(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Iu=c,a.target.dispatchEvent(c),Iu=null}else return s=Os(a),s!==null&&Lu(s),r.blockedOn=a,!1;s.shift()}return!0}function em(r,s,a){ua(r)&&a.delete(s)}function tx(){Fu=!1,Bn!==null&&ua(Bn)&&(Bn=null),zn!==null&&ua(zn)&&(zn=null),Wn!==null&&ua(Wn)&&(Wn=null),_s.forEach(em),ws.forEach(em)}function Es(r,s){r.blockedOn===s&&(r.blockedOn=null,Fu||(Fu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tx)))}function xs(r){function s(h){return Es(h,r)}if(0<la.length){Es(la[0],r);for(var a=1;a<la.length;a++){var c=la[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Bn!==null&&Es(Bn,r),zn!==null&&Es(zn,r),Wn!==null&&Es(Wn,r),_s.forEach(s),ws.forEach(s),a=0;a<$n.length;a++)c=$n[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<$n.length&&(a=$n[0],a.blockedOn===null);)Zp(a),a.blockedOn===null&&$n.shift()}var di=M.ReactCurrentBatchConfig,ca=!0;function nx(r,s,a,c){var h=Ce,m=di.transition;di.transition=null;try{Ce=1,ju(r,s,a,c)}finally{Ce=h,di.transition=m}}function rx(r,s,a,c){var h=Ce,m=di.transition;di.transition=null;try{Ce=4,ju(r,s,a,c)}finally{Ce=h,di.transition=m}}function ju(r,s,a,c){if(ca){var h=Vu(r,s,a,c);if(h===null)nc(r,s,c,da,a),Jp(r,c);else if(ex(h,r,s,a,c))c.stopPropagation();else if(Jp(r,c),s&4&&-1<ZE.indexOf(r)){for(;h!==null;){var m=Os(h);if(m!==null&&qp(m),m=Vu(r,s,a,c),m===null&&nc(r,s,c,da,a),m===h)break;h=m}h!==null&&c.stopPropagation()}else nc(r,s,c,null,a)}}var da=null;function Vu(r,s,a,c){if(da=null,r=ku(c),r=Pr(r),r!==null)if(s=kr(r),s===null)r=null;else if(a=s.tag,a===13){if(r=jp(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return da=r,null}function tm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($E()){case bu:return 1;case $p:return 4;case ra:case HE:return 16;case Hp:return 536870912;default:return 16}default:return 16}}var Hn=null,Uu=null,ha=null;function nm(){if(ha)return ha;var r,s=Uu,a=s.length,c,h="value"in Hn?Hn.value:Hn.textContent,m=h.length;for(r=0;r<a&&s[r]===h[r];r++);var v=a-r;for(c=1;c<=v&&s[a-c]===h[m-c];c++);return ha=h.slice(r,1<c?1-c:void 0)}function fa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function pa(){return!0}function rm(){return!1}function Dt(r){function s(a,c,h,m,v){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?pa:rm,this.isPropagationStopped=rm,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),s}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=Dt(hi),Cs=K({},hi,{view:0,detail:0}),ix=Dt(Cs),zu,Wu,Ts,ma=K({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ts&&(Ts&&r.type==="mousemove"?(zu=r.screenX-Ts.screenX,Wu=r.screenY-Ts.screenY):Wu=zu=0,Ts=r),zu)},movementY:function(r){return"movementY"in r?r.movementY:Wu}}),im=Dt(ma),sx=K({},ma,{dataTransfer:0}),ox=Dt(sx),ax=K({},Cs,{relatedTarget:0}),$u=Dt(ax),lx=K({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),ux=Dt(lx),cx=K({},hi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),dx=Dt(cx),hx=K({},hi,{data:0}),sm=Dt(hx),fx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},px={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gx(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=mx[r])?!!s[r]:!1}function Hu(){return gx}var yx=K({},Cs,{key:function(r){if(r.key){var s=fx[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=fa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?px[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(r){return r.type==="keypress"?fa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),vx=Dt(yx),_x=K({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),om=Dt(_x),wx=K({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),Sx=Dt(wx),Ex=K({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=Dt(Ex),Cx=K({},ma,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Tx=Dt(Cx),Ix=[9,13,27,32],Ku=d&&"CompositionEvent"in window,Is=null;d&&"documentMode"in document&&(Is=document.documentMode);var kx=d&&"TextEvent"in window&&!Is,am=d&&(!Ku||Is&&8<Is&&11>=Is),lm=" ",um=!1;function cm(r,s){switch(r){case"keyup":return Ix.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fi=!1;function Px(r,s){switch(r){case"compositionend":return dm(s);case"keypress":return s.which!==32?null:(um=!0,lm);case"textInput":return r=s.data,r===lm&&um?null:r;default:return null}}function Nx(r,s){if(fi)return r==="compositionend"||!Ku&&cm(r,s)?(r=nm(),ha=Uu=Hn=null,fi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return am&&s.locale!=="ko"?null:s.data;default:return null}}var Rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Rx[r.type]:s==="textarea"}function fm(r,s,a,c){Dp(c),s=wa(s,"onChange"),0<s.length&&(a=new Bu("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var ks=null,Ps=null;function Ax(r){Am(r,0)}function ga(r){var s=vi(r);if(Sp(s))return r}function bx(r,s){if(r==="change")return s}var pm=!1;if(d){var Gu;if(d){var qu="oninput"in document;if(!qu){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),qu=typeof mm.oninput=="function"}Gu=qu}else Gu=!1;pm=Gu&&(!document.documentMode||9<document.documentMode)}function gm(){ks&&(ks.detachEvent("onpropertychange",ym),Ps=ks=null)}function ym(r){if(r.propertyName==="value"&&ga(Ps)){var s=[];fm(s,Ps,r,ku(r)),Fp(Ax,s)}}function Dx(r,s,a){r==="focusin"?(gm(),ks=s,Ps=a,ks.attachEvent("onpropertychange",ym)):r==="focusout"&&gm()}function Mx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ga(Ps)}function Ox(r,s){if(r==="click")return ga(s)}function Lx(r,s){if(r==="input"||r==="change")return ga(s)}function Fx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Qt=typeof Object.is=="function"?Object.is:Fx;function Ns(r,s){if(Qt(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!f.call(s,h)||!Qt(r[h],s[h]))return!1}return!0}function vm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _m(r,s){var a=vm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vm(a)}}function wm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?wm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Sm(){for(var r=window,s=Zo();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Zo(r.document)}return s}function Yu(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function jx(r){var s=Sm(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&wm(a.ownerDocument.documentElement,a)){if(c!==null&&Yu(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!r.extend&&m>c&&(h=c,c=m,m=h),h=_m(a,m);var v=_m(a,c);h&&v&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),m>c?(r.addRange(s),r.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Vx=d&&"documentMode"in document&&11>=document.documentMode,pi=null,Qu=null,Rs=null,Xu=!1;function Em(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xu||pi==null||pi!==Zo(c)||(c=pi,"selectionStart"in c&&Yu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Rs&&Ns(Rs,c)||(Rs=c,c=wa(Qu,"onSelect"),0<c.length&&(s=new Bu("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=pi)))}function ya(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var mi={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionend:ya("Transition","TransitionEnd")},Ju={},xm={};d&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function va(r){if(Ju[r])return Ju[r];if(!mi[r])return r;var s=mi[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in xm)return Ju[r]=s[a];return r}var Cm=va("animationend"),Tm=va("animationiteration"),Im=va("animationstart"),km=va("transitionend"),Pm=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(r,s){Pm.set(r,s),l(s,[r])}for(var Zu=0;Zu<Nm.length;Zu++){var ec=Nm[Zu],Ux=ec.toLowerCase(),Bx=ec[0].toUpperCase()+ec.slice(1);Kn(Ux,"on"+Bx)}Kn(Cm,"onAnimationEnd"),Kn(Tm,"onAnimationIteration"),Kn(Im,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(km,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zx=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function Rm(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,UE(c,s,void 0,r),r.currentTarget=null}function Am(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var m=void 0;if(s)for(var v=c.length-1;0<=v;v--){var S=c[v],E=S.instance,N=S.currentTarget;if(S=S.listener,E!==m&&h.isPropagationStopped())break e;Rm(h,S,N),m=E}else for(v=0;v<c.length;v++){if(S=c[v],E=S.instance,N=S.currentTarget,S=S.listener,E!==m&&h.isPropagationStopped())break e;Rm(h,S,N),m=E}}}if(na)throw r=Au,na=!1,Au=null,r}function be(r,s){var a=s[lc];a===void 0&&(a=s[lc]=new Set);var c=r+"__bubble";a.has(c)||(bm(s,r,2,!1),a.add(c))}function tc(r,s,a){var c=0;s&&(c|=4),bm(a,r,c,s)}var _a="_reactListening"+Math.random().toString(36).slice(2);function bs(r){if(!r[_a]){r[_a]=!0,i.forEach(function(a){a!=="selectionchange"&&(zx.has(a)||tc(a,!1,r),tc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[_a]||(s[_a]=!0,tc("selectionchange",!1,s))}}function bm(r,s,a,c){switch(tm(s)){case 1:var h=nx;break;case 4:h=rx;break;default:h=ju}a=h.bind(null,s,a,r),h=void 0,!Ru||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function nc(r,s,a,c,h){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=c.return;v!==null;){var E=v.tag;if((E===3||E===4)&&(E=v.stateNode.containerInfo,E===h||E.nodeType===8&&E.parentNode===h))return;v=v.return}for(;S!==null;){if(v=Pr(S),v===null)return;if(E=v.tag,E===5||E===6){c=m=v;continue e}S=S.parentNode}}c=c.return}Fp(function(){var N=m,L=ku(a),j=[];e:{var D=Pm.get(r);if(D!==void 0){var G=Bu,Q=r;switch(r){case"keypress":if(fa(a)===0)break e;case"keydown":case"keyup":G=vx;break;case"focusin":Q="focus",G=$u;break;case"focusout":Q="blur",G=$u;break;case"beforeblur":case"afterblur":G=$u;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=ox;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Sx;break;case Cm:case Tm:case Im:G=ux;break;case km:G=xx;break;case"scroll":G=ix;break;case"wheel":G=Tx;break;case"copy":case"cut":case"paste":G=dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=om}var J=(s&4)!==0,Ke=!J&&r==="scroll",k=J?D!==null?D+"Capture":null:D;J=[];for(var C=N,P;C!==null;){P=C;var B=P.stateNode;if(P.tag===5&&B!==null&&(P=B,k!==null&&(B=ps(C,k),B!=null&&J.push(Ds(C,B,P)))),Ke)break;C=C.return}0<J.length&&(D=new G(D,Q,null,a,L),j.push({event:D,listeners:J}))}}if((s&7)===0){e:{if(D=r==="mouseover"||r==="pointerover",G=r==="mouseout"||r==="pointerout",D&&a!==Iu&&(Q=a.relatedTarget||a.fromElement)&&(Pr(Q)||Q[wn]))break e;if((G||D)&&(D=L.window===L?L:(D=L.ownerDocument)?D.defaultView||D.parentWindow:window,G?(Q=a.relatedTarget||a.toElement,G=N,Q=Q?Pr(Q):null,Q!==null&&(Ke=kr(Q),Q!==Ke||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(G=null,Q=N),G!==Q)){if(J=im,B="onMouseLeave",k="onMouseEnter",C="mouse",(r==="pointerout"||r==="pointerover")&&(J=om,B="onPointerLeave",k="onPointerEnter",C="pointer"),Ke=G==null?D:vi(G),P=Q==null?D:vi(Q),D=new J(B,C+"leave",G,a,L),D.target=Ke,D.relatedTarget=P,B=null,Pr(L)===N&&(J=new J(k,C+"enter",Q,a,L),J.target=P,J.relatedTarget=Ke,B=J),Ke=B,G&&Q)t:{for(J=G,k=Q,C=0,P=J;P;P=gi(P))C++;for(P=0,B=k;B;B=gi(B))P++;for(;0<C-P;)J=gi(J),C--;for(;0<P-C;)k=gi(k),P--;for(;C--;){if(J===k||k!==null&&J===k.alternate)break t;J=gi(J),k=gi(k)}J=null}else J=null;G!==null&&Dm(j,D,G,J,!1),Q!==null&&Ke!==null&&Dm(j,Ke,Q,J,!0)}}e:{if(D=N?vi(N):window,G=D.nodeName&&D.nodeName.toLowerCase(),G==="select"||G==="input"&&D.type==="file")var Z=bx;else if(hm(D))if(pm)Z=Lx;else{Z=Mx;var ne=Dx}else(G=D.nodeName)&&G.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(Z=Ox);if(Z&&(Z=Z(r,N))){fm(j,Z,a,L);break e}ne&&ne(r,D,N),r==="focusout"&&(ne=D._wrapperState)&&ne.controlled&&D.type==="number"&&Su(D,"number",D.value)}switch(ne=N?vi(N):window,r){case"focusin":(hm(ne)||ne.contentEditable==="true")&&(pi=ne,Qu=N,Rs=null);break;case"focusout":Rs=Qu=pi=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,Em(j,a,L);break;case"selectionchange":if(Vx)break;case"keydown":case"keyup":Em(j,a,L)}var re;if(Ku)e:{switch(r){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else fi?cm(r,a)&&(ae="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ae="onCompositionStart");ae&&(am&&a.locale!=="ko"&&(fi||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&fi&&(re=nm()):(Hn=L,Uu="value"in Hn?Hn.value:Hn.textContent,fi=!0)),ne=wa(N,ae),0<ne.length&&(ae=new sm(ae,r,null,a,L),j.push({event:ae,listeners:ne}),re?ae.data=re:(re=dm(a),re!==null&&(ae.data=re)))),(re=kx?Px(r,a):Nx(r,a))&&(N=wa(N,"onBeforeInput"),0<N.length&&(L=new sm("onBeforeInput","beforeinput",null,a,L),j.push({event:L,listeners:N}),L.data=re))}Am(j,s)})}function Ds(r,s,a){return{instance:r,listener:s,currentTarget:a}}function wa(r,s){for(var a=s+"Capture",c=[];r!==null;){var h=r,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=ps(r,a),m!=null&&c.unshift(Ds(r,m,h)),m=ps(r,s),m!=null&&c.push(Ds(r,m,h))),r=r.return}return c}function gi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Dm(r,s,a,c,h){for(var m=s._reactName,v=[];a!==null&&a!==c;){var S=a,E=S.alternate,N=S.stateNode;if(E!==null&&E===c)break;S.tag===5&&N!==null&&(S=N,h?(E=ps(a,m),E!=null&&v.unshift(Ds(a,E,S))):h||(E=ps(a,m),E!=null&&v.push(Ds(a,E,S)))),a=a.return}v.length!==0&&r.push({event:s,listeners:v})}var Wx=/\r\n?/g,$x=/\u0000|\uFFFD/g;function Mm(r){return(typeof r=="string"?r:""+r).replace(Wx,`
`).replace($x,"")}function Sa(r,s,a){if(s=Mm(s),Mm(r)!==s&&a)throw Error(n(425))}function Ea(){}var rc=null,ic=null;function sc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var oc=typeof setTimeout=="function"?setTimeout:void 0,Hx=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,Kx=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(r){return Om.resolve(null).then(r).catch(Gx)}:oc;function Gx(r){setTimeout(function(){throw r})}function ac(r,s){var a=s,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),xs(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);xs(s)}function Gn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Lm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var yi=Math.random().toString(36).slice(2),cn="__reactFiber$"+yi,Ms="__reactProps$"+yi,wn="__reactContainer$"+yi,lc="__reactEvents$"+yi,qx="__reactListeners$"+yi,Yx="__reactHandles$"+yi;function Pr(r){var s=r[cn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[wn]||a[cn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Lm(r);r!==null;){if(a=r[cn])return a;r=Lm(r)}return s}r=a,a=r.parentNode}return null}function Os(r){return r=r[cn]||r[wn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function vi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function xa(r){return r[Ms]||null}var uc=[],_i=-1;function qn(r){return{current:r}}function De(r){0>_i||(r.current=uc[_i],uc[_i]=null,_i--)}function Ne(r,s){_i++,uc[_i]=r.current,r.current=s}var Yn={},ht=qn(Yn),xt=qn(!1),Nr=Yn;function wi(r,s){var a=r.type.contextTypes;if(!a)return Yn;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=s[m];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function Ct(r){return r=r.childContextTypes,r!=null}function Ca(){De(xt),De(ht)}function Fm(r,s,a){if(ht.current!==Yn)throw Error(n(168));Ne(ht,s),Ne(xt,a)}function jm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(n(108,Pe(r)||"Unknown",h));return K({},a,c)}function Ta(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Yn,Nr=ht.current,Ne(ht,r),Ne(xt,xt.current),!0}function Vm(r,s,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=jm(r,s,Nr),c.__reactInternalMemoizedMergedChildContext=r,De(xt),De(ht),Ne(ht,r)):De(xt),Ne(xt,a)}var Sn=null,Ia=!1,cc=!1;function Um(r){Sn===null?Sn=[r]:Sn.push(r)}function Qx(r){Ia=!0,Um(r)}function Qn(){if(!cc&&Sn!==null){cc=!0;var r=0,s=Ce;try{var a=Sn;for(Ce=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Sn=null,Ia=!1}catch(h){throw Sn!==null&&(Sn=Sn.slice(r+1)),zp(bu,Qn),h}finally{Ce=s,cc=!1}}return null}var Si=[],Ei=0,ka=null,Pa=0,Ft=[],jt=0,Rr=null,En=1,xn="";function Ar(r,s){Si[Ei++]=Pa,Si[Ei++]=ka,ka=r,Pa=s}function Bm(r,s,a){Ft[jt++]=En,Ft[jt++]=xn,Ft[jt++]=Rr,Rr=r;var c=En;r=xn;var h=32-Yt(c)-1;c&=~(1<<h),a+=1;var m=32-Yt(s)+h;if(30<m){var v=h-h%5;m=(c&(1<<v)-1).toString(32),c>>=v,h-=v,En=1<<32-Yt(s)+h|a<<h|c,xn=m+r}else En=1<<m|a<<h|c,xn=r}function dc(r){r.return!==null&&(Ar(r,1),Bm(r,1,0))}function hc(r){for(;r===ka;)ka=Si[--Ei],Si[Ei]=null,Pa=Si[--Ei],Si[Ei]=null;for(;r===Rr;)Rr=Ft[--jt],Ft[jt]=null,xn=Ft[--jt],Ft[jt]=null,En=Ft[--jt],Ft[jt]=null}var Mt=null,Ot=null,Oe=!1,Xt=null;function zm(r,s){var a=zt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Wm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Mt=r,Ot=Gn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Mt=r,Ot=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Rr!==null?{id:En,overflow:xn}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=zt(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Mt=r,Ot=null,!0):!1;default:return!1}}function fc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function pc(r){if(Oe){var s=Ot;if(s){var a=s;if(!Wm(r,s)){if(fc(r))throw Error(n(418));s=Gn(a.nextSibling);var c=Mt;s&&Wm(r,s)?zm(c,a):(r.flags=r.flags&-4097|2,Oe=!1,Mt=r)}}else{if(fc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Oe=!1,Mt=r}}}function $m(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Mt=r}function Na(r){if(r!==Mt)return!1;if(!Oe)return $m(r),Oe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!sc(r.type,r.memoizedProps)),s&&(s=Ot)){if(fc(r))throw Hm(),Error(n(418));for(;s;)zm(r,s),s=Gn(s.nextSibling)}if($m(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Ot=Gn(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Ot=null}}else Ot=Mt?Gn(r.stateNode.nextSibling):null;return!0}function Hm(){for(var r=Ot;r;)r=Gn(r.nextSibling)}function xi(){Ot=Mt=null,Oe=!1}function mc(r){Xt===null?Xt=[r]:Xt.push(r)}var Xx=M.ReactCurrentBatchConfig;function Ls(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var h=c,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(v){var S=h.refs;v===null?delete S[m]:S[m]=v},s._stringRef=m,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function Ra(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Km(r){var s=r._init;return s(r._payload)}function Gm(r){function s(k,C){if(r){var P=k.deletions;P===null?(k.deletions=[C],k.flags|=16):P.push(C)}}function a(k,C){if(!r)return null;for(;C!==null;)s(k,C),C=C.sibling;return null}function c(k,C){for(k=new Map;C!==null;)C.key!==null?k.set(C.key,C):k.set(C.index,C),C=C.sibling;return k}function h(k,C){return k=ir(k,C),k.index=0,k.sibling=null,k}function m(k,C,P){return k.index=P,r?(P=k.alternate,P!==null?(P=P.index,P<C?(k.flags|=2,C):P):(k.flags|=2,C)):(k.flags|=1048576,C)}function v(k){return r&&k.alternate===null&&(k.flags|=2),k}function S(k,C,P,B){return C===null||C.tag!==6?(C=od(P,k.mode,B),C.return=k,C):(C=h(C,P),C.return=k,C)}function E(k,C,P,B){var Z=P.type;return Z===X?L(k,C,P.props.children,B,P.key):C!==null&&(C.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Qe&&Km(Z)===C.type)?(B=h(C,P.props),B.ref=Ls(k,C,P),B.return=k,B):(B=el(P.type,P.key,P.props,null,k.mode,B),B.ref=Ls(k,C,P),B.return=k,B)}function N(k,C,P,B){return C===null||C.tag!==4||C.stateNode.containerInfo!==P.containerInfo||C.stateNode.implementation!==P.implementation?(C=ad(P,k.mode,B),C.return=k,C):(C=h(C,P.children||[]),C.return=k,C)}function L(k,C,P,B,Z){return C===null||C.tag!==7?(C=Vr(P,k.mode,B,Z),C.return=k,C):(C=h(C,P),C.return=k,C)}function j(k,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return C=od(""+C,k.mode,P),C.return=k,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case U:return P=el(C.type,C.key,C.props,null,k.mode,P),P.ref=Ls(k,null,C),P.return=k,P;case q:return C=ad(C,k.mode,P),C.return=k,C;case Qe:var B=C._init;return j(k,B(C._payload),P)}if(ds(C)||te(C))return C=Vr(C,k.mode,P,null),C.return=k,C;Ra(k,C)}return null}function D(k,C,P,B){var Z=C!==null?C.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return Z!==null?null:S(k,C,""+P,B);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case U:return P.key===Z?E(k,C,P,B):null;case q:return P.key===Z?N(k,C,P,B):null;case Qe:return Z=P._init,D(k,C,Z(P._payload),B)}if(ds(P)||te(P))return Z!==null?null:L(k,C,P,B,null);Ra(k,P)}return null}function G(k,C,P,B,Z){if(typeof B=="string"&&B!==""||typeof B=="number")return k=k.get(P)||null,S(C,k,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case U:return k=k.get(B.key===null?P:B.key)||null,E(C,k,B,Z);case q:return k=k.get(B.key===null?P:B.key)||null,N(C,k,B,Z);case Qe:var ne=B._init;return G(k,C,P,ne(B._payload),Z)}if(ds(B)||te(B))return k=k.get(P)||null,L(C,k,B,Z,null);Ra(C,B)}return null}function Q(k,C,P,B){for(var Z=null,ne=null,re=C,ae=C=0,tt=null;re!==null&&ae<P.length;ae++){re.index>ae?(tt=re,re=null):tt=re.sibling;var _e=D(k,re,P[ae],B);if(_e===null){re===null&&(re=tt);break}r&&re&&_e.alternate===null&&s(k,re),C=m(_e,C,ae),ne===null?Z=_e:ne.sibling=_e,ne=_e,re=tt}if(ae===P.length)return a(k,re),Oe&&Ar(k,ae),Z;if(re===null){for(;ae<P.length;ae++)re=j(k,P[ae],B),re!==null&&(C=m(re,C,ae),ne===null?Z=re:ne.sibling=re,ne=re);return Oe&&Ar(k,ae),Z}for(re=c(k,re);ae<P.length;ae++)tt=G(re,k,ae,P[ae],B),tt!==null&&(r&&tt.alternate!==null&&re.delete(tt.key===null?ae:tt.key),C=m(tt,C,ae),ne===null?Z=tt:ne.sibling=tt,ne=tt);return r&&re.forEach(function(sr){return s(k,sr)}),Oe&&Ar(k,ae),Z}function J(k,C,P,B){var Z=te(P);if(typeof Z!="function")throw Error(n(150));if(P=Z.call(P),P==null)throw Error(n(151));for(var ne=Z=null,re=C,ae=C=0,tt=null,_e=P.next();re!==null&&!_e.done;ae++,_e=P.next()){re.index>ae?(tt=re,re=null):tt=re.sibling;var sr=D(k,re,_e.value,B);if(sr===null){re===null&&(re=tt);break}r&&re&&sr.alternate===null&&s(k,re),C=m(sr,C,ae),ne===null?Z=sr:ne.sibling=sr,ne=sr,re=tt}if(_e.done)return a(k,re),Oe&&Ar(k,ae),Z;if(re===null){for(;!_e.done;ae++,_e=P.next())_e=j(k,_e.value,B),_e!==null&&(C=m(_e,C,ae),ne===null?Z=_e:ne.sibling=_e,ne=_e);return Oe&&Ar(k,ae),Z}for(re=c(k,re);!_e.done;ae++,_e=P.next())_e=G(re,k,ae,_e.value,B),_e!==null&&(r&&_e.alternate!==null&&re.delete(_e.key===null?ae:_e.key),C=m(_e,C,ae),ne===null?Z=_e:ne.sibling=_e,ne=_e);return r&&re.forEach(function(RC){return s(k,RC)}),Oe&&Ar(k,ae),Z}function Ke(k,C,P,B){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case U:e:{for(var Z=P.key,ne=C;ne!==null;){if(ne.key===Z){if(Z=P.type,Z===X){if(ne.tag===7){a(k,ne.sibling),C=h(ne,P.props.children),C.return=k,k=C;break e}}else if(ne.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===Qe&&Km(Z)===ne.type){a(k,ne.sibling),C=h(ne,P.props),C.ref=Ls(k,ne,P),C.return=k,k=C;break e}a(k,ne);break}else s(k,ne);ne=ne.sibling}P.type===X?(C=Vr(P.props.children,k.mode,B,P.key),C.return=k,k=C):(B=el(P.type,P.key,P.props,null,k.mode,B),B.ref=Ls(k,C,P),B.return=k,k=B)}return v(k);case q:e:{for(ne=P.key;C!==null;){if(C.key===ne)if(C.tag===4&&C.stateNode.containerInfo===P.containerInfo&&C.stateNode.implementation===P.implementation){a(k,C.sibling),C=h(C,P.children||[]),C.return=k,k=C;break e}else{a(k,C);break}else s(k,C);C=C.sibling}C=ad(P,k.mode,B),C.return=k,k=C}return v(k);case Qe:return ne=P._init,Ke(k,C,ne(P._payload),B)}if(ds(P))return Q(k,C,P,B);if(te(P))return J(k,C,P,B);Ra(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,C!==null&&C.tag===6?(a(k,C.sibling),C=h(C,P),C.return=k,k=C):(a(k,C),C=od(P,k.mode,B),C.return=k,k=C),v(k)):a(k,C)}return Ke}var Ci=Gm(!0),qm=Gm(!1),Aa=qn(null),ba=null,Ti=null,gc=null;function yc(){gc=Ti=ba=null}function vc(r){var s=Aa.current;De(Aa),r._currentValue=s}function _c(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Ii(r,s){ba=r,gc=Ti=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Tt=!0),r.firstContext=null)}function Vt(r){var s=r._currentValue;if(gc!==r)if(r={context:r,memoizedValue:s,next:null},Ti===null){if(ba===null)throw Error(n(308));Ti=r,ba.dependencies={lanes:0,firstContext:r}}else Ti=Ti.next=r;return s}var br=null;function wc(r){br===null?br=[r]:br.push(r)}function Ym(r,s,a,c){var h=s.interleaved;return h===null?(a.next=a,wc(s)):(a.next=h.next,h.next=a),s.interleaved=a,Cn(r,c)}function Cn(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Xn=!1;function Sc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Tn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Jn(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,Cn(r,a)}return h=c.interleaved,h===null?(s.next=s,wc(c)):(s.next=h.next,h.next=s),c.interleaved=s,Cn(r,a)}function Da(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ou(r,a)}}function Xm(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Ma(r,s,a,c){var h=r.updateQueue;Xn=!1;var m=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var E=S,N=E.next;E.next=null,v===null?m=N:v.next=N,v=E;var L=r.alternate;L!==null&&(L=L.updateQueue,S=L.lastBaseUpdate,S!==v&&(S===null?L.firstBaseUpdate=N:S.next=N,L.lastBaseUpdate=E))}if(m!==null){var j=h.baseState;v=0,L=N=E=null,S=m;do{var D=S.lane,G=S.eventTime;if((c&D)===D){L!==null&&(L=L.next={eventTime:G,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Q=r,J=S;switch(D=s,G=a,J.tag){case 1:if(Q=J.payload,typeof Q=="function"){j=Q.call(G,j,D);break e}j=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=J.payload,D=typeof Q=="function"?Q.call(G,j,D):Q,D==null)break e;j=K({},j,D);break e;case 2:Xn=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,D=h.effects,D===null?h.effects=[S]:D.push(S))}else G={eventTime:G,lane:D,tag:S.tag,payload:S.payload,callback:S.callback,next:null},L===null?(N=L=G,E=j):L=L.next=G,v|=D;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;D=S,S=D.next,D.next=null,h.lastBaseUpdate=D,h.shared.pending=null}}while(!0);if(L===null&&(E=j),h.baseState=E,h.firstBaseUpdate=N,h.lastBaseUpdate=L,s=h.shared.interleaved,s!==null){h=s;do v|=h.lane,h=h.next;while(h!==s)}else m===null&&(h.shared.lanes=0);Or|=v,r.lanes=v,r.memoizedState=j}}function Jm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var Fs={},dn=qn(Fs),js=qn(Fs),Vs=qn(Fs);function Dr(r){if(r===Fs)throw Error(n(174));return r}function Ec(r,s){switch(Ne(Vs,s),Ne(js,r),Ne(dn,Fs),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:xu(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=xu(s,r)}De(dn),Ne(dn,s)}function ki(){De(dn),De(js),De(Vs)}function Zm(r){Dr(Vs.current);var s=Dr(dn.current),a=xu(s,r.type);s!==a&&(Ne(js,r),Ne(dn,a))}function xc(r){js.current===r&&(De(dn),De(js))}var Fe=qn(0);function Oa(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cc=[];function Tc(){for(var r=0;r<Cc.length;r++)Cc[r]._workInProgressVersionPrimary=null;Cc.length=0}var La=M.ReactCurrentDispatcher,Ic=M.ReactCurrentBatchConfig,Mr=0,je=null,Xe=null,Ze=null,Fa=!1,Us=!1,Bs=0,Jx=0;function ft(){throw Error(n(321))}function kc(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Qt(r[a],s[a]))return!1;return!0}function Pc(r,s,a,c,h,m){if(Mr=m,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,La.current=r===null||r.memoizedState===null?nC:rC,r=a(c,h),Us){m=0;do{if(Us=!1,Bs=0,25<=m)throw Error(n(301));m+=1,Ze=Xe=null,s.updateQueue=null,La.current=iC,r=a(c,h)}while(Us)}if(La.current=Ua,s=Xe!==null&&Xe.next!==null,Mr=0,Ze=Xe=je=null,Fa=!1,s)throw Error(n(300));return r}function Nc(){var r=Bs!==0;return Bs=0,r}function hn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?je.memoizedState=Ze=r:Ze=Ze.next=r,Ze}function Ut(){if(Xe===null){var r=je.alternate;r=r!==null?r.memoizedState:null}else r=Xe.next;var s=Ze===null?je.memoizedState:Ze.next;if(s!==null)Ze=s,Xe=r;else{if(r===null)throw Error(n(310));Xe=r,r={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Ze===null?je.memoizedState=Ze=r:Ze=Ze.next=r}return Ze}function zs(r,s){return typeof s=="function"?s(r):s}function Rc(r){var s=Ut(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=Xe,h=c.baseQueue,m=a.pending;if(m!==null){if(h!==null){var v=h.next;h.next=m.next,m.next=v}c.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,c=c.baseState;var S=v=null,E=null,N=m;do{var L=N.lane;if((Mr&L)===L)E!==null&&(E=E.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),c=N.hasEagerState?N.eagerState:r(c,N.action);else{var j={lane:L,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};E===null?(S=E=j,v=c):E=E.next=j,je.lanes|=L,Or|=L}N=N.next}while(N!==null&&N!==m);E===null?v=c:E.next=S,Qt(c,s.memoizedState)||(Tt=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=E,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do m=h.lane,je.lanes|=m,Or|=m,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Ac(r){var s=Ut(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do m=r(m,v.action),v=v.next;while(v!==h);Qt(m,s.memoizedState)||(Tt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,c]}function eg(){}function tg(r,s){var a=je,c=Ut(),h=s(),m=!Qt(c.memoizedState,h);if(m&&(c.memoizedState=h,Tt=!0),c=c.queue,bc(ig.bind(null,a,c,r),[r]),c.getSnapshot!==s||m||Ze!==null&&Ze.memoizedState.tag&1){if(a.flags|=2048,Ws(9,rg.bind(null,a,c,h,s),void 0,null),et===null)throw Error(n(349));(Mr&30)!==0||ng(a,s,h)}return h}function ng(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=je.updateQueue,s===null?(s={lastEffect:null,stores:null},je.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function rg(r,s,a,c){s.value=a,s.getSnapshot=c,sg(s)&&og(r)}function ig(r,s,a){return a(function(){sg(s)&&og(r)})}function sg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Qt(r,a)}catch{return!0}}function og(r){var s=Cn(r,1);s!==null&&tn(s,r,1,-1)}function ag(r){var s=hn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zs,lastRenderedState:r},s.queue=r,r=r.dispatch=tC.bind(null,je,r),[s.memoizedState,r]}function Ws(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=je.updateQueue,s===null?(s={lastEffect:null,stores:null},je.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function lg(){return Ut().memoizedState}function ja(r,s,a,c){var h=hn();je.flags|=r,h.memoizedState=Ws(1|s,a,void 0,c===void 0?null:c)}function Va(r,s,a,c){var h=Ut();c=c===void 0?null:c;var m=void 0;if(Xe!==null){var v=Xe.memoizedState;if(m=v.destroy,c!==null&&kc(c,v.deps)){h.memoizedState=Ws(s,a,m,c);return}}je.flags|=r,h.memoizedState=Ws(1|s,a,m,c)}function ug(r,s){return ja(8390656,8,r,s)}function bc(r,s){return Va(2048,8,r,s)}function cg(r,s){return Va(4,2,r,s)}function dg(r,s){return Va(4,4,r,s)}function hg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function fg(r,s,a){return a=a!=null?a.concat([r]):null,Va(4,4,hg.bind(null,s,r),a)}function Dc(){}function pg(r,s){var a=Ut();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&kc(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function mg(r,s){var a=Ut();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&kc(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function gg(r,s,a){return(Mr&21)===0?(r.baseState&&(r.baseState=!1,Tt=!0),r.memoizedState=a):(Qt(a,s)||(a=Kp(),je.lanes|=a,Or|=a,r.baseState=!0),s)}function Zx(r,s){var a=Ce;Ce=a!==0&&4>a?a:4,r(!0);var c=Ic.transition;Ic.transition={};try{r(!1),s()}finally{Ce=a,Ic.transition=c}}function yg(){return Ut().memoizedState}function eC(r,s,a){var c=nr(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},vg(r))_g(s,a);else if(a=Ym(r,s,a,c),a!==null){var h=_t();tn(a,r,c,h),wg(a,s,c)}}function tC(r,s,a){var c=nr(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(vg(r))_g(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var v=s.lastRenderedState,S=m(v,a);if(h.hasEagerState=!0,h.eagerState=S,Qt(S,v)){var E=s.interleaved;E===null?(h.next=h,wc(s)):(h.next=E.next,E.next=h),s.interleaved=h;return}}catch{}finally{}a=Ym(r,s,h,c),a!==null&&(h=_t(),tn(a,r,c,h),wg(a,s,c))}}function vg(r){var s=r.alternate;return r===je||s!==null&&s===je}function _g(r,s){Us=Fa=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function wg(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ou(r,a)}}var Ua={readContext:Vt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},nC={readContext:Vt,useCallback:function(r,s){return hn().memoizedState=[r,s===void 0?null:s],r},useContext:Vt,useEffect:ug,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,ja(4194308,4,hg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return ja(4194308,4,r,s)},useInsertionEffect:function(r,s){return ja(4,2,r,s)},useMemo:function(r,s){var a=hn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=hn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=eC.bind(null,je,r),[c.memoizedState,r]},useRef:function(r){var s=hn();return r={current:r},s.memoizedState=r},useState:ag,useDebugValue:Dc,useDeferredValue:function(r){return hn().memoizedState=r},useTransition:function(){var r=ag(!1),s=r[0];return r=Zx.bind(null,r[1]),hn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=je,h=hn();if(Oe){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),et===null)throw Error(n(349));(Mr&30)!==0||ng(c,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,ug(ig.bind(null,c,m,r),[r]),c.flags|=2048,Ws(9,rg.bind(null,c,m,a,s),void 0,null),a},useId:function(){var r=hn(),s=et.identifierPrefix;if(Oe){var a=xn,c=En;a=(c&~(1<<32-Yt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=Bs++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Jx++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},rC={readContext:Vt,useCallback:pg,useContext:Vt,useEffect:bc,useImperativeHandle:fg,useInsertionEffect:cg,useLayoutEffect:dg,useMemo:mg,useReducer:Rc,useRef:lg,useState:function(){return Rc(zs)},useDebugValue:Dc,useDeferredValue:function(r){var s=Ut();return gg(s,Xe.memoizedState,r)},useTransition:function(){var r=Rc(zs)[0],s=Ut().memoizedState;return[r,s]},useMutableSource:eg,useSyncExternalStore:tg,useId:yg,unstable_isNewReconciler:!1},iC={readContext:Vt,useCallback:pg,useContext:Vt,useEffect:bc,useImperativeHandle:fg,useInsertionEffect:cg,useLayoutEffect:dg,useMemo:mg,useReducer:Ac,useRef:lg,useState:function(){return Ac(zs)},useDebugValue:Dc,useDeferredValue:function(r){var s=Ut();return Xe===null?s.memoizedState=r:gg(s,Xe.memoizedState,r)},useTransition:function(){var r=Ac(zs)[0],s=Ut().memoizedState;return[r,s]},useMutableSource:eg,useSyncExternalStore:tg,useId:yg,unstable_isNewReconciler:!1};function Jt(r,s){if(r&&r.defaultProps){s=K({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Mc(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:K({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ba={isMounted:function(r){return(r=r._reactInternals)?kr(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=_t(),h=nr(r),m=Tn(c,h);m.payload=s,a!=null&&(m.callback=a),s=Jn(r,m,h),s!==null&&(tn(s,r,h,c),Da(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=_t(),h=nr(r),m=Tn(c,h);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=Jn(r,m,h),s!==null&&(tn(s,r,h,c),Da(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=_t(),c=nr(r),h=Tn(a,c);h.tag=2,s!=null&&(h.callback=s),s=Jn(r,h,c),s!==null&&(tn(s,r,c,a),Da(s,r,c))}};function Sg(r,s,a,c,h,m,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,m,v):s.prototype&&s.prototype.isPureReactComponent?!Ns(a,c)||!Ns(h,m):!0}function Eg(r,s,a){var c=!1,h=Yn,m=s.contextType;return typeof m=="object"&&m!==null?m=Vt(m):(h=Ct(s)?Nr:ht.current,c=s.contextTypes,m=(c=c!=null)?wi(r,h):Yn),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ba,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=m),s}function xg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Ba.enqueueReplaceState(s,s.state,null)}function Oc(r,s,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},Sc(r);var m=s.contextType;typeof m=="object"&&m!==null?h.context=Vt(m):(m=Ct(s)?Nr:ht.current,h.context=wi(r,m)),h.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(Mc(r,s,m,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ba.enqueueReplaceState(h,h.state,null),Ma(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function Pi(r,s){try{var a="",c=s;do a+=ye(c),c=c.return;while(c);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:h,digest:null}}function Lc(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Fc(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var sC=typeof WeakMap=="function"?WeakMap:Map;function Cg(r,s,a){a=Tn(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){qa||(qa=!0,Jc=c),Fc(r,s)},a}function Tg(r,s,a){a=Tn(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){Fc(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Fc(r,s),typeof c!="function"&&(er===null?er=new Set([this]):er.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function Ig(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new sC;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),r=_C.bind(null,r,s,a),s.then(r,r))}function kg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Pg(r,s,a,c,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Tn(-1,1),s.tag=2,Jn(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var oC=M.ReactCurrentOwner,Tt=!1;function vt(r,s,a,c){s.child=r===null?qm(s,null,a,c):Ci(s,r.child,a,c)}function Ng(r,s,a,c,h){a=a.render;var m=s.ref;return Ii(s,h),c=Pc(r,s,a,c,m,h),a=Nc(),r!==null&&!Tt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,In(r,s,h)):(Oe&&a&&dc(s),s.flags|=1,vt(r,s,c,h),s.child)}function Rg(r,s,a,c,h){if(r===null){var m=a.type;return typeof m=="function"&&!sd(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,Ag(r,s,m,c,h)):(r=el(a.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&h)===0){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Ns,a(v,c)&&r.ref===s.ref)return In(r,s,h)}return s.flags|=1,r=ir(m,c),r.ref=s.ref,r.return=s,s.child=r}function Ag(r,s,a,c,h){if(r!==null){var m=r.memoizedProps;if(Ns(m,c)&&r.ref===s.ref)if(Tt=!1,s.pendingProps=c=m,(r.lanes&h)!==0)(r.flags&131072)!==0&&(Tt=!0);else return s.lanes=r.lanes,In(r,s,h)}return jc(r,s,a,c,h)}function bg(r,s,a){var c=s.pendingProps,h=c.children,m=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Ri,Lt),Lt|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ne(Ri,Lt),Lt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:a,Ne(Ri,Lt),Lt|=c}else m!==null?(c=m.baseLanes|a,s.memoizedState=null):c=a,Ne(Ri,Lt),Lt|=c;return vt(r,s,h,a),s.child}function Dg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function jc(r,s,a,c,h){var m=Ct(a)?Nr:ht.current;return m=wi(s,m),Ii(s,h),a=Pc(r,s,a,c,m,h),c=Nc(),r!==null&&!Tt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,In(r,s,h)):(Oe&&c&&dc(s),s.flags|=1,vt(r,s,a,h),s.child)}function Mg(r,s,a,c,h){if(Ct(a)){var m=!0;Ta(s)}else m=!1;if(Ii(s,h),s.stateNode===null)Wa(r,s),Eg(s,a,c),Oc(s,a,c,h),c=!0;else if(r===null){var v=s.stateNode,S=s.memoizedProps;v.props=S;var E=v.context,N=a.contextType;typeof N=="object"&&N!==null?N=Vt(N):(N=Ct(a)?Nr:ht.current,N=wi(s,N));var L=a.getDerivedStateFromProps,j=typeof L=="function"||typeof v.getSnapshotBeforeUpdate=="function";j||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==c||E!==N)&&xg(s,v,c,N),Xn=!1;var D=s.memoizedState;v.state=D,Ma(s,c,v,h),E=s.memoizedState,S!==c||D!==E||xt.current||Xn?(typeof L=="function"&&(Mc(s,a,L,c),E=s.memoizedState),(S=Xn||Sg(s,a,S,c,D,E,N))?(j||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=E),v.props=c,v.state=E,v.context=N,c=S):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,Qm(r,s),S=s.memoizedProps,N=s.type===s.elementType?S:Jt(s.type,S),v.props=N,j=s.pendingProps,D=v.context,E=a.contextType,typeof E=="object"&&E!==null?E=Vt(E):(E=Ct(a)?Nr:ht.current,E=wi(s,E));var G=a.getDerivedStateFromProps;(L=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==j||D!==E)&&xg(s,v,c,E),Xn=!1,D=s.memoizedState,v.state=D,Ma(s,c,v,h);var Q=s.memoizedState;S!==j||D!==Q||xt.current||Xn?(typeof G=="function"&&(Mc(s,a,G,c),Q=s.memoizedState),(N=Xn||Sg(s,a,N,c,D,Q,E)||!1)?(L||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,Q,E),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,Q,E)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&D===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&D===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),v.props=c,v.state=Q,v.context=E,c=N):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&D===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&D===r.memoizedState||(s.flags|=1024),c=!1)}return Vc(r,s,a,c,m,h)}function Vc(r,s,a,c,h,m){Dg(r,s);var v=(s.flags&128)!==0;if(!c&&!v)return h&&Vm(s,a,!1),In(r,s,m);c=s.stateNode,oC.current=s;var S=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&v?(s.child=Ci(s,r.child,null,m),s.child=Ci(s,null,S,m)):vt(r,s,S,m),s.memoizedState=c.state,h&&Vm(s,a,!0),s.child}function Og(r){var s=r.stateNode;s.pendingContext?Fm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Fm(r,s.context,!1),Ec(r,s.containerInfo)}function Lg(r,s,a,c,h){return xi(),mc(h),s.flags|=256,vt(r,s,a,c),s.child}var Uc={dehydrated:null,treeContext:null,retryLane:0};function Bc(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fg(r,s,a){var c=s.pendingProps,h=Fe.current,m=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(h&2)!==0),S?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Ne(Fe,h&1),r===null)return pc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(v=c.children,r=c.fallback,m?(c=s.mode,m=s.child,v={mode:"hidden",children:v},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=v):m=tl(v,c,0,null),r=Vr(r,c,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=Bc(a),s.memoizedState=Uc,r):zc(s,v));if(h=r.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return aC(r,s,v,c,S,h,a);if(m){m=c.fallback,v=s.mode,h=r.child,S=h.sibling;var E={mode:"hidden",children:c.children};return(v&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=E,s.deletions=null):(c=ir(h,E),c.subtreeFlags=h.subtreeFlags&14680064),S!==null?m=ir(S,m):(m=Vr(m,v,a,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,v=r.child.memoizedState,v=v===null?Bc(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},m.memoizedState=v,m.childLanes=r.childLanes&~a,s.memoizedState=Uc,c}return m=r.child,r=m.sibling,c=ir(m,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function zc(r,s){return s=tl({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function za(r,s,a,c){return c!==null&&mc(c),Ci(s,r.child,null,a),r=zc(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function aC(r,s,a,c,h,m,v){if(a)return s.flags&256?(s.flags&=-257,c=Lc(Error(n(422))),za(r,s,v,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=c.fallback,h=s.mode,c=tl({mode:"visible",children:c.children},h,0,null),m=Vr(m,h,v,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,(s.mode&1)!==0&&Ci(s,r.child,null,v),s.child.memoizedState=Bc(v),s.memoizedState=Uc,m);if((s.mode&1)===0)return za(r,s,v,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var S=c.dgst;return c=S,m=Error(n(419)),c=Lc(m,c,void 0),za(r,s,v,c)}if(S=(v&r.childLanes)!==0,Tt||S){if(c=et,c!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|v))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,Cn(r,h),tn(c,r,h,-1))}return id(),c=Lc(Error(n(421))),za(r,s,v,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=wC.bind(null,r),h._reactRetry=s,null):(r=m.treeContext,Ot=Gn(h.nextSibling),Mt=s,Oe=!0,Xt=null,r!==null&&(Ft[jt++]=En,Ft[jt++]=xn,Ft[jt++]=Rr,En=r.id,xn=r.overflow,Rr=s),s=zc(s,c.children),s.flags|=4096,s)}function jg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),_c(r.return,s,a)}function Wc(r,s,a,c,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=a,m.tailMode=h)}function Vg(r,s,a){var c=s.pendingProps,h=c.revealOrder,m=c.tail;if(vt(r,s,c.children,a),c=Fe.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jg(r,a,s);else if(r.tag===19)jg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ne(Fe,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&Oa(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Wc(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Oa(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}Wc(s,!0,a,null,m);break;case"together":Wc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Wa(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function In(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Or|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=ir(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=ir(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function lC(r,s,a){switch(s.tag){case 3:Og(s),xi();break;case 5:Zm(s);break;case 1:Ct(s.type)&&Ta(s);break;case 4:Ec(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;Ne(Aa,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ne(Fe,Fe.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Fg(r,s,a):(Ne(Fe,Fe.current&1),r=In(r,s,a),r!==null?r.sibling:null);Ne(Fe,Fe.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Vg(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ne(Fe,Fe.current),c)break;return null;case 22:case 23:return s.lanes=0,bg(r,s,a)}return In(r,s,a)}var Ug,$c,Bg,zg;Ug=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},$c=function(){},Bg=function(r,s,a,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,Dr(dn.current);var m=null;switch(a){case"input":h=_u(r,h),c=_u(r,c),m=[];break;case"select":h=K({},h,{value:void 0}),c=K({},c,{value:void 0}),m=[];break;case"textarea":h=Eu(r,h),c=Eu(r,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Ea)}Cu(a,c);var v;a=null;for(N in h)if(!c.hasOwnProperty(N)&&h.hasOwnProperty(N)&&h[N]!=null)if(N==="style"){var S=h[N];for(v in S)S.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?m||(m=[]):(m=m||[]).push(N,null));for(N in c){var E=c[N];if(S=h?.[N],c.hasOwnProperty(N)&&E!==S&&(E!=null||S!=null))if(N==="style")if(S){for(v in S)!S.hasOwnProperty(v)||E&&E.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in E)E.hasOwnProperty(v)&&S[v]!==E[v]&&(a||(a={}),a[v]=E[v])}else a||(m||(m=[]),m.push(N,a)),a=E;else N==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,S=S?S.__html:void 0,E!=null&&S!==E&&(m=m||[]).push(N,E)):N==="children"?typeof E!="string"&&typeof E!="number"||(m=m||[]).push(N,""+E):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(o.hasOwnProperty(N)?(E!=null&&N==="onScroll"&&be("scroll",r),m||S===E||(m=[])):(m=m||[]).push(N,E))}a&&(m=m||[]).push("style",a);var N=m;(s.updateQueue=N)&&(s.flags|=4)}},zg=function(r,s,a,c){a!==c&&(s.flags|=4)};function $s(r,s){if(!Oe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function pt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function uC(r,s,a){var c=s.pendingProps;switch(hc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return Ct(s.type)&&Ca(),pt(s),null;case 3:return c=s.stateNode,ki(),De(xt),De(ht),Tc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Na(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xt!==null&&(td(Xt),Xt=null))),$c(r,s),pt(s),null;case 5:xc(s);var h=Dr(Vs.current);if(a=s.type,r!==null&&s.stateNode!=null)Bg(r,s,a,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return pt(s),null}if(r=Dr(dn.current),Na(s)){c=s.stateNode,a=s.type;var m=s.memoizedProps;switch(c[cn]=s,c[Ms]=m,r=(s.mode&1)!==0,a){case"dialog":be("cancel",c),be("close",c);break;case"iframe":case"object":case"embed":be("load",c);break;case"video":case"audio":for(h=0;h<As.length;h++)be(As[h],c);break;case"source":be("error",c);break;case"img":case"image":case"link":be("error",c),be("load",c);break;case"details":be("toggle",c);break;case"input":Ep(c,m),be("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},be("invalid",c);break;case"textarea":Tp(c,m),be("invalid",c)}Cu(a,m),h=null;for(var v in m)if(m.hasOwnProperty(v)){var S=m[v];v==="children"?typeof S=="string"?c.textContent!==S&&(m.suppressHydrationWarning!==!0&&Sa(c.textContent,S,r),h=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&Sa(c.textContent,S,r),h=["children",""+S]):o.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&be("scroll",c)}switch(a){case"input":Jo(c),Cp(c,m,!0);break;case"textarea":Jo(c),kp(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Ea)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Pp(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=v.createElement(a,{is:c.is}):(r=v.createElement(a),a==="select"&&(v=r,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):r=v.createElementNS(r,a),r[cn]=s,r[Ms]=c,Ug(r,s,!1,!1),s.stateNode=r;e:{switch(v=Tu(a,c),a){case"dialog":be("cancel",r),be("close",r),h=c;break;case"iframe":case"object":case"embed":be("load",r),h=c;break;case"video":case"audio":for(h=0;h<As.length;h++)be(As[h],r);h=c;break;case"source":be("error",r),h=c;break;case"img":case"image":case"link":be("error",r),be("load",r),h=c;break;case"details":be("toggle",r),h=c;break;case"input":Ep(r,c),h=_u(r,c),be("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=K({},c,{value:void 0}),be("invalid",r);break;case"textarea":Tp(r,c),h=Eu(r,c),be("invalid",r);break;default:h=c}Cu(a,h),S=h;for(m in S)if(S.hasOwnProperty(m)){var E=S[m];m==="style"?Ap(r,E):m==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Np(r,E)):m==="children"?typeof E=="string"?(a!=="textarea"||E!=="")&&hs(r,E):typeof E=="number"&&hs(r,""+E):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?E!=null&&m==="onScroll"&&be("scroll",r):E!=null&&b(r,m,E,v))}switch(a){case"input":Jo(r),Cp(r,c,!1);break;case"textarea":Jo(r),kp(r);break;case"option":c.value!=null&&r.setAttribute("value",""+xe(c.value));break;case"select":r.multiple=!!c.multiple,m=c.value,m!=null?li(r,!!c.multiple,m,!1):c.defaultValue!=null&&li(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=Ea)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return pt(s),null;case 6:if(r&&s.stateNode!=null)zg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(a=Dr(Vs.current),Dr(dn.current),Na(s)){if(c=s.stateNode,a=s.memoizedProps,c[cn]=s,(m=c.nodeValue!==a)&&(r=Mt,r!==null))switch(r.tag){case 3:Sa(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Sa(c.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[cn]=s,s.stateNode=c}return pt(s),null;case 13:if(De(Fe),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Oe&&Ot!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hm(),xi(),s.flags|=98560,m=!1;else if(m=Na(s),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[cn]=s}else xi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),m=!1}else Xt!==null&&(td(Xt),Xt=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Fe.current&1)!==0?Je===0&&(Je=3):id())),s.updateQueue!==null&&(s.flags|=4),pt(s),null);case 4:return ki(),$c(r,s),r===null&&bs(s.stateNode.containerInfo),pt(s),null;case 10:return vc(s.type._context),pt(s),null;case 17:return Ct(s.type)&&Ca(),pt(s),null;case 19:if(De(Fe),m=s.memoizedState,m===null)return pt(s),null;if(c=(s.flags&128)!==0,v=m.rendering,v===null)if(c)$s(m,!1);else{if(Je!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(v=Oa(r),v!==null){for(s.flags|=128,$s(m,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)m=a,r=c,m.flags&=14680066,v=m.alternate,v===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=v.childLanes,m.lanes=v.lanes,m.child=v.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=v.memoizedProps,m.memoizedState=v.memoizedState,m.updateQueue=v.updateQueue,m.type=v.type,r=v.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ne(Fe,Fe.current&1|2),s.child}r=r.sibling}m.tail!==null&&He()>Ai&&(s.flags|=128,c=!0,$s(m,!1),s.lanes=4194304)}else{if(!c)if(r=Oa(v),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),$s(m,!0),m.tail===null&&m.tailMode==="hidden"&&!v.alternate&&!Oe)return pt(s),null}else 2*He()-m.renderingStartTime>Ai&&a!==1073741824&&(s.flags|=128,c=!0,$s(m,!1),s.lanes=4194304);m.isBackwards?(v.sibling=s.child,s.child=v):(a=m.last,a!==null?a.sibling=v:s.child=v,m.last=v)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=He(),s.sibling=null,a=Fe.current,Ne(Fe,c?a&1|2:a&1),s):(pt(s),null);case 22:case 23:return rd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Lt&1073741824)!==0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function cC(r,s){switch(hc(s),s.tag){case 1:return Ct(s.type)&&Ca(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ki(),De(xt),De(ht),Tc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return xc(s),null;case 13:if(De(Fe),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));xi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return De(Fe),null;case 4:return ki(),null;case 10:return vc(s.type._context),null;case 22:case 23:return rd(),null;case 24:return null;default:return null}}var $a=!1,mt=!1,dC=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ni(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Be(r,s,c)}else a.current=null}function Hc(r,s,a){try{a()}catch(c){Be(r,s,c)}}var Wg=!1;function hC(r,s){if(rc=ca,r=Sm(),Yu(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var v=0,S=-1,E=-1,N=0,L=0,j=r,D=null;t:for(;;){for(var G;j!==a||h!==0&&j.nodeType!==3||(S=v+h),j!==m||c!==0&&j.nodeType!==3||(E=v+c),j.nodeType===3&&(v+=j.nodeValue.length),(G=j.firstChild)!==null;)D=j,j=G;for(;;){if(j===r)break t;if(D===a&&++N===h&&(S=v),D===m&&++L===c&&(E=v),(G=j.nextSibling)!==null)break;j=D,D=j.parentNode}j=G}a=S===-1||E===-1?null:{start:S,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(ic={focusedElem:r,selectionRange:a},ca=!1,Y=s;Y!==null;)if(s=Y,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Y=r;else for(;Y!==null;){s=Y;try{var Q=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var J=Q.memoizedProps,Ke=Q.memoizedState,k=s.stateNode,C=k.getSnapshotBeforeUpdate(s.elementType===s.type?J:Jt(s.type,J),Ke);k.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var P=s.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(B){Be(s,s.return,B)}if(r=s.sibling,r!==null){r.return=s.return,Y=r;break}Y=s.return}return Q=Wg,Wg=!1,Q}function Hs(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var m=h.destroy;h.destroy=void 0,m!==void 0&&Hc(s,a,m)}h=h.next}while(h!==c)}}function Ha(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function Kc(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function $g(r){var s=r.alternate;s!==null&&(r.alternate=null,$g(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[cn],delete s[Ms],delete s[lc],delete s[qx],delete s[Yx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Hg(r){return r.tag===5||r.tag===3||r.tag===4}function Kg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Hg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gc(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ea));else if(c!==4&&(r=r.child,r!==null))for(Gc(r,s,a),r=r.sibling;r!==null;)Gc(r,s,a),r=r.sibling}function qc(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(qc(r,s,a),r=r.sibling;r!==null;)qc(r,s,a),r=r.sibling}var ot=null,Zt=!1;function Zn(r,s,a){for(a=a.child;a!==null;)Gg(r,s,a),a=a.sibling}function Gg(r,s,a){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(ia,a)}catch{}switch(a.tag){case 5:mt||Ni(a,s);case 6:var c=ot,h=Zt;ot=null,Zn(r,s,a),ot=c,Zt=h,ot!==null&&(Zt?(r=ot,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):ot.removeChild(a.stateNode));break;case 18:ot!==null&&(Zt?(r=ot,a=a.stateNode,r.nodeType===8?ac(r.parentNode,a):r.nodeType===1&&ac(r,a),xs(r)):ac(ot,a.stateNode));break;case 4:c=ot,h=Zt,ot=a.stateNode.containerInfo,Zt=!0,Zn(r,s,a),ot=c,Zt=h;break;case 0:case 11:case 14:case 15:if(!mt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,v=m.destroy;m=m.tag,v!==void 0&&((m&2)!==0||(m&4)!==0)&&Hc(a,s,v),h=h.next}while(h!==c)}Zn(r,s,a);break;case 1:if(!mt&&(Ni(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){Be(a,s,S)}Zn(r,s,a);break;case 21:Zn(r,s,a);break;case 22:a.mode&1?(mt=(c=mt)||a.memoizedState!==null,Zn(r,s,a),mt=c):Zn(r,s,a);break;default:Zn(r,s,a)}}function qg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new dC),s.forEach(function(c){var h=SC.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function en(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var m=r,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 5:ot=S.stateNode,Zt=!1;break e;case 3:ot=S.stateNode.containerInfo,Zt=!0;break e;case 4:ot=S.stateNode.containerInfo,Zt=!0;break e}S=S.return}if(ot===null)throw Error(n(160));Gg(m,v,h),ot=null,Zt=!1;var E=h.alternate;E!==null&&(E.return=null),h.return=null}catch(N){Be(h,s,N)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Yg(s,r),s=s.sibling}function Yg(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(en(s,r),fn(r),c&4){try{Hs(3,r,r.return),Ha(3,r)}catch(J){Be(r,r.return,J)}try{Hs(5,r,r.return)}catch(J){Be(r,r.return,J)}}break;case 1:en(s,r),fn(r),c&512&&a!==null&&Ni(a,a.return);break;case 5:if(en(s,r),fn(r),c&512&&a!==null&&Ni(a,a.return),r.flags&32){var h=r.stateNode;try{hs(h,"")}catch(J){Be(r,r.return,J)}}if(c&4&&(h=r.stateNode,h!=null)){var m=r.memoizedProps,v=a!==null?a.memoizedProps:m,S=r.type,E=r.updateQueue;if(r.updateQueue=null,E!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&xp(h,m),Tu(S,v);var N=Tu(S,m);for(v=0;v<E.length;v+=2){var L=E[v],j=E[v+1];L==="style"?Ap(h,j):L==="dangerouslySetInnerHTML"?Np(h,j):L==="children"?hs(h,j):b(h,L,j,N)}switch(S){case"input":wu(h,m);break;case"textarea":Ip(h,m);break;case"select":var D=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var G=m.value;G!=null?li(h,!!m.multiple,G,!1):D!==!!m.multiple&&(m.defaultValue!=null?li(h,!!m.multiple,m.defaultValue,!0):li(h,!!m.multiple,m.multiple?[]:"",!1))}h[Ms]=m}catch(J){Be(r,r.return,J)}}break;case 6:if(en(s,r),fn(r),c&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,m=r.memoizedProps;try{h.nodeValue=m}catch(J){Be(r,r.return,J)}}break;case 3:if(en(s,r),fn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{xs(s.containerInfo)}catch(J){Be(r,r.return,J)}break;case 4:en(s,r),fn(r);break;case 13:en(s,r),fn(r),h=r.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(Xc=He())),c&4&&qg(r);break;case 22:if(L=a!==null&&a.memoizedState!==null,r.mode&1?(mt=(N=mt)||L,en(s,r),mt=N):en(s,r),fn(r),c&8192){if(N=r.memoizedState!==null,(r.stateNode.isHidden=N)&&!L&&(r.mode&1)!==0)for(Y=r,L=r.child;L!==null;){for(j=Y=L;Y!==null;){switch(D=Y,G=D.child,D.tag){case 0:case 11:case 14:case 15:Hs(4,D,D.return);break;case 1:Ni(D,D.return);var Q=D.stateNode;if(typeof Q.componentWillUnmount=="function"){c=D,a=D.return;try{s=c,Q.props=s.memoizedProps,Q.state=s.memoizedState,Q.componentWillUnmount()}catch(J){Be(c,a,J)}}break;case 5:Ni(D,D.return);break;case 22:if(D.memoizedState!==null){Jg(j);continue}}G!==null?(G.return=D,Y=G):Jg(j)}L=L.sibling}e:for(L=null,j=r;;){if(j.tag===5){if(L===null){L=j;try{h=j.stateNode,N?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=j.stateNode,E=j.memoizedProps.style,v=E!=null&&E.hasOwnProperty("display")?E.display:null,S.style.display=Rp("display",v))}catch(J){Be(r,r.return,J)}}}else if(j.tag===6){if(L===null)try{j.stateNode.nodeValue=N?"":j.memoizedProps}catch(J){Be(r,r.return,J)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===r)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===r)break e;for(;j.sibling===null;){if(j.return===null||j.return===r)break e;L===j&&(L=null),j=j.return}L===j&&(L=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:en(s,r),fn(r),c&4&&qg(r);break;case 21:break;default:en(s,r),fn(r)}}function fn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Hg(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(hs(h,""),c.flags&=-33);var m=Kg(r);qc(r,m,h);break;case 3:case 4:var v=c.stateNode.containerInfo,S=Kg(r);Gc(r,S,v);break;default:throw Error(n(161))}}catch(E){Be(r,r.return,E)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function fC(r,s,a){Y=r,Qg(r)}function Qg(r,s,a){for(var c=(r.mode&1)!==0;Y!==null;){var h=Y,m=h.child;if(h.tag===22&&c){var v=h.memoizedState!==null||$a;if(!v){var S=h.alternate,E=S!==null&&S.memoizedState!==null||mt;S=$a;var N=mt;if($a=v,(mt=E)&&!N)for(Y=h;Y!==null;)v=Y,E=v.child,v.tag===22&&v.memoizedState!==null?Zg(h):E!==null?(E.return=v,Y=E):Zg(h);for(;m!==null;)Y=m,Qg(m),m=m.sibling;Y=h,$a=S,mt=N}Xg(r)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,Y=m):Xg(r)}}function Xg(r){for(;Y!==null;){var s=Y;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:mt||Ha(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!mt)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Jt(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Jm(s,m,c);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Jm(s,v,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var E=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&a.focus();break;case"img":E.src&&(a.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var N=s.alternate;if(N!==null){var L=N.memoizedState;if(L!==null){var j=L.dehydrated;j!==null&&xs(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}mt||s.flags&512&&Kc(s)}catch(D){Be(s,s.return,D)}}if(s===r){Y=null;break}if(a=s.sibling,a!==null){a.return=s.return,Y=a;break}Y=s.return}}function Jg(r){for(;Y!==null;){var s=Y;if(s===r){Y=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Y=a;break}Y=s.return}}function Zg(r){for(;Y!==null;){var s=Y;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ha(4,s)}catch(E){Be(s,a,E)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(E){Be(s,h,E)}}var m=s.return;try{Kc(s)}catch(E){Be(s,m,E)}break;case 5:var v=s.return;try{Kc(s)}catch(E){Be(s,v,E)}}}catch(E){Be(s,s.return,E)}if(s===r){Y=null;break}var S=s.sibling;if(S!==null){S.return=s.return,Y=S;break}Y=s.return}}var pC=Math.ceil,Ka=M.ReactCurrentDispatcher,Yc=M.ReactCurrentOwner,Bt=M.ReactCurrentBatchConfig,ge=0,et=null,qe=null,at=0,Lt=0,Ri=qn(0),Je=0,Ks=null,Or=0,Ga=0,Qc=0,Gs=null,It=null,Xc=0,Ai=1/0,kn=null,qa=!1,Jc=null,er=null,Ya=!1,tr=null,Qa=0,qs=0,Zc=null,Xa=-1,Ja=0;function _t(){return(ge&6)!==0?He():Xa!==-1?Xa:Xa=He()}function nr(r){return(r.mode&1)===0?1:(ge&2)!==0&&at!==0?at&-at:Xx.transition!==null?(Ja===0&&(Ja=Kp()),Ja):(r=Ce,r!==0||(r=window.event,r=r===void 0?16:tm(r.type)),r)}function tn(r,s,a,c){if(50<qs)throw qs=0,Zc=null,Error(n(185));vs(r,a,c),((ge&2)===0||r!==et)&&(r===et&&((ge&2)===0&&(Ga|=a),Je===4&&rr(r,at)),kt(r,c),a===1&&ge===0&&(s.mode&1)===0&&(Ai=He()+500,Ia&&Qn()))}function kt(r,s){var a=r.callbackNode;XE(r,s);var c=aa(r,r===et?at:0);if(c===0)a!==null&&Wp(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Wp(a),s===1)r.tag===0?Qx(ty.bind(null,r)):Um(ty.bind(null,r)),Kx(function(){(ge&6)===0&&Qn()}),a=null;else{switch(Gp(c)){case 1:a=bu;break;case 4:a=$p;break;case 16:a=ra;break;case 536870912:a=Hp;break;default:a=ra}a=uy(a,ey.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function ey(r,s){if(Xa=-1,Ja=0,(ge&6)!==0)throw Error(n(327));var a=r.callbackNode;if(bi()&&r.callbackNode!==a)return null;var c=aa(r,r===et?at:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=Za(r,c);else{s=c;var h=ge;ge|=2;var m=ry();(et!==r||at!==s)&&(kn=null,Ai=He()+500,Fr(r,s));do try{yC();break}catch(S){ny(r,S)}while(!0);yc(),Ka.current=m,ge=h,qe!==null?s=0:(et=null,at=0,s=Je)}if(s!==0){if(s===2&&(h=Du(r),h!==0&&(c=h,s=ed(r,h))),s===1)throw a=Ks,Fr(r,0),rr(r,c),kt(r,He()),a;if(s===6)rr(r,c);else{if(h=r.current.alternate,(c&30)===0&&!mC(h)&&(s=Za(r,c),s===2&&(m=Du(r),m!==0&&(c=m,s=ed(r,m))),s===1))throw a=Ks,Fr(r,0),rr(r,c),kt(r,He()),a;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:jr(r,It,kn);break;case 3:if(rr(r,c),(c&130023424)===c&&(s=Xc+500-He(),10<s)){if(aa(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){_t(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=oc(jr.bind(null,r,It,kn),s);break}jr(r,It,kn);break;case 4:if(rr(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var v=31-Yt(c);m=1<<v,v=s[v],v>h&&(h=v),c&=~m}if(c=h,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*pC(c/1960))-c,10<c){r.timeoutHandle=oc(jr.bind(null,r,It,kn),c);break}jr(r,It,kn);break;case 5:jr(r,It,kn);break;default:throw Error(n(329))}}}return kt(r,He()),r.callbackNode===a?ey.bind(null,r):null}function ed(r,s){var a=Gs;return r.current.memoizedState.isDehydrated&&(Fr(r,s).flags|=256),r=Za(r,s),r!==2&&(s=It,It=a,s!==null&&td(s)),r}function td(r){It===null?It=r:It.push.apply(It,r)}function mC(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],m=h.getSnapshot;h=h.value;try{if(!Qt(m(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function rr(r,s){for(s&=~Qc,s&=~Ga,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Yt(s),c=1<<a;r[a]=-1,s&=~c}}function ty(r){if((ge&6)!==0)throw Error(n(327));bi();var s=aa(r,0);if((s&1)===0)return kt(r,He()),null;var a=Za(r,s);if(r.tag!==0&&a===2){var c=Du(r);c!==0&&(s=c,a=ed(r,c))}if(a===1)throw a=Ks,Fr(r,0),rr(r,s),kt(r,He()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,jr(r,It,kn),kt(r,He()),null}function nd(r,s){var a=ge;ge|=1;try{return r(s)}finally{ge=a,ge===0&&(Ai=He()+500,Ia&&Qn())}}function Lr(r){tr!==null&&tr.tag===0&&(ge&6)===0&&bi();var s=ge;ge|=1;var a=Bt.transition,c=Ce;try{if(Bt.transition=null,Ce=1,r)return r()}finally{Ce=c,Bt.transition=a,ge=s,(ge&6)===0&&Qn()}}function rd(){Lt=Ri.current,De(Ri)}function Fr(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Hx(a)),qe!==null)for(a=qe.return;a!==null;){var c=a;switch(hc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ca();break;case 3:ki(),De(xt),De(ht),Tc();break;case 5:xc(c);break;case 4:ki();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:vc(c.type._context);break;case 22:case 23:rd()}a=a.return}if(et=r,qe=r=ir(r.current,null),at=Lt=s,Je=0,Ks=null,Qc=Ga=Or=0,It=Gs=null,br!==null){for(s=0;s<br.length;s++)if(a=br[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,m=a.pending;if(m!==null){var v=m.next;m.next=h,c.next=v}a.pending=c}br=null}return r}function ny(r,s){do{var a=qe;try{if(yc(),La.current=Ua,Fa){for(var c=je.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Fa=!1}if(Mr=0,Ze=Xe=je=null,Us=!1,Bs=0,Yc.current=null,a===null||a.return===null){Je=1,Ks=s,qe=null;break}e:{var m=r,v=a.return,S=a,E=s;if(s=at,S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var N=E,L=S,j=L.tag;if((L.mode&1)===0&&(j===0||j===11||j===15)){var D=L.alternate;D?(L.updateQueue=D.updateQueue,L.memoizedState=D.memoizedState,L.lanes=D.lanes):(L.updateQueue=null,L.memoizedState=null)}var G=kg(v);if(G!==null){G.flags&=-257,Pg(G,v,S,m,s),G.mode&1&&Ig(m,N,s),s=G,E=N;var Q=s.updateQueue;if(Q===null){var J=new Set;J.add(E),s.updateQueue=J}else Q.add(E);break e}else{if((s&1)===0){Ig(m,N,s),id();break e}E=Error(n(426))}}else if(Oe&&S.mode&1){var Ke=kg(v);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),Pg(Ke,v,S,m,s),mc(Pi(E,S));break e}}m=E=Pi(E,S),Je!==4&&(Je=2),Gs===null?Gs=[m]:Gs.push(m),m=v;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var k=Cg(m,E,s);Xm(m,k);break e;case 1:S=E;var C=m.type,P=m.stateNode;if((m.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(er===null||!er.has(P)))){m.flags|=65536,s&=-s,m.lanes|=s;var B=Tg(m,S,s);Xm(m,B);break e}}m=m.return}while(m!==null)}sy(a)}catch(Z){s=Z,qe===a&&a!==null&&(qe=a=a.return);continue}break}while(!0)}function ry(){var r=Ka.current;return Ka.current=Ua,r===null?Ua:r}function id(){(Je===0||Je===3||Je===2)&&(Je=4),et===null||(Or&268435455)===0&&(Ga&268435455)===0||rr(et,at)}function Za(r,s){var a=ge;ge|=2;var c=ry();(et!==r||at!==s)&&(kn=null,Fr(r,s));do try{gC();break}catch(h){ny(r,h)}while(!0);if(yc(),ge=a,Ka.current=c,qe!==null)throw Error(n(261));return et=null,at=0,Je}function gC(){for(;qe!==null;)iy(qe)}function yC(){for(;qe!==null&&!zE();)iy(qe)}function iy(r){var s=ly(r.alternate,r,Lt);r.memoizedProps=r.pendingProps,s===null?sy(r):qe=s,Yc.current=null}function sy(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=uC(a,s,Lt),a!==null){qe=a;return}}else{if(a=cC(a,s),a!==null){a.flags&=32767,qe=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Je=6,qe=null;return}}if(s=s.sibling,s!==null){qe=s;return}qe=s=r}while(s!==null);Je===0&&(Je=5)}function jr(r,s,a){var c=Ce,h=Bt.transition;try{Bt.transition=null,Ce=1,vC(r,s,a,c)}finally{Bt.transition=h,Ce=c}return null}function vC(r,s,a,c){do bi();while(tr!==null);if((ge&6)!==0)throw Error(n(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(JE(r,m),r===et&&(qe=et=null,at=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ya||(Ya=!0,uy(ra,function(){return bi(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Bt.transition,Bt.transition=null;var v=Ce;Ce=1;var S=ge;ge|=4,Yc.current=null,hC(r,a),Yg(a,r),jx(ic),ca=!!rc,ic=rc=null,r.current=a,fC(a),WE(),ge=S,Ce=v,Bt.transition=m}else r.current=a;if(Ya&&(Ya=!1,tr=r,Qa=h),m=r.pendingLanes,m===0&&(er=null),KE(a.stateNode),kt(r,He()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(qa)throw qa=!1,r=Jc,Jc=null,r;return(Qa&1)!==0&&r.tag!==0&&bi(),m=r.pendingLanes,(m&1)!==0?r===Zc?qs++:(qs=0,Zc=r):qs=0,Qn(),null}function bi(){if(tr!==null){var r=Gp(Qa),s=Bt.transition,a=Ce;try{if(Bt.transition=null,Ce=16>r?16:r,tr===null)var c=!1;else{if(r=tr,tr=null,Qa=0,(ge&6)!==0)throw Error(n(331));var h=ge;for(ge|=4,Y=r.current;Y!==null;){var m=Y,v=m.child;if((Y.flags&16)!==0){var S=m.deletions;if(S!==null){for(var E=0;E<S.length;E++){var N=S[E];for(Y=N;Y!==null;){var L=Y;switch(L.tag){case 0:case 11:case 15:Hs(8,L,m)}var j=L.child;if(j!==null)j.return=L,Y=j;else for(;Y!==null;){L=Y;var D=L.sibling,G=L.return;if($g(L),L===N){Y=null;break}if(D!==null){D.return=G,Y=D;break}Y=G}}}var Q=m.alternate;if(Q!==null){var J=Q.child;if(J!==null){Q.child=null;do{var Ke=J.sibling;J.sibling=null,J=Ke}while(J!==null)}}Y=m}}if((m.subtreeFlags&2064)!==0&&v!==null)v.return=m,Y=v;else e:for(;Y!==null;){if(m=Y,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Hs(9,m,m.return)}var k=m.sibling;if(k!==null){k.return=m.return,Y=k;break e}Y=m.return}}var C=r.current;for(Y=C;Y!==null;){v=Y;var P=v.child;if((v.subtreeFlags&2064)!==0&&P!==null)P.return=v,Y=P;else e:for(v=C;Y!==null;){if(S=Y,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Ha(9,S)}}catch(Z){Be(S,S.return,Z)}if(S===v){Y=null;break e}var B=S.sibling;if(B!==null){B.return=S.return,Y=B;break e}Y=S.return}}if(ge=h,Qn(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(ia,r)}catch{}c=!0}return c}finally{Ce=a,Bt.transition=s}}return!1}function oy(r,s,a){s=Pi(a,s),s=Cg(r,s,1),r=Jn(r,s,1),s=_t(),r!==null&&(vs(r,1,s),kt(r,s))}function Be(r,s,a){if(r.tag===3)oy(r,r,a);else for(;s!==null;){if(s.tag===3){oy(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(er===null||!er.has(c))){r=Pi(a,r),r=Tg(s,r,1),s=Jn(s,r,1),r=_t(),s!==null&&(vs(s,1,r),kt(s,r));break}}s=s.return}}function _C(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=_t(),r.pingedLanes|=r.suspendedLanes&a,et===r&&(at&a)===a&&(Je===4||Je===3&&(at&130023424)===at&&500>He()-Xc?Fr(r,0):Qc|=a),kt(r,s)}function ay(r,s){s===0&&((r.mode&1)===0?s=1:(s=oa,oa<<=1,(oa&130023424)===0&&(oa=4194304)));var a=_t();r=Cn(r,s),r!==null&&(vs(r,s,a),kt(r,a))}function wC(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),ay(r,a)}function SC(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),ay(r,a)}var ly;ly=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||xt.current)Tt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Tt=!1,lC(r,s,a);Tt=(r.flags&131072)!==0}else Tt=!1,Oe&&(s.flags&1048576)!==0&&Bm(s,Pa,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Wa(r,s),r=s.pendingProps;var h=wi(s,ht.current);Ii(s,a),h=Pc(null,s,c,r,h,a);var m=Nc();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ct(c)?(m=!0,Ta(s)):m=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Sc(s),h.updater=Ba,s.stateNode=h,h._reactInternals=s,Oc(s,c,r,a),s=Vc(null,s,c,!0,m,a)):(s.tag=0,Oe&&m&&dc(s),vt(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Wa(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=xC(c),r=Jt(c,r),h){case 0:s=jc(null,s,c,r,a);break e;case 1:s=Mg(null,s,c,r,a);break e;case 11:s=Ng(null,s,c,r,a);break e;case 14:s=Rg(null,s,c,Jt(c.type,r),a);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Jt(c,h),jc(r,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Jt(c,h),Mg(r,s,c,h,a);case 3:e:{if(Og(s),r===null)throw Error(n(387));c=s.pendingProps,m=s.memoizedState,h=m.element,Qm(r,s),Ma(s,c,null,a);var v=s.memoizedState;if(c=v.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){h=Pi(Error(n(423)),s),s=Lg(r,s,c,a,h);break e}else if(c!==h){h=Pi(Error(n(424)),s),s=Lg(r,s,c,a,h);break e}else for(Ot=Gn(s.stateNode.containerInfo.firstChild),Mt=s,Oe=!0,Xt=null,a=qm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xi(),c===h){s=In(r,s,a);break e}vt(r,s,c,a)}s=s.child}return s;case 5:return Zm(s),r===null&&pc(s),c=s.type,h=s.pendingProps,m=r!==null?r.memoizedProps:null,v=h.children,sc(c,h)?v=null:m!==null&&sc(c,m)&&(s.flags|=32),Dg(r,s),vt(r,s,v,a),s.child;case 6:return r===null&&pc(s),null;case 13:return Fg(r,s,a);case 4:return Ec(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ci(s,null,c,a):vt(r,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Jt(c,h),Ng(r,s,c,h,a);case 7:return vt(r,s,s.pendingProps,a),s.child;case 8:return vt(r,s,s.pendingProps.children,a),s.child;case 12:return vt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,m=s.memoizedProps,v=h.value,Ne(Aa,c._currentValue),c._currentValue=v,m!==null)if(Qt(m.value,v)){if(m.children===h.children&&!xt.current){s=In(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var S=m.dependencies;if(S!==null){v=m.child;for(var E=S.firstContext;E!==null;){if(E.context===c){if(m.tag===1){E=Tn(-1,a&-a),E.tag=2;var N=m.updateQueue;if(N!==null){N=N.shared;var L=N.pending;L===null?E.next=E:(E.next=L.next,L.next=E),N.pending=E}}m.lanes|=a,E=m.alternate,E!==null&&(E.lanes|=a),_c(m.return,a,s),S.lanes|=a;break}E=E.next}}else if(m.tag===10)v=m.type===s.type?null:m.child;else if(m.tag===18){if(v=m.return,v===null)throw Error(n(341));v.lanes|=a,S=v.alternate,S!==null&&(S.lanes|=a),_c(v,a,s),v=m.sibling}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===s){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}vt(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,Ii(s,a),h=Vt(h),c=c(h),s.flags|=1,vt(r,s,c,a),s.child;case 14:return c=s.type,h=Jt(c,s.pendingProps),h=Jt(c.type,h),Rg(r,s,c,h,a);case 15:return Ag(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:Jt(c,h),Wa(r,s),s.tag=1,Ct(c)?(r=!0,Ta(s)):r=!1,Ii(s,a),Eg(s,c,h),Oc(s,c,h,a),Vc(null,s,c,!0,r,a);case 19:return Vg(r,s,a);case 22:return bg(r,s,a)}throw Error(n(156,s.tag))};function uy(r,s){return zp(r,s)}function EC(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(r,s,a,c){return new EC(r,s,a,c)}function sd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xC(r){if(typeof r=="function")return sd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ee)return 11;if(r===$e)return 14}return 2}function ir(r,s){var a=r.alternate;return a===null?(a=zt(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function el(r,s,a,c,h,m){var v=2;if(c=r,typeof r=="function")sd(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case X:return Vr(a.children,h,m,s);case z:v=8,h|=8;break;case me:return r=zt(12,a,s,h|2),r.elementType=me,r.lanes=m,r;case Se:return r=zt(13,a,s,h),r.elementType=Se,r.lanes=m,r;case Ee:return r=zt(19,a,s,h),r.elementType=Ee,r.lanes=m,r;case le:return tl(a,h,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Ie:v=10;break e;case dt:v=9;break e;case ee:v=11;break e;case $e:v=14;break e;case Qe:v=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=zt(v,a,s,h),s.elementType=r,s.type=c,s.lanes=m,s}function Vr(r,s,a,c){return r=zt(7,r,c,s),r.lanes=a,r}function tl(r,s,a,c){return r=zt(22,r,c,s),r.elementType=le,r.lanes=a,r.stateNode={isHidden:!1},r}function od(r,s,a){return r=zt(6,r,null,s),r.lanes=a,r}function ad(r,s,a){return s=zt(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function CC(r,s,a,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mu(0),this.expirationTimes=Mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mu(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function ld(r,s,a,c,h,m,v,S,E){return r=new CC(r,s,a,S,E),s===1?(s=1,m===!0&&(s|=8)):s=0,m=zt(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sc(m),r}function TC(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function cy(r){if(!r)return Yn;r=r._reactInternals;e:{if(kr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ct(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Ct(a))return jm(r,a,s)}return s}function dy(r,s,a,c,h,m,v,S,E){return r=ld(a,c,!0,r,h,m,v,S,E),r.context=cy(null),a=r.current,c=_t(),h=nr(a),m=Tn(c,h),m.callback=s??null,Jn(a,m,h),r.current.lanes=h,vs(r,h,c),kt(r,c),r}function nl(r,s,a,c){var h=s.current,m=_t(),v=nr(h);return a=cy(a),s.context===null?s.context=a:s.pendingContext=a,s=Tn(m,v),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=Jn(h,s,v),r!==null&&(tn(r,h,v,m),Da(r,h,v)),v}function rl(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function hy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function ud(r,s){hy(r,s),(r=r.alternate)&&hy(r,s)}function IC(){return null}var fy=typeof reportError=="function"?reportError:function(r){console.error(r)};function cd(r){this._internalRoot=r}il.prototype.render=cd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));nl(r,s,null,null)},il.prototype.unmount=cd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Lr(function(){nl(null,r,null,null)}),s[wn]=null}};function il(r){this._internalRoot=r}il.prototype.unstable_scheduleHydration=function(r){if(r){var s=Qp();r={blockedOn:null,target:r,priority:s};for(var a=0;a<$n.length&&s!==0&&s<$n[a].priority;a++);$n.splice(a,0,r),a===0&&Zp(r)}};function dd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function sl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function py(){}function kC(r,s,a,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var N=rl(v);m.call(N)}}var v=dy(s,c,r,0,null,!1,!1,"",py);return r._reactRootContainer=v,r[wn]=v.current,bs(r.nodeType===8?r.parentNode:r),Lr(),v}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var S=c;c=function(){var N=rl(E);S.call(N)}}var E=ld(r,0,!1,null,null,!1,!1,"",py);return r._reactRootContainer=E,r[wn]=E.current,bs(r.nodeType===8?r.parentNode:r),Lr(function(){nl(s,E,a,c)}),E}function ol(r,s,a,c,h){var m=a._reactRootContainer;if(m){var v=m;if(typeof h=="function"){var S=h;h=function(){var E=rl(v);S.call(E)}}nl(s,v,r,h)}else v=kC(a,s,r,h,c);return rl(v)}qp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ys(s.pendingLanes);a!==0&&(Ou(s,a|1),kt(s,He()),(ge&6)===0&&(Ai=He()+500,Qn()))}break;case 13:Lr(function(){var c=Cn(r,1);if(c!==null){var h=_t();tn(c,r,1,h)}}),ud(r,1)}},Lu=function(r){if(r.tag===13){var s=Cn(r,134217728);if(s!==null){var a=_t();tn(s,r,134217728,a)}ud(r,134217728)}},Yp=function(r){if(r.tag===13){var s=nr(r),a=Cn(r,s);if(a!==null){var c=_t();tn(a,r,s,c)}ud(r,s)}},Qp=function(){return Ce},Xp=function(r,s){var a=Ce;try{return Ce=r,s()}finally{Ce=a}},Pu=function(r,s,a){switch(s){case"input":if(wu(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var h=xa(c);if(!h)throw Error(n(90));Sp(c),wu(c,h)}}}break;case"textarea":Ip(r,a);break;case"select":s=a.value,s!=null&&li(r,!!a.multiple,s,!1)}},Op=nd,Lp=Lr;var PC={usingClientEntryPoint:!1,Events:[Os,vi,xa,Dp,Mp,nd]},Ys={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NC={bundleType:Ys.bundleType,version:Ys.version,rendererPackageName:Ys.rendererPackageName,rendererConfig:Ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Up(r),r===null?null:r.stateNode},findFiberByHostInstance:Ys.findFiberByHostInstance||IC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{ia=al.inject(NC),un=al}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PC,Pt.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dd(s))throw Error(n(200));return TC(r,s,null,a)},Pt.createRoot=function(r,s){if(!dd(r))throw Error(n(299));var a=!1,c="",h=fy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=ld(r,1,!1,null,null,a,!1,c,h),r[wn]=s.current,bs(r.nodeType===8?r.parentNode:r),new cd(s)},Pt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Up(s),r=r===null?null:r.stateNode,r},Pt.flushSync=function(r){return Lr(r)},Pt.hydrate=function(r,s,a){if(!sl(s))throw Error(n(200));return ol(null,r,s,!0,a)},Pt.hydrateRoot=function(r,s,a){if(!dd(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,h=!1,m="",v=fy;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=dy(s,null,r,1,a??null,h,!1,m,v),r[wn]=s.current,bs(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new il(s)},Pt.render=function(r,s,a){if(!sl(s))throw Error(n(200));return ol(null,r,s,!1,a)},Pt.unmountComponentAtNode=function(r){if(!sl(r))throw Error(n(40));return r._reactRootContainer?(Lr(function(){ol(null,null,r,!1,function(){r._reactRootContainer=null,r[wn]=null})}),!0):!1},Pt.unstable_batchedUpdates=nd,Pt.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!sl(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ol(r,s,a,!1,c)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var Ey;function jC(){if(Ey)return pd.exports;Ey=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pd.exports=FC(),pd.exports}var xy;function VC(){if(xy)return ll;xy=1;var t=jC();return ll.createRoot=t.createRoot,ll.hydrateRoot=t.hydrateRoot,ll}var UC=VC();const BC=Y_(UC);var Cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw ts(e)},ts=function(t){return new Error("Firebase Database ("+Q_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],d=t[n++],f=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Uh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,d=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,g=l>>2,y=(l&3)<<4|d>>4;let _=(d&15)<<2|p>>6,x=p&63;f||(x=64,u||(_=64)),i.push(n[g],n[y],n[_],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||p==null||y==null)throw new WC;const _=l<<2|d>>4;if(i.push(_),p!==64){const x=d<<4&240|p>>2;if(i.push(x),y!==64){const T=p<<6&192|y;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J_=function(t){const e=X_(t);return Uh.encodeByteArray(e,!0)},Cl=function(t){return J_(t).replace(/\./g,"")},Tl=function(t){try{return Uh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){return Z_(void 0,t)}function Z_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!HC(n)||(t[n]=Z_(t[n],e[n]));return t}function HC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=()=>KC().__FIREBASE_DEFAULTS__,qC=()=>{if(typeof process>"u"||typeof Cy>"u")return;const t=Cy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Tl(t[1]);return e&&JSON.parse(e)},Bh=()=>{try{return GC()||qC()||YC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e0=t=>{var e,n;return(n=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QC=t=>{const e=e0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},t0=()=>{var t;return(t=Bh())===null||t===void 0?void 0:t.config},n0=t=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cl(JSON.stringify(n)),Cl(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function JC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eT(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tT(){return Q_.NODE_ADMIN===!0}function nT(){try{return typeof indexedDB=="object"}catch{return!1}}function rT(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="FirebaseError";class Er extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=iT,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fo.prototype.create)}}class Fo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?sT(l,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Er(o,d,i)}}function sT(t,e){return t.replace(oT,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const oT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t){return JSON.parse(t)}function st(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(t){let e={},n={},i={},o="";try{const l=t.split(".");e=_o(Tl(l[0])||""),n=_o(Tl(l[1])||""),o=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},aT=function(t){const e=i0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},lT=function(t){const e=i0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ki(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Il(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function kl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(Ty(l)&&Ty(u)){if(!kl(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Ty(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function io(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function so(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)i[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],f=this.chain_[4],p,g;for(let y=0;y<80;y++){y<40?y<20?(p=d^l&(u^d),g=1518500249):(p=l^u^d,g=1859775393):y<60?(p=l&u|d&(l|u),g=2400959708):(p=l^u^d,g=3395469782);const _=(o<<5|o>>>27)+p+f+g+i[y]&4294967295;f=d,d=u,u=(l<<30|l>>>2)&4294967295,l=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<n;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[o]>>l&255,++i;return e}}function cT(t,e){const n=new dT(t,e);return n.subscribe.bind(n)}class dT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");hT(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=yd),o.error===void 0&&(o.error=yd),o.complete===void 0&&(o.complete=yd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yd(){}function Zl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,W(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;o=65536+(l<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},eu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class Zr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Lo;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gT(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mT(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mT(t){return t===Br?void 0:t}function gT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const vT={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},_T=ke.INFO,wT={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},ST=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=wT[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wh{constructor(e){this.name=e,this._logLevel=_T,this._logHandler=ST,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const ET=(t,e)=>e.some(n=>t instanceof n);let Iy,ky;function xT(){return Iy||(Iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CT(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,qd=new WeakMap,o0=new WeakMap,vd=new WeakMap,$h=new WeakMap;function TT(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(hr(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&s0.set(n,t)}).catch(()=>{}),$h.set(e,t),e}function IT(t){if(qd.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});qd.set(t,e)}let Yd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return qd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kT(t){Yd=t(Yd)}function PT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_d(this),e,...n);return o0.set(i,e.sort?e.sort():[e]),hr(i)}:CT().includes(t)?function(...e){return t.apply(_d(this),e),hr(s0.get(this))}:function(...e){return hr(t.apply(_d(this),e))}}function NT(t){return typeof t=="function"?PT(t):(t instanceof IDBTransaction&&IT(t),ET(t,xT())?new Proxy(t,Yd):t)}function hr(t){if(t instanceof IDBRequest)return TT(t);if(vd.has(t))return vd.get(t);const e=NT(t);return e!==t&&(vd.set(t,e),$h.set(e,t)),e}const _d=t=>$h.get(t);function RT(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),d=hr(u);return i&&u.addEventListener("upgradeneeded",f=>{i(hr(u.result),f.oldVersion,f.newVersion,hr(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const AT=["get","getKey","getAll","getAllKeys","count"],bT=["put","add","delete","clear"],wd=new Map;function Py(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wd.get(e))return wd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=bT.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||AT.includes(n)))return;const l=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),o&&f.done]))[0]};return wd.set(e,l),l}kT(t=>({...t,get:(e,n,i)=>Py(e,n)||t.get(e,n,i),has:(e,n)=>!!Py(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MT(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function MT(t){const e=t.getComponent();return e?.type==="VERSION"}const Qd="@firebase/app",Ny="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new Wh("@firebase/app"),OT="@firebase/app-compat",LT="@firebase/analytics-compat",FT="@firebase/analytics",jT="@firebase/app-check-compat",VT="@firebase/app-check",UT="@firebase/auth",BT="@firebase/auth-compat",zT="@firebase/database",WT="@firebase/data-connect",$T="@firebase/database-compat",HT="@firebase/functions",KT="@firebase/functions-compat",GT="@firebase/installations",qT="@firebase/installations-compat",YT="@firebase/messaging",QT="@firebase/messaging-compat",XT="@firebase/performance",JT="@firebase/performance-compat",ZT="@firebase/remote-config",eI="@firebase/remote-config-compat",tI="@firebase/storage",nI="@firebase/storage-compat",rI="@firebase/firestore",iI="@firebase/vertexai-preview",sI="@firebase/firestore-compat",oI="firebase",aI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",lI={[Qd]:"fire-core",[OT]:"fire-core-compat",[FT]:"fire-analytics",[LT]:"fire-analytics-compat",[VT]:"fire-app-check",[jT]:"fire-app-check-compat",[UT]:"fire-auth",[BT]:"fire-auth-compat",[zT]:"fire-rtdb",[WT]:"fire-data-connect",[$T]:"fire-rtdb-compat",[HT]:"fire-fn",[KT]:"fire-fn-compat",[GT]:"fire-iid",[qT]:"fire-iid-compat",[YT]:"fire-fcm",[QT]:"fire-fcm-compat",[XT]:"fire-perf",[JT]:"fire-perf-compat",[ZT]:"fire-rc",[eI]:"fire-rc-compat",[tI]:"fire-gcs",[nI]:"fire-gcs-compat",[rI]:"fire-fst",[sI]:"fire-fst-compat",[iI]:"fire-vertex","fire-js":"fire-js",[oI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=new Map,uI=new Map,Jd=new Map;function Ry(t,e){try{t.container.addComponent(e)}catch(n){On.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gi(t){const e=t.name;if(Jd.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,t);for(const n of Pl.values())Ry(n,t);for(const n of uI.values())Ry(n,t);return!0}function Hh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Fo("app","Firebase",cI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=aI;function a0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(n||(n=t0()),!n)throw fr.create("no-options");const l=Pl.get(o);if(l){if(kl(n,l.options)&&kl(i,l.config))return l;throw fr.create("duplicate-app",{appName:o})}const u=new yT(o);for(const f of Jd.values())u.addComponent(f);const d=new dI(n,i,u);return Pl.set(o,d),d}function l0(t=Xd){const e=Pl.get(t);if(!e&&t===Xd&&t0())return a0();if(!e)throw fr.create("no-app",{appName:t});return e}function pr(t,e,n){var i;let o=(i=lI[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(d.join(" "));return}Gi(new Zr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebase-heartbeat-database",fI=1,wo="firebase-heartbeat-store";let Sd=null;function u0(){return Sd||(Sd=RT(hI,fI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),Sd}async function pI(t){try{const n=(await u0()).transaction(wo),i=await n.objectStore(wo).get(c0(t));return await n.done,i}catch(e){if(e instanceof Er)On.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e?.message});On.warn(n.message)}}}async function Ay(t,e){try{const i=(await u0()).transaction(wo,"readwrite");await i.objectStore(wo).put(e,c0(t)),await i.done}catch(n){if(n instanceof Er)On.warn(n.message);else{const i=fr.create("idb-set",{originalErrorMessage:n?.message});On.warn(i.message)}}}function c0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=1024,gI=720*60*60*1e3;class yI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _I(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=by();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=gI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){On.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=by(),{heartbeatsToSend:i,unsentEntries:o}=vI(this._heartbeatsCache.heartbeats),l=Cl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return On.warn(n),""}}}function by(){return new Date().toISOString().substring(0,10)}function vI(t,e=mI){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),Dy(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Dy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class _I{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nT()?rT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Dy(t){return Cl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){Gi(new Zr("platform-logger",e=>new DT(e),"PRIVATE")),Gi(new Zr("heartbeat",e=>new yI(e),"PRIVATE")),pr(Qd,Ny,t),pr(Qd,Ny,"esm2017"),pr("fire-js","")}wI("");function Kh(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SI=d0,h0=new Fo("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new Wh("@firebase/auth");function EI(t,...e){Nl.logLevel<=ke.WARN&&Nl.warn(`Auth (${rs}): ${t}`,...e)}function ml(t,...e){Nl.logLevel<=ke.ERROR&&Nl.error(`Auth (${rs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,...e){throw qh(t,...e)}function on(t,...e){return qh(t,...e)}function Gh(t,e,n){const i=Object.assign(Object.assign({},SI()),{[e]:n});return new Fo("auth","Firebase",i).create(e,{appName:t.name})}function mr(t){return Gh(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xI(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&qt(t,"argument-error"),Gh(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qh(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return h0.create(t,...e)}function se(t,e,...n){if(!t)throw qh(e,...n)}function Nn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ml(e),new Error(e)}function Ln(t,e){t||Nn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CI(){return My()==="http:"||My()==="https:"}function My(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CI()||ZC()||"connection"in navigator)?navigator.onLine:!0}function II(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ln(n>e,"Short delay should be less than long delay!"),this.isMobile=zh()||r0()}get(){return TI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e){Ln(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=new jo(3e4,6e4);function xr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Un(t,e,n,i,o={}){return p0(t,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=ns(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:f},l);return JC()||(p.referrerPolicy="no-referrer"),f0.fetch()(m0(t,t.config.apiHost,n,d),p)})}async function p0(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},kI),e);try{const o=new RI(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ul(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ul(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw ul(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw ul(t,"user-disabled",u);const g=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Gh(t,g,p);qt(t,g)}}catch(o){if(o instanceof Er)throw o;qt(t,"network-request-failed",{message:String(o)})}}async function tu(t,e,n,i,o={}){const l=await Un(t,e,n,i,o);return"mfaPendingCredential"in l&&qt(t,"multi-factor-auth-required",{_serverResponse:l}),l}function m0(t,e,n,i){const o=`${e}${n}?${i}`;return t.config.emulator?Yh(t.config,o):`${t.config.apiScheme}://${o}`}function NI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RI{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(on(this.auth,"network-request-failed")),PI.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ul(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=on(t,e,i);return o.customData._tokenResponse=n,o}function Oy(t){return t!==void 0&&t.enterprise!==void 0}class AI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function bI(t,e){return Un(t,"GET","/v2/recaptchaConfig",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(t,e){return Un(t,"POST","/v1/accounts:delete",e)}async function g0(t,e){return Un(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MI(t,e=!1){const n=yt(t),i=await n.getIdToken(e),o=Qh(i);se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:i,authTime:ao(Ed(o.auth_time)),issuedAtTime:ao(Ed(o.iat)),expirationTime:ao(Ed(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ed(t){return Number(t)*1e3}function Qh(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return ml("JWT malformed, contained fewer than 3 sections"),null;try{const o=Tl(n);return o?JSON.parse(o):(ml("Failed to decode base64 JWT payload"),null)}catch(o){return ml("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ly(t){const e=Qh(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Er&&OI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function OI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ao(this.lastLoginAt),this.creationTime=ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(t){var e;const n=t.auth,i=await t.getIdToken(),o=await So(t,g0(n,{idToken:i}));se(o?.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?y0(l.providerUserInfo):[],d=jI(t.providerData,u),f=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!d?.length,g=f?p:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new eh(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function FI(t){const e=yt(t);await Rl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jI(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function y0(t){return t.map(e=>{var{providerId:n}=e,i=Kh(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(t,e){const n=await p0(t,{},async()=>{const i=ns({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=m0(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",f0.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UI(t,e){return Un(t,"POST","/v2/accounts:revokeToken",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ly(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=Ly(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:l}=await VI(e,n);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:l}=n,u=new Ui;return i&&(se(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ui,this.toJSON())}_performRefresh(){return Nn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rn{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,l=Kh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new eh(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await So(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MI(this,e)}reload(){return FI(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Rl(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await So(this,DI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,l,u,d,f,p,g;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,T=(u=n.photoURL)!==null&&u!==void 0?u:void 0,A=(d=n.tenantId)!==null&&d!==void 0?d:void 0,R=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,V=(p=n.createdAt)!==null&&p!==void 0?p:void 0,H=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:b,emailVerified:M,isAnonymous:U,providerData:q,stsTokenManager:X}=n;se(b&&X,e,"internal-error");const z=Ui.fromJSON(this.name,X);se(typeof b=="string",e,"internal-error"),or(y,e.name),or(_,e.name),se(typeof M=="boolean",e,"internal-error"),se(typeof U=="boolean",e,"internal-error"),or(x,e.name),or(T,e.name),or(A,e.name),or(R,e.name),or(V,e.name),or(H,e.name);const me=new Rn({uid:b,auth:e,email:_,emailVerified:M,displayName:y,isAnonymous:U,photoURL:T,phoneNumber:x,tenantId:A,stsTokenManager:z,createdAt:V,lastLoginAt:H});return q&&Array.isArray(q)&&(me.providerData=q.map(Ie=>Object.assign({},Ie))),R&&(me._redirectEventId=R),me}static async _fromIdTokenResponse(e,n,i=!1){const o=new Ui;o.updateFromServerResponse(n);const l=new Rn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Rl(l),l}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?y0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,d=new Ui;d.updateFromIdToken(i);const f=new Rn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new eh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=new Map;function An(t){Ln(t instanceof Function,"Expected a class definition");let e=Fy.get(t);return e?(Ln(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v0.type="NONE";const jy=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t,e,n){return`firebase:${t}:${e}:${n}`}class Bi{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=gl(this.userKey,o.apiKey,l),this.fullPersistenceKey=gl("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bi(An(jy),e,i);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=o[0]||An(jy);const u=gl(i,e.config.apiKey,e.name);let d=null;for(const p of n)try{const g=await p._get(u);if(g){const y=Rn._fromJSON(e,g);p!==l&&(d=y),l=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Bi(l,e,i):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Bi(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(E0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C0(e))return"Blackberry";if(T0(e))return"Webos";if(w0(e))return"Safari";if((e.includes("chrome/")||S0(e))&&!e.includes("edge/"))return"Chrome";if(x0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function _0(t=Et()){return/firefox\//i.test(t)}function w0(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S0(t=Et()){return/crios\//i.test(t)}function E0(t=Et()){return/iemobile/i.test(t)}function x0(t=Et()){return/android/i.test(t)}function C0(t=Et()){return/blackberry/i.test(t)}function T0(t=Et()){return/webos/i.test(t)}function Xh(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BI(t=Et()){var e;return Xh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zI(){return eT()&&document.documentMode===10}function I0(t=Et()){return Xh(t)||x0(t)||T0(t)||C0(t)||/windows phone/i.test(t)||E0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e=[]){let n;switch(t){case"Browser":n=Vy(Et());break;case"Worker":n=`${Vy(Et())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rs}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(t,e={}){return Un(t,"GET","/v2/passwordPolicy",xr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=6;class KI{constructor(e){var n,i,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:HI,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,l,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uy(this),this.idTokenSubscription=new Uy(this),this.beforeStateQueue=new WI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Bi.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await g0(this,{idToken:e}),i=await Rn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o?._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&f?.user&&(o=f.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=II()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(mr(this));const n=e?yt(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(An(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $I(this),n=new KI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await UI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&An(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[An(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,i,o);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&EI(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Cr(t){return yt(t)}class Uy{constructor(e){this.auth=e,this.observer=null,this.addObserver=cT(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qI(t){nu=t}function P0(t){return nu.loadJS(t)}function YI(){return nu.recaptchaEnterpriseScript}function QI(){return nu.gapiScript}function XI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const JI="recaptcha-enterprise",ZI="NO_RECAPTCHA";class ek{constructor(e){this.type=JI,this.auth=Cr(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{bI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new AI(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function o(l,u,d){const f=window.grecaptcha;Oy(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(ZI)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,u)=>{i(this.auth).then(d=>{if(!n&&Oy(window.grecaptcha))o(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=YI();f.length!==0&&(f+=d),P0(f).then(()=>{o(d,l,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function By(t,e,n,i=!1){const o=new ek(t);let l;try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u=Object.assign({},e);return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function th(t,e,n,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await By(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await By(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e){const n=Hh(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(kl(l,e??{}))return o;qt(o,"already-initialized")}return n.initialize({options:e})}function nk(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(An);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function rk(t,e,n){const i=Cr(t);se(i._canInitEmulator,i,"emulator-config-failed"),se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=N0(e),{host:u,port:d}=ik(e),f=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${u}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),sk()}function N0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ik(t){const e=N0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:zy(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:zy(u)}}}function zy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nn("not implemented")}_getIdTokenResponse(e){return Nn("not implemented")}_linkToIdToken(e,n){return Nn("not implemented")}_getReauthenticationResolver(e){return Nn("not implemented")}}async function ok(t,e){return Un(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t,e){return tu(t,"POST","/v1/accounts:signInWithPassword",xr(t,e))}async function lk(t,e){return Un(t,"POST","/v1/accounts:sendOobCode",xr(t,e))}async function uk(t,e){return lk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}async function dk(t,e){return tu(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Jh{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Eo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Eo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,n,"signInWithPassword",ak);case"emailLink":return ck(e,{email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return th(e,i,"signUpPassword",ok);case"emailLink":return dk(e,{idToken:n,email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t,e){return tu(t,"POST","/v1/accounts:signInWithIdp",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="http://localhost";class ei extends Jh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ei(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,l=Kh(n,["providerId","signInMethod"]);if(!i||!o)return null;const u=new ei(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,zi(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}buildRequest(){const e={requestUri:hk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ns(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pk(t){const e=io(so(t)).link,n=e?io(so(e)).deep_link_id:null,i=io(so(t)).deep_link_id;return(i?io(so(i)).link:null)||i||n||e||t}class Zh{constructor(e){var n,i,o,l,u,d;const f=io(so(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,g=(i=f.oobCode)!==null&&i!==void 0?i:null,y=fk((o=f.mode)!==null&&o!==void 0?o:null);se(p&&g&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=g,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=f.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=pk(e);try{return new Zh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.providerId=is.PROVIDER_ID}static credential(e,n){return Eo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Zh.parseLink(n);return se(i,"argument-error"),Eo._fromEmailAndCode(e,i.code,i.tenantId)}}is.PROVIDER_ID="password";is.EMAIL_PASSWORD_SIGN_IN_METHOD="password";is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends ef{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Vo{constructor(){super("facebook.com")}static credential(e){return ei._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends Vo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ei._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Pn.credential(n,i)}catch{return null}}}Pn.GOOGLE_SIGN_IN_METHOD="google.com";Pn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Vo{constructor(){super("github.com")}static credential(e){return ei._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends Vo{constructor(){super("twitter.com")}static credential(e,n){return ei._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return cr.credential(n,i)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const l=await Rn._fromIdTokenResponse(e,i,o),u=Wy(i);return new qi({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Wy(i);return new qi({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Wy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends Er{constructor(e,n,i,o){var l;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Al.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new Al(e,n,i,o)}}function R0(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Al._fromErrorAndOperation(t,l,e,i):l})}async function mk(t,e,n=!1){const i=await So(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qi._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,e,n=!1){const{auth:i}=t;if(mn(i.app))return Promise.reject(mr(i));const o="reauthenticate";try{const l=await So(t,R0(i,o,e,t),n);se(l.idToken,i,"internal-error");const u=Qh(l.idToken);se(u,i,"internal-error");const{sub:d}=u;return se(t.uid===d,i,"user-mismatch"),qi._forOperation(t,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&qt(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0(t,e,n=!1){if(mn(t.app))return Promise.reject(mr(t));const i="signIn",o=await R0(t,i,e),l=await qi._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(l.user),l}async function yk(t,e){return A0(Cr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(t){const e=Cr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _k(t,e,n){const i=Cr(t);await th(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",uk)}function wk(t,e,n){return mn(t.app)?Promise.reject(mr(t)):yk(yt(t),is.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vk(t),i})}function Sk(t,e,n,i){return yt(t).onIdTokenChanged(e,n,i)}function Ek(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function Uo(t,e,n,i){return yt(t).onAuthStateChanged(e,n,i)}function xk(t){return yt(t).signOut()}const bl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bl,"1"),this.storage.removeItem(bl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=1e3,Tk=10;class D0 extends b0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);zI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Tk):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Ck)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}D0.type="LOCAL";const Ik=D0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends b0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M0.type="SESSION";const O0=M0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new ru(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async p=>p(n.origin,l)),f=await kk(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ru.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const p=tf("",20);o.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(_.data.response);break;default:clearTimeout(g),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return window}function Nk(t){gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}async function Rk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ak(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bk(){return L0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="firebaseLocalStorageDb",Dk=1,Dl="firebaseLocalStorage",j0="fbase_key";class Bo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function iu(t,e){return t.transaction([Dl],e?"readwrite":"readonly").objectStore(Dl)}function Mk(){const t=indexedDB.deleteDatabase(F0);return new Bo(t).toPromise()}function nh(){const t=indexedDB.open(F0,Dk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Dl,{keyPath:j0})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Dl)?e(i):(i.close(),await Mk(),e(await nh()))})})}async function $y(t,e,n){const i=iu(t,!0).put({[j0]:e,value:n});return new Bo(i).toPromise()}async function Ok(t,e){const n=iu(t,!1).get(e),i=await new Bo(n).toPromise();return i===void 0?null:i.value}function Hy(t,e){const n=iu(t,!0).delete(e);return new Bo(n).toPromise()}const Lk=800,Fk=3;class V0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Fk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ru._getInstance(bk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Rk(),!this.activeServiceWorker)return;this.sender=new Pk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ak()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nh();return await $y(e,bl,"1"),await Hy(e,bl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>$y(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Ok(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=iu(o,!1).getAll();return new Bo(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Lk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V0.type="LOCAL";const jk=V0;new jo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(t,e){return e?An(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends Jh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Vk(t){return A0(t.auth,new nf(t),t.bypassAuthState)}function Uk(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),gk(n,new nf(t),t.bypassAuthState)}async function Bk(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),mk(n,new nf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vk;case"linkViaPopup":case"linkViaRedirect":return Bk;case"reauthViaPopup":case"reauthViaRedirect":return Uk;default:qt(this.auth,"internal-error")}}resolve(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ln(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=new jo(2e3,1e4);async function Wk(t,e,n){if(mn(t.app))return Promise.reject(on(t,"operation-not-supported-in-this-environment"));const i=Cr(t);xI(t,e,ef);const o=U0(i,n);return new $r(i,"signInViaPopup",e,o).executeNotNull()}class $r extends B0{constructor(e,n,i,o,l){super(e,n,o,l),this.provider=i,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Ln(this.filter.length===1,"Popup operations only handle one event");const e=tf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zk.get())};e()}}$r.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="pendingRedirect",yl=new Map;class Hk extends B0{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=yl.get(this.auth._key());if(!e){try{const i=await Kk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}yl.set(this.auth._key(),e)}return this.bypassAuthState||yl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Kk(t,e){const n=Yk(e),i=qk(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function Gk(t,e){yl.set(t._key(),e)}function qk(t){return An(t._redirectPersistence)}function Yk(t){return gl($k,t.config.apiKey,t.name)}async function Qk(t,e,n=!1){if(mn(t.app))return Promise.reject(mr(t));const i=Cr(t),o=U0(i,e),u=await new Hk(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=600*1e3;class Jk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zk(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!z0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(on(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ky(e))}saveEventToCache(e){this.cachedEventUids.add(Ky(e)),this.lastProcessedEventTime=Date.now()}}function Ky(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function z0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Zk(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return z0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(t,e={}){return Un(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,n1=/^https?/;async function r1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await e1(t);for(const n of e)try{if(i1(n))return}catch{}qt(t,"unauthorized-domain")}function i1(t){const e=Zd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!n1.test(n))return!1;if(t1.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new jo(3e4,6e4);function Gy(){const t=gn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o1(t){return new Promise((e,n)=>{var i,o,l;function u(){Gy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gy(),n(on(t,"network-request-failed"))},timeout:s1.get()})}if(!((o=(i=gn().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=gn().gapi)===null||l===void 0)&&l.load)u();else{const d=XI("iframefcb");return gn()[d]=()=>{gapi.load?u():n(on(t,"network-request-failed"))},P0(`${QI()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw vl=null,e})}let vl=null;function a1(t){return vl=vl||o1(t),vl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new jo(5e3,15e3),u1="__/auth/iframe",c1="emulator/auth/iframe",d1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f1(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Yh(e,c1):`https://${t.config.authDomain}/${u1}`,i={apiKey:e.apiKey,appName:t.name,v:rs},o=h1.get(t.config.apiHost);o&&(i.eid=o);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${ns(i).slice(1)}`}async function p1(t){const e=await a1(t),n=gn().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:f1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d1,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=on(t,"network-request-failed"),d=gn().setTimeout(()=>{l(u)},l1.get());function f(){gn().clearTimeout(d),o(i)}i.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g1=500,y1=600,v1="_blank",_1="http://localhost";class qy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w1(t,e,n,i=g1,o=y1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const f=Object.assign(Object.assign({},m1),{width:i.toString(),height:o.toString(),top:l,left:u}),p=Et().toLowerCase();n&&(d=S0(p)?v1:n),_0(p)&&(e=e||_1,f.scrollbars="yes");const g=Object.entries(f).reduce((_,[x,T])=>`${_}${x}=${T},`,"");if(BI(p)&&d!=="_self")return S1(e||"",d),new qy(null);const y=window.open(e||"",d,g);se(y,t,"popup-blocked");try{y.focus()}catch{}return new qy(y)}function S1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="__/auth/handler",x1="emulator/auth/handler",C1=encodeURIComponent("fac");async function Yy(t,e,n,i,o,l){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:rs,eventId:o};if(e instanceof ef){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Gd(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof Vo){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await t._getAppCheckToken(),p=f?`#${C1}=${encodeURIComponent(f)}`:"";return`${T1(t)}?${ns(d).slice(1)}${p}`}function T1({config:t}){return t.emulator?Yh(t,x1):`https://${t.authDomain}/${E1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="webStorageSupport";class I1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O0,this._completeRedirectFn=Qk,this._overrideRedirectResult=Gk}async _openPopup(e,n,i,o){var l;Ln((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await Yy(e,n,i,Zd(),o);return w1(e,u,tf())}async _openRedirect(e,n,i,o){await this._originValidation(e);const l=await Yy(e,n,i,Zd(),o);return Nk(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Ln(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await p1(e),i=new Jk(e);return n.register("authEvent",o=>(se(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xd,{type:xd},o=>{var l;const u=(l=o?.[0])===null||l===void 0?void 0:l[xd];u!==void 0&&n(!!u),qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=r1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I0()||w0()||Xh()}}const k1=I1;var Qy="@firebase/auth",Xy="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R1(t){Gi(new Zr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;se(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(t)},p=new GI(i,o,l,f);return nk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Gi(new Zr("auth-internal",e=>{const n=Cr(e.getProvider("auth").getImmediate());return(i=>new P1(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(Qy,Xy,N1(t)),pr(Qy,Xy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=300,b1=n0("authIdTokenMaxAge")||A1;let Jy=null;const D1=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>b1)return;const o=n?.token;Jy!==o&&(Jy=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function M1(t=l0()){const e=Hh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tk(t,{popupRedirectResolver:k1,persistence:[jk,Ik,O0]}),i=n0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=D1(l.toString());Ek(n,u,()=>u(n.currentUser)),Sk(n,d=>u(d))}}const o=e0("auth");return o&&rk(n,`http://${o}`),n}function O1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qI({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const l=on("internal-error");l.customData=o,n(l)},i.type="text/javascript",i.charset="UTF-8",O1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R1("Browser");var L1="firebase",F1="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(L1,F1,"app");var Zy={};const ev="@firebase/database",tv="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W0="";function j1(t){W0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),st(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_o(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return _n(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new V1(e)}}catch{}return new U1},Hr=$0("localStorage"),B1=$0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new Wh("@firebase/database"),z1=(function(){let t=1;return function(){return t++}})(),H0=function(t){const e=fT(t),n=new uT;n.update(e);const i=n.digest();return Uh.encodeByteArray(i)},zo=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=zo.apply(null,i):typeof i=="object"?e+=st(i):e+=i,e+=" "}return e};let lo=null,nv=!0;const W1=function(t,e){W(!0,"Can't turn on custom loggers persistently."),Wi.logLevel=ke.VERBOSE,lo=Wi.log.bind(Wi)},ut=function(...t){if(nv===!0&&(nv=!1,lo===null&&B1.get("logging_enabled")===!0&&W1()),lo){const e=zo.apply(null,t);lo(e)}},Wo=function(t){return function(...e){ut(t,...e)}},rh=function(...t){const e="FIREBASE INTERNAL ERROR: "+zo(...t);Wi.error(e)},Fn=function(...t){const e=`FIREBASE FATAL ERROR: ${zo(...t)}`;throw Wi.error(e),new Error(e)},St=function(...t){const e="FIREBASE WARNING: "+zo(...t);Wi.warn(e)},$1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},rf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},H1=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ti="[MIN_NAME]",yr="[MAX_NAME]",si=function(t,e){if(t===e)return 0;if(t===ti||e===yr)return-1;if(e===ti||t===yr)return 1;{const n=rv(t),i=rv(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},K1=function(t,e){return t===e?0:t<e?-1:1},Xs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+st(e))},sf=function(t){if(typeof t!="object"||t===null)return st(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=st(e[i]),n+=":",n+=sf(t[e[i]]);return n+="}",n},K0=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const G0=function(t){W(!rf(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,l,u,d,f;t===0?(l=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=d+i,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(f=n;f;f-=1)p.push(u%2?1:0),u=Math.floor(u/2);for(f=e;f;f-=1)p.push(l%2?1:0),l=Math.floor(l/2);p.push(o?1:0),p.reverse();const g=p.join("");let y="";for(f=0;f<64;f+=8){let _=parseInt(g.substr(f,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},G1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},q1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Y1(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Q1=new RegExp("^-?(0*)\\d{1,10}$"),X1=-2147483648,J1=2147483647,rv=function(t){if(Q1.test(t)){const e=Number(t);if(e>=X1&&e<=J1)return e}return null},ss=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw St("Exception was thrown by user callback.",n),e},Math.floor(0))}},Z1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},uo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}}class _l{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}_l.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="5",q0="v",Y0="s",Q0="r",X0="f",J0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z0="ls",ew="p",ih="ac",tw="websocket",nw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,i,o,l=!1,u="",d=!1,f=!1){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=f,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function nP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function iw(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let i;if(e===tw)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===nw)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);nP(t)&&(n.ns=t.namespace);const o=[];return ct(n,(l,u)=>{o.push(l+"="+u)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.counters_={}}incrementCounter(e,n=1){_n(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return $C(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd={},Td={};function af(t){const e=t.toString();return Cd[e]||(Cd[e]=new rP),Cd[e]}function iP(t,e){const n=t.toString();return Td[n]||(Td[n]=e()),Td[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&ss(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="start",oP="close",aP="pLPCommand",lP="pRTLPCB",sw="id",ow="pw",aw="ser",uP="cb",cP="seg",dP="ts",hP="d",fP="dframe",lw=1870,uw=30,pP=lw-uw,mP=25e3,gP=3e4;class Mi{constructor(e,n,i,o,l,u,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wo(e),this.stats_=af(n),this.urlFn=f=>(this.appCheckToken&&(f[ih]=this.appCheckToken),iw(n,nw,f))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(gP)),H1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lf((...l)=>{const[u,d,f,p,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===iv)this.id=d,this.password=f;else if(u===oP)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[iv]="t",i[aw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[uP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[q0]=of,this.transportSessionId&&(i[Y0]=this.transportSessionId),this.lastSessionId&&(i[Z0]=this.lastSessionId),this.applicationId&&(i[ew]=this.applicationId),this.appCheckToken&&(i[ih]=this.appCheckToken),typeof location<"u"&&location.hostname&&J0.test(location.hostname)&&(i[Q0]=X0);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mi.forceAllow_=!0}static forceDisallow(){Mi.forceDisallow_=!0}static isAvailable(){return Mi.forceAllow_?!0:!Mi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!G1()&&!q1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=J_(n),o=K0(i,pP);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[fP]="t",i[sw]=e,i[ow]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=st(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class lf{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=z1(),window[aP+this.uniqueCallbackIdentifier]=e,window[lP+this.uniqueCallbackIdentifier]=n,this.myIFrame=lf.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){ut("frame writing exception"),d.stack&&ut(d.stack),ut(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ut("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[sw]=this.myID,e[ow]=this.myPW,e[aw]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uw+i.length<=lw;){const u=this.pendingSegs.shift();i=i+"&"+cP+o+"="+u.seg+"&"+dP+o+"="+u.ts+"&"+hP+o+"="+u.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(mP)),l=()=>{clearTimeout(o),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=16384,vP=45e3;let Ml=null;typeof MozWebSocket<"u"?Ml=MozWebSocket:typeof WebSocket<"u"&&(Ml=WebSocket);class rn{constructor(e,n,i,o,l,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wo(this.connId),this.stats_=af(n),this.connURL=rn.connectionURL_(n,u,d,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,l){const u={};return u[q0]=of,typeof location<"u"&&location.hostname&&J0.test(location.hostname)&&(u[Q0]=X0),n&&(u[Y0]=n),i&&(u[Z0]=i),o&&(u[ih]=o),l&&(u[ew]=l),iw(e,tw,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hr.set("previous_websocket_failure",!0);try{let i;tT(),this.mySock=new Ml(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){rn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ml!==null&&!rn.forceDisallow_}static previouslyFailed(){return Hr.isInMemoryStorage||Hr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=_o(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=K0(n,yP);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rn.responsesRequiredToBeHealthy=2;rn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Mi,rn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=rn&&rn.isAvailable();let i=n&&!rn.previouslyFailed();if(e.webSocketOnly&&(n||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[rn];else{const o=this.transports_=[];for(const l of xo.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);xo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=6e4,wP=5e3,SP=10*1024,EP=100*1024,Id="t",sv="d",xP="s",ov="r",CP="e",av="o",lv="a",uv="n",cv="p",TP="h";class IP{constructor(e,n,i,o,l,u,d,f,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=f,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wo("c:"+this.id+":"),this.transportManager_=new xo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=uo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>EP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>SP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Id in e){const n=e[Id];n===lv?this.upgradeIfSecondaryHealthy_():n===ov?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===av&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xs("t",e),i=Xs("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:uv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xs("t",e),i=Xs("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xs(Id,e);if(sv in e){const i=e[sv];if(n===TP){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===uv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===xP?this.onConnectionShutdown_(i):n===ov?this.onReset_(i):n===CP?rh("Server Error: "+i):n===av?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),of!==i&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),uo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_P))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(wP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends dw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ol}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=32,hv=768;class Te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function we(){return new Te("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function vr(t){return t.pieces_.length-t.pieceNum_}function Ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Te(t.pieces_,e)}function uf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Co(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function hw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Te(e,0)}function We(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Te)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new Te(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function Nt(t,e){const n=de(t),i=de(e);if(n===null)return e;if(n===i)return Nt(Ae(t),Ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function PP(t,e){const n=Co(t,0),i=Co(e,0);for(let o=0;o<n.length&&o<i.length;o++){const l=si(n[o],i[o]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function cf(t,e){if(vr(t)!==vr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(vr(t)>vr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class NP{constructor(e,n){this.errorPrefix_=n,this.parts_=Co(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=eu(this.parts_[i]);fw(this)}}function RP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=eu(e),fw(t)}function AP(t){const e=t.parts_.pop();t.byteLength_-=eu(e),t.parts_.length>0&&(t.byteLength_-=1)}function fw(t){if(t.byteLength_>hv)throw new Error(t.errorPrefix_+"has a key path longer than "+hv+" bytes ("+t.byteLength_+").");if(t.parts_.length>dv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+dv+") or object contains a cycle "+zr(t))}function zr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends dw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new df}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=1e3,bP=300*1e3,fv=30*1e3,DP=1.3,MP=3e4,OP="server_kill",pv=3;class Dn extends cw{constructor(e,n,i,o,l,u,d,f){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=f,this.id=Dn.nextPersistentConnectionId_++,this.log_=Wo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Js,this.maxReconnectDelay_=bP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,f)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");df.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ol.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(st(l)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new Lo,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const f=d.d,p=d.s;Dn.warnOnListenWarnings_(f,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),p!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(p,f))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&_n(e,"w")){const i=Ki(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||lT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=aT(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";o&&(l.q=i,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+st(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):rh("Unrecognized action received from server: "+st(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Js,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Js,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>MP&&(this.reconnectDelay_=Js),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*DP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Dn.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const f=function(){d?d.close():(u=!0,i())},p=function(y){W(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:f,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,d=new IP(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,x=>{St(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(OP)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&St(y),f())}}}interrupt(e){ut("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ut("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gd(this.interruptReasons_)&&(this.reconnectDelay_=Js,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>sf(l)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new Te(e).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){ut("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=pv&&(this.reconnectDelay_=fv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ut("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=pv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+W0.replace(/\./g,"-")]=1,zh()?e["framework.cordova"]=1:r0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ol.getInstance().currentlyOnline();return Gd(this.interruptReasons_)&&e}}Dn.nextPersistentConnectionId_=0;Dn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new fe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new fe(ti,e),o=new fe(ti,n);return this.compare(i,o)!==0}minPost(){return fe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl;class pw extends su{static get __EMPTY_NODE(){return cl}static set __EMPTY_NODE(e){cl=e}compare(e,n){return si(e.name,n.name)}isDefinedOn(e){throw ts("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return fe.MIN}maxPost(){return new fe(yr,cl)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new fe(e,cl)}toString(){return".key"}}const qr=new pw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rt{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??rt.RED,this.left=o??Rt.EMPTY_NODE,this.right=l??Rt.EMPTY_NODE}copy(e,n,i,o,l){return new rt(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class LP{copy(e,n,i,o,l){return this}insert(e,n,i){return new rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(e,n=Rt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(e){return new Rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new dl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new dl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new dl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new dl(this.root_,null,this.comparator_,!0,e)}}Rt.EMPTY_NODE=new LP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t,e){return si(t.name,e.name)}function hf(t,e){return si(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh;function jP(t){sh=t}const mw=function(t){return typeof t=="number"?"number:"+G0(t):"string:"+t},gw=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_n(e,".sv"),"Priority must be a string or number.")}else W(t===sh||t.isEmpty(),"priority of unexpected type.");W(t===sh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mv;class nt{constructor(e,n=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gw(this.priorityNode_)}static set __childrenNodeConstructor(e){mv=e}static get __childrenNodeConstructor(){return mv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new nt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:de(e)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=de(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(W(i!==".priority"||vr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+mw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=G0(this.value_):e+=this.value_,this.lazyHash_=H0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===nt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof nt.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=nt.VALUE_TYPE_ORDER.indexOf(n),l=nt.VALUE_TYPE_ORDER.indexOf(i);return W(o>=0,"Unknown leaf type: "+n),W(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yw,vw;function VP(t){yw=t}function UP(t){vw=t}class BP extends su{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),l=i.compareTo(o);return l===0?si(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(yr,new nt("[PRIORITY-POST]",vw))}makePost(e,n){const i=yw(e);return new fe(n,new nt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ue=new BP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=Math.log(2);class WP{constructor(e){const n=l=>parseInt(Math.log(l)/zP,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ll=function(t,e,n,i){t.sort(e);const o=function(f,p){const g=p-f;let y,_;if(g===0)return null;if(g===1)return y=t[f],_=n?n(y):y,new rt(_,y.node,rt.BLACK,null,null);{const x=parseInt(g/2,10)+f,T=o(f,x),A=o(x+1,p);return y=t[x],_=n?n(y):y,new rt(_,y.node,rt.BLACK,T,A)}},l=function(f){let p=null,g=null,y=t.length;const _=function(T,A){const R=y-T,V=y;y-=T;const H=o(R+1,V),b=t[R],M=n?n(b):b;x(new rt(M,b.node,A,null,H))},x=function(T){p?(p.left=T,p=T):(g=T,p=T)};for(let T=0;T<f.count;++T){const A=f.nextBitIsOne(),R=Math.pow(2,f.count-(T+1));A?_(R,rt.BLACK):(_(R,rt.BLACK),_(R,rt.RED))}return g},u=new WP(t.length),d=l(u);return new Rt(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd;const Di={};class bn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return W(Di&&Ue,"ChildrenNode.ts has not been loaded"),kd=kd||new bn({".priority":Di},{".priority":Ue}),kd}get(e){const n=Ki(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rt?n:null}hasIndex(e){return _n(this.indexSet_,e.toString())}addIndex(e,n){W(e!==qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=n.getIterator(fe.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let d;o?d=Ll(i,e.getCompare()):d=Di;const f=e.toString(),p=Object.assign({},this.indexSet_);p[f]=e;const g=Object.assign({},this.indexes_);return g[f]=d,new bn(g,p)}addToIndexes(e,n){const i=Il(this.indexes_,(o,l)=>{const u=Ki(this.indexSet_,l);if(W(u,"Missing index implementation for "+l),o===Di)if(u.isDefinedOn(e.node)){const d=[],f=n.getIterator(fe.Wrap);let p=f.getNext();for(;p;)p.name!==e.name&&d.push(p),p=f.getNext();return d.push(e),Ll(d,u.getCompare())}else return Di;else{const d=n.get(e.name);let f=o;return d&&(f=f.remove(new fe(e.name,d))),f.insert(e,e.node)}});return new bn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Il(this.indexes_,o=>{if(o===Di)return o;{const l=n.get(e.name);return l?o.remove(new fe(e.name,l)):o}});return new bn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs;class oe{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&gw(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zs||(Zs=new oe(new Rt(hf),null,bn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zs}updatePriority(e){return this.children_.isEmpty()?this:new oe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zs:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(Ae(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new fe(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?Zs:this.priorityNode_;return new oe(o,u,l)}}updateChild(e,n){const i=de(e);if(i===null)return n;{W(de(e)!==".priority"||vr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Ae(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,l=!0;if(this.forEachChild(Ue,(u,d)=>{n[u]=d.val(e),i++,l&&oe.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*i){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+mw(this.getPriority().val())+":"),this.forEachChild(Ue,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":H0(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new fe(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new fe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new fe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,fe.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,fe.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$o?-1:0}withIndex(e){if(e===qr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new oe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ue),o=n.getIterator(Ue);let l=i.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===qr?null:this.indexMap_.get(e.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $P extends oe{constructor(){super(new Rt(hf),oe.EMPTY_NODE,bn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return oe.EMPTY_NODE}isEmpty(){return!1}}const $o=new $P;Object.defineProperties(fe,{MIN:{value:new fe(ti,oe.EMPTY_NODE)},MAX:{value:new fe(yr,$o)}});pw.__EMPTY_NODE=oe.EMPTY_NODE;nt.__childrenNodeConstructor=oe;jP($o);UP($o);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=!0;function it(t,e=null){if(t===null)return oe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new nt(n,it(e))}if(!(t instanceof Array)&&HP){const n=[];let i=!1;if(ct(t,(u,d)=>{if(u.substring(0,1)!=="."){const f=it(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),n.push(new fe(u,f)))}}),n.length===0)return oe.EMPTY_NODE;const l=Ll(n,FP,u=>u.name,hf);if(i){const u=Ll(n,Ue.getCompare());return new oe(l,it(e),new bn({".priority":u},{".priority":Ue}))}else return new oe(l,it(e),bn.Default)}else{let n=oe.EMPTY_NODE;return ct(t,(i,o)=>{if(_n(t,i)&&i.substring(0,1)!=="."){const l=it(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(it(e))}}VP(it);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends su{constructor(e){super(),this.indexPath_=e,W(!he(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),l=i.compareTo(o);return l===0?si(e.name,n.name):l}makePost(e,n){const i=it(e),o=oe.EMPTY_NODE.updateChild(this.indexPath_,i);return new fe(n,o)}maxPost(){const e=oe.EMPTY_NODE.updateChild(this.indexPath_,$o);return new fe(yr,e)}toString(){return Co(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP extends su{compare(e,n){const i=e.node.compareTo(n.node);return i===0?si(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,n){const i=it(e);return new fe(n,i)}toString(){return".value"}}const _w=new KP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){return{type:"value",snapshotNode:t}}function Yi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function To(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Io(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function GP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.index_=e}updateChild(e,n,i,o,l,u){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(To(n,d)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(Yi(n,i)):u.trackChildChange(Io(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ue,(o,l)=>{n.hasChild(o)||i.trackChildChange(To(o,l))}),n.isLeafNode()||n.forEachChild(Ue,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||i.trackChildChange(Io(o,l,u))}else i.trackChildChange(Yi(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?oe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.indexedFilter_=new pf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ko.getStartPost_(e),this.endPost_=ko.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,l,u){return this.matches(new fe(n,i))||(i=oe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=oe.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(oe.EMPTY_NODE);const l=this;return n.forEachChild(Ue,(u,d)=>{l.matches(new fe(u,d))||(o=o.updateImmediateChild(u,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ko(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,l,u){return this.rangedFilter_.matches(new fe(n,i))||(i=oe.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=oe.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(oe.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:o=o.updateImmediateChild(d.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(_,x)=>y(x,_)}else u=this.index_.getCompare();const d=e;W(d.numChildren()===this.limit_,"");const f=new fe(n,i),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),g=this.rangedFilter_.matches(f);if(d.hasChild(n)){const y=d.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,p,this.reverse_);for(;_!=null&&(_.name===n||d.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const x=_==null?1:u(_,f);if(g&&!i.isEmpty()&&x>=0)return l?.trackChildChange(Io(n,i,y)),d.updateImmediateChild(n,i);{l?.trackChildChange(To(n,y));const A=d.updateImmediateChild(n,oe.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(l?.trackChildChange(Yi(_.name,_.node)),A.updateImmediateChild(_.name,_.node)):A}}else return i.isEmpty()?e:g&&u(p,f)>=0?(l!=null&&(l.trackChildChange(To(p.name,p.node)),l.trackChildChange(Yi(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(p.name,oe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ti}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:yr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ue}copy(){const e=new mf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function YP(t){return t.loadsAllData()?new pf(t.getIndex()):t.hasLimit()?new qP(t):new ko(t)}function QP(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function XP(t,e,n){const i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function JP(t,e,n){const i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function ZP(t,e){const n=t.copy();return n.index_=e,n}function gv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ue?n="$priority":t.index_===_w?n="$value":t.index_===qr?n="$key":(W(t.index_ instanceof ff,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=st(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=st(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+st(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=st(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+st(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function yv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends cw{constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Wo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=Fl.getListenId_(e,i),d={};this.listens_[u]=d;const f=gv(e._queryParams);this.restRequest_(l+".json",f,(p,g)=>{let y=g;if(p===404&&(y=null,p=null),p===null&&this.onDataUpdate_(l,y,!1,i),Ki(this.listens_,u)===d){let _;p?p===401?_="permission_denied":_="rest_error:"+p:_="ok",o(_,null)}})}unlisten(e,n){const i=Fl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=gv(e._queryParams),i=e._path.toString(),o=new Lo;return this.restRequest_(i+".json",n,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ns(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=_o(d.responseText)}catch{St("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,f)}else d.status!==401&&d.status!==404&&St("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(){return{value:null,children:new Map}}function Sw(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=de(e);t.children.has(i)||t.children.set(i,jl());const o=t.children.get(i);e=Ae(e),Sw(o,e,n)}}function oh(t,e,n){t.value!==null?n(e,t.value):tN(t,(i,o)=>{const l=new Te(e.toString()+"/"+i);oh(o,l,n)})}function tN(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=10*1e3,rN=30*1e3,iN=300*1e3;class sN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new nN(e);const i=vv+(rN-vv)*Math.random();uo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ct(e,(o,l)=>{l>0&&_n(this.statsToReport_,o)&&(n[o]=l,i=!0)}),i&&this.server_.reportStats(n),uo(this.reportStats_.bind(this),Math.floor(Math.random()*2*iN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function gf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=sn.ACK_USER_WRITE,this.source=gf()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Te(e));return new Vl(we(),n,this.revert)}}else return W(de(this.path)===e,"operationForChild called for unrelated child."),new Vl(Ae(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.source=e,this.path=n,this.type=sn.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new Po(this.source,we()):new Po(this.source,Ae(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=sn.OVERWRITE}operationForChild(e){return he(this.path)?new ni(this.source,we(),this.snap.getImmediateChild(e)):new ni(this.source,Ae(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=sn.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new Te(e));return n.isEmpty()?null:n.value?new ni(this.source,we(),n.value):new Qi(this.source,we(),n)}else return W(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Qi(this.source,Ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function aN(t,e,n,i){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(GP(u.childName,u.snapshotNode))}),eo(t,o,"child_removed",e,i,n),eo(t,o,"child_added",e,i,n),eo(t,o,"child_moved",l,i,n),eo(t,o,"child_changed",e,i,n),eo(t,o,"value",e,i,n),o}function eo(t,e,n,i,o,l){const u=i.filter(d=>d.type===n);u.sort((d,f)=>uN(t,d,f)),u.forEach(d=>{const f=lN(t,d,l);o.forEach(p=>{p.respondsTo(d.type)&&e.push(p.createEvent(f,t.query_))})})}function lN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function uN(t,e,n){if(e.childName==null||n.childName==null)throw ts("Should only compare child_ events.");const i=new fe(e.childName,e.snapshotNode),o=new fe(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e){return{eventCache:t,serverCache:e}}function co(t,e,n,i){return ou(new ri(e,n,i),t.serverCache)}function Ew(t,e,n,i){return ou(t.eventCache,new ri(e,n,i))}function ah(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ii(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd;const cN=()=>(Pd||(Pd=new Rt(K1)),Pd);class Re{constructor(e,n=cN()){this.value=e,this.children=n}static fromObject(e){let n=new Re(null);return ct(e,(i,o)=>{n=n.set(new Te(i),o)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(he(e))return null;{const i=de(e),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(Ae(e),n);return l!=null?{path:We(new Te(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=de(e),i=this.children.get(n);return i!==null?i.subtree(Ae(e)):new Re(null)}}set(e,n){if(he(e))return new Re(n,this.children);{const i=de(e),l=(this.children.get(i)||new Re(null)).set(Ae(e),n),u=this.children.insert(i,l);return new Re(this.value,u)}}remove(e){if(he(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=de(e),i=this.children.get(n);if(i){const o=i.remove(Ae(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new Re(null):new Re(this.value,l)}else return this}}get(e){if(he(e))return this.value;{const n=de(e),i=this.children.get(n);return i?i.get(Ae(e)):null}}setTree(e,n){if(he(e))return n;{const i=de(e),l=(this.children.get(i)||new Re(null)).setTree(Ae(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new Re(this.value,u)}}fold(e){return this.fold_(we(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(We(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,we(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(he(e))return null;{const l=de(e),u=this.children.get(l);return u?u.findOnPath_(Ae(e),We(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,we(),n)}foreachOnPath_(e,n,i){if(he(e))return this;{this.value&&i(n,this.value);const o=de(e),l=this.children.get(o);return l?l.foreachOnPath_(Ae(e),We(n,o),i):new Re(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(We(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.writeTree_=e}static empty(){return new an(new Re(null))}}function ho(t,e,n){if(he(e))return new an(new Re(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let l=i.value;const u=Nt(o,e);return l=l.updateChild(u,n),new an(t.writeTree_.set(o,l))}else{const o=new Re(n),l=t.writeTree_.setTree(e,o);return new an(l)}}}function lh(t,e,n){let i=t;return ct(n,(o,l)=>{i=ho(i,We(e,o),l)}),i}function _v(t,e){if(he(e))return an.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new an(n)}}function uh(t,e){return oi(t,e)!=null}function oi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Nt(n.path,e)):null}function wv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ue,(i,o)=>{e.push(new fe(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new fe(i,o.value))}),e}function gr(t,e){if(he(e))return t;{const n=oi(t,e);return n!=null?new an(new Re(n)):new an(t.writeTree_.subtree(e))}}function ch(t){return t.writeTree_.isEmpty()}function Xi(t,e){return xw(we(),t.writeTree_,e)}function xw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(W(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=xw(We(t,o),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(We(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t,e){return kw(e,t)}function dN(t,e,n,i,o){W(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=ho(t.visibleWrites,e,n)),t.lastWriteId=i}function hN(t,e,n,i){W(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=lh(t.visibleWrites,e,n),t.lastWriteId=i}function fN(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function pN(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,l=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&mN(d,i.path)?o=!1:Ht(i.path,d.path)&&(l=!0)),u--}if(o){if(l)return gN(t),!0;if(i.snap)t.visibleWrites=_v(t.visibleWrites,i.path);else{const d=i.children;ct(d,f=>{t.visibleWrites=_v(t.visibleWrites,We(i.path,f))})}return!0}else return!1}function mN(t,e){if(t.snap)return Ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ht(We(t.path,n),e))return!0;return!1}function gN(t){t.visibleWrites=Cw(t.allWrites,yN,we()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yN(t){return t.visible}function Cw(t,e,n){let i=an.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const u=l.path;let d;if(l.snap)Ht(n,u)?(d=Nt(n,u),i=ho(i,d,l.snap)):Ht(u,n)&&(d=Nt(u,n),i=ho(i,we(),l.snap.getChild(d)));else if(l.children){if(Ht(n,u))d=Nt(n,u),i=lh(i,d,l.children);else if(Ht(u,n))if(d=Nt(u,n),he(d))i=lh(i,we(),l.children);else{const f=Ki(l.children,de(d));if(f){const p=f.getChild(Ae(d));i=ho(i,we(),p)}}}else throw ts("WriteRecord should have .snap or .children")}}return i}function Tw(t,e,n,i,o){if(!i&&!o){const l=oi(t.visibleWrites,e);if(l!=null)return l;{const u=gr(t.visibleWrites,e);if(ch(u))return n;if(n==null&&!uh(u,we()))return null;{const d=n||oe.EMPTY_NODE;return Xi(u,d)}}}else{const l=gr(t.visibleWrites,e);if(!o&&ch(l))return n;if(!o&&n==null&&!uh(l,we()))return null;{const u=function(p){return(p.visible||o)&&(!i||!~i.indexOf(p.writeId))&&(Ht(p.path,e)||Ht(e,p.path))},d=Cw(t.allWrites,u,e),f=n||oe.EMPTY_NODE;return Xi(d,f)}}}function vN(t,e,n){let i=oe.EMPTY_NODE;const o=oi(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ue,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=gr(t.visibleWrites,e);return n.forEachChild(Ue,(u,d)=>{const f=Xi(gr(l,new Te(u)),d);i=i.updateImmediateChild(u,f)}),wv(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=gr(t.visibleWrites,e);return wv(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function _N(t,e,n,i,o){W(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=We(e,n);if(uh(t.visibleWrites,l))return null;{const u=gr(t.visibleWrites,l);return ch(u)?o.getChild(n):Xi(u,o.getChild(n))}}function wN(t,e,n,i){const o=We(e,n),l=oi(t.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=gr(t.visibleWrites,o);return Xi(u,i.getNode().getImmediateChild(n))}else return null}function SN(t,e){return oi(t.visibleWrites,e)}function EN(t,e,n,i,o,l,u){let d;const f=gr(t.visibleWrites,e),p=oi(f,we());if(p!=null)d=p;else if(n!=null)d=Xi(f,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const g=[],y=u.getCompare(),_=l?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let x=_.getNext();for(;x&&g.length<o;)y(x,i)!==0&&g.push(x),x=_.getNext();return g}else return[]}function xN(){return{visibleWrites:an.empty(),allWrites:[],lastWriteId:-1}}function Ul(t,e,n,i){return Tw(t.writeTree,t.treePath,e,n,i)}function wf(t,e){return vN(t.writeTree,t.treePath,e)}function Sv(t,e,n,i){return _N(t.writeTree,t.treePath,e,n,i)}function Bl(t,e){return SN(t.writeTree,We(t.treePath,e))}function CN(t,e,n,i,o,l){return EN(t.writeTree,t.treePath,e,n,i,o,l)}function Sf(t,e,n){return wN(t.writeTree,t.treePath,e,n)}function Iw(t,e){return kw(We(t.treePath,e),t.writeTree)}function kw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,Io(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,To(i,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,Yi(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,Io(i,e.snapshotNode,o.oldSnap));else throw ts("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const Pw=new IN;class Ef{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ri(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sf(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ii(this.viewCache_),l=CN(this.writes_,o,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){return{filter:t}}function PN(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function NN(t,e,n,i,o){const l=new TN;let u,d;if(n.type===sn.OVERWRITE){const p=n;p.source.fromUser?u=dh(t,e,p.path,p.snap,i,o,l):(W(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered()&&!he(p.path),u=zl(t,e,p.path,p.snap,i,o,d,l))}else if(n.type===sn.MERGE){const p=n;p.source.fromUser?u=AN(t,e,p.path,p.children,i,o,l):(W(p.source.fromServer,"Unknown source."),d=p.source.tagged||e.serverCache.isFiltered(),u=hh(t,e,p.path,p.children,i,o,d,l))}else if(n.type===sn.ACK_USER_WRITE){const p=n;p.revert?u=MN(t,e,p.path,i,o,l):u=bN(t,e,p.path,p.affectedTree,i,o,l)}else if(n.type===sn.LISTEN_COMPLETE)u=DN(t,e,n.path,i,l);else throw ts("Unknown operation type: "+n.type);const f=l.getChanges();return RN(e,u,f),{viewCache:u,changes:f}}function RN(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=ah(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(ww(ah(e)))}}function Nw(t,e,n,i,o,l){const u=e.eventCache;if(Bl(i,n)!=null)return e;{let d,f;if(he(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=ii(e),g=p instanceof oe?p:oe.EMPTY_NODE,y=wf(i,g);d=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const p=Ul(i,ii(e));d=t.filter.updateFullNode(e.eventCache.getNode(),p,l)}else{const p=de(n);if(p===".priority"){W(vr(n)===1,"Can't have a priority with additional path components");const g=u.getNode();f=e.serverCache.getNode();const y=Sv(i,n,g,f);y!=null?d=t.filter.updatePriority(g,y):d=u.getNode()}else{const g=Ae(n);let y;if(u.isCompleteForChild(p)){f=e.serverCache.getNode();const _=Sv(i,n,u.getNode(),f);_!=null?y=u.getNode().getImmediateChild(p).updateChild(g,_):y=u.getNode().getImmediateChild(p)}else y=Sf(i,p,e.serverCache);y!=null?d=t.filter.updateChild(u.getNode(),p,y,g,o,l):d=u.getNode()}}return co(e,d,u.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function zl(t,e,n,i,o,l,u,d){const f=e.serverCache;let p;const g=u?t.filter:t.filter.getIndexedFilter();if(he(n))p=g.updateFullNode(f.getNode(),i,null);else if(g.filtersNodes()&&!f.isFiltered()){const x=f.getNode().updateChild(n,i);p=g.updateFullNode(f.getNode(),x,null)}else{const x=de(n);if(!f.isCompleteForPath(n)&&vr(n)>1)return e;const T=Ae(n),R=f.getNode().getImmediateChild(x).updateChild(T,i);x===".priority"?p=g.updatePriority(f.getNode(),R):p=g.updateChild(f.getNode(),x,R,T,Pw,null)}const y=Ew(e,p,f.isFullyInitialized()||he(n),g.filtersNodes()),_=new Ef(o,y,l);return Nw(t,y,n,o,_,d)}function dh(t,e,n,i,o,l,u){const d=e.eventCache;let f,p;const g=new Ef(o,e,l);if(he(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,u),f=co(e,p,!0,t.filter.filtersNodes());else{const y=de(n);if(y===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),f=co(e,p,d.isFullyInitialized(),d.isFiltered());else{const _=Ae(n),x=d.getNode().getImmediateChild(y);let T;if(he(_))T=i;else{const A=g.getCompleteChild(y);A!=null?uf(_)===".priority"&&A.getChild(hw(_)).isEmpty()?T=A:T=A.updateChild(_,i):T=oe.EMPTY_NODE}if(x.equals(T))f=e;else{const A=t.filter.updateChild(d.getNode(),y,T,_,g,u);f=co(e,A,d.isFullyInitialized(),t.filter.filtersNodes())}}}return f}function Ev(t,e){return t.eventCache.isCompleteForChild(e)}function AN(t,e,n,i,o,l,u){let d=e;return i.foreach((f,p)=>{const g=We(n,f);Ev(e,de(g))&&(d=dh(t,d,g,p,o,l,u))}),i.foreach((f,p)=>{const g=We(n,f);Ev(e,de(g))||(d=dh(t,d,g,p,o,l,u))}),d}function xv(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function hh(t,e,n,i,o,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let f=e,p;he(n)?p=i:p=new Re(null).setTree(n,i);const g=e.serverCache.getNode();return p.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const x=e.serverCache.getNode().getImmediateChild(y),T=xv(t,x,_);f=zl(t,f,new Te(y),T,o,l,u,d)}}),p.children.inorderTraversal((y,_)=>{const x=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!x){const T=e.serverCache.getNode().getImmediateChild(y),A=xv(t,T,_);f=zl(t,f,new Te(y),A,o,l,u,d)}}),f}function bN(t,e,n,i,o,l,u){if(Bl(o,n)!=null)return e;const d=e.serverCache.isFiltered(),f=e.serverCache;if(i.value!=null){if(he(n)&&f.isFullyInitialized()||f.isCompleteForPath(n))return zl(t,e,n,f.getNode().getChild(n),o,l,d,u);if(he(n)){let p=new Re(null);return f.getNode().forEachChild(qr,(g,y)=>{p=p.set(new Te(g),y)}),hh(t,e,n,p,o,l,d,u)}else return e}else{let p=new Re(null);return i.foreach((g,y)=>{const _=We(n,g);f.isCompleteForPath(_)&&(p=p.set(g,f.getNode().getChild(_)))}),hh(t,e,n,p,o,l,d,u)}}function DN(t,e,n,i,o){const l=e.serverCache,u=Ew(e,l.getNode(),l.isFullyInitialized()||he(n),l.isFiltered());return Nw(t,u,n,i,Pw,o)}function MN(t,e,n,i,o,l){let u;if(Bl(i,n)!=null)return e;{const d=new Ef(i,e,o),f=e.eventCache.getNode();let p;if(he(n)||de(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Ul(i,ii(e));else{const y=e.serverCache.getNode();W(y instanceof oe,"serverChildren would be complete if leaf node"),g=wf(i,y)}g=g,p=t.filter.updateFullNode(f,g,l)}else{const g=de(n);let y=Sf(i,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=f.getImmediateChild(g)),y!=null?p=t.filter.updateChild(f,g,y,Ae(n),d,l):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(f,g,oe.EMPTY_NODE,Ae(n),d,l):p=f,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Ul(i,ii(e)),u.isLeafNode()&&(p=t.filter.updateFullNode(p,u,l)))}return u=e.serverCache.isFullyInitialized()||Bl(i,we())!=null,co(e,p,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new pf(i.getIndex()),l=YP(i);this.processor_=kN(l);const u=n.serverCache,d=n.eventCache,f=o.updateFullNode(oe.EMPTY_NODE,u.getNode(),null),p=l.updateFullNode(oe.EMPTY_NODE,d.getNode(),null),g=new ri(f,u.isFullyInitialized(),o.filtersNodes()),y=new ri(p,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=ou(y,g),this.eventGenerator_=new oN(this.query_)}get query(){return this.query_}}function LN(t){return t.viewCache_.serverCache.getNode()}function FN(t,e){const n=ii(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function Cv(t){return t.eventRegistrations_.length===0}function jN(t,e){t.eventRegistrations_.push(e)}function Tv(t,e,n){const i=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,o);u&&i.push(u)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function Iv(t,e,n,i){e.type===sn.MERGE&&e.source.queryId!==null&&(W(ii(t.viewCache_),"We should always have a full cache before handling merges"),W(ah(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=NN(t.processor_,o,e,n,i);return PN(t.processor_,l.viewCache),W(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,Rw(t,l.changes,l.viewCache.eventCache.getNode(),null)}function VN(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ue,(l,u)=>{i.push(Yi(l,u))}),n.isFullyInitialized()&&i.push(ww(n.getNode())),Rw(t,i,n.getNode(),e)}function Rw(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return aN(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl;class UN{constructor(){this.views=new Map}}function BN(t){W(!Wl,"__referenceConstructor has already been defined"),Wl=t}function zN(){return W(Wl,"Reference.ts has not been loaded"),Wl}function WN(t){return t.views.size===0}function xf(t,e,n,i){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return W(l!=null,"SyncTree gave us an op for an invalid query."),Iv(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(Iv(u,e,n,i));return l}}function $N(t,e,n,i,o){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let d=Ul(n,o?i:null),f=!1;d?f=!0:i instanceof oe?(d=wf(n,i),f=!1):(d=oe.EMPTY_NODE,f=!1);const p=ou(new ri(d,f,!1),new ri(i,o,!1));return new ON(e,p)}return u}function HN(t,e,n,i,o,l){const u=$N(t,e,i,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),jN(u,n),VN(u,n)}function KN(t,e,n,i){const o=e._queryIdentifier,l=[];let u=[];const d=_r(t);if(o==="default")for(const[f,p]of t.views.entries())u=u.concat(Tv(p,n,i)),Cv(p)&&(t.views.delete(f),p.query._queryParams.loadsAllData()||l.push(p.query));else{const f=t.views.get(o);f&&(u=u.concat(Tv(f,n,i)),Cv(f)&&(t.views.delete(o),f.query._queryParams.loadsAllData()||l.push(f.query)))}return d&&!_r(t)&&l.push(new(zN())(e._repo,e._path)),{removed:l,events:u}}function Aw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function $i(t,e){let n=null;for(const i of t.views.values())n=n||FN(i,e);return n}function bw(t,e){if(e._queryParams.loadsAllData())return au(t);{const i=e._queryIdentifier;return t.views.get(i)}}function Dw(t,e){return bw(t,e)!=null}function _r(t){return au(t)!=null}function au(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l;function GN(t){W(!$l,"__referenceConstructor has already been defined"),$l=t}function qN(){return W($l,"Reference.ts has not been loaded"),$l}let YN=1;class kv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=xN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Mw(t,e,n,i,o){return dN(t.pendingWriteTree_,e,n,i,o),o?os(t,new ni(gf(),e,n)):[]}function QN(t,e,n,i){hN(t.pendingWriteTree_,e,n,i);const o=Re.fromObject(n);return os(t,new Qi(gf(),e,o))}function dr(t,e,n=!1){const i=fN(t.pendingWriteTree_,e);if(pN(t.pendingWriteTree_,e)){let l=new Re(null);return i.snap!=null?l=l.set(we(),!0):ct(i.children,u=>{l=l.set(new Te(u),!0)}),os(t,new Vl(i.path,l,n))}else return[]}function lu(t,e,n){return os(t,new ni(yf(),e,n))}function XN(t,e,n){const i=Re.fromObject(n);return os(t,new Qi(yf(),e,i))}function JN(t,e){return os(t,new Po(yf(),e))}function ZN(t,e,n){const i=Tf(t,n);if(i){const o=If(i),l=o.path,u=o.queryId,d=Nt(l,e),f=new Po(vf(u),d);return kf(t,l,f)}else return[]}function fh(t,e,n,i,o=!1){const l=e._path,u=t.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||Dw(u,e))){const f=KN(u,e,n,i);WN(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const p=f.removed;if(d=f.events,!o){const g=p.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(_,x)=>_r(x));if(g&&!y){const _=t.syncPointTree_.subtree(l);if(!_.isEmpty()){const x=nR(_);for(let T=0;T<x.length;++T){const A=x[T],R=A.query,V=Fw(t,A);t.listenProvider_.startListening(fo(R),Hl(t,R),V.hashFn,V.onComplete)}}}!y&&p.length>0&&!i&&(g?t.listenProvider_.stopListening(fo(e),null):p.forEach(_=>{const x=t.queryToTagMap.get(uu(_));t.listenProvider_.stopListening(fo(_),x)}))}rR(t,p)}return d}function eR(t,e,n,i){const o=Tf(t,i);if(o!=null){const l=If(o),u=l.path,d=l.queryId,f=Nt(u,e),p=new ni(vf(d),f,n);return kf(t,u,p)}else return[]}function tR(t,e,n,i){const o=Tf(t,i);if(o){const l=If(o),u=l.path,d=l.queryId,f=Nt(u,e),p=Re.fromObject(n),g=new Qi(vf(d),f,p);return kf(t,u,g)}else return[]}function Pv(t,e,n,i=!1){const o=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(o,(_,x)=>{const T=Nt(_,o);l=l||$i(x,T),u=u||_r(x)});let d=t.syncPointTree_.get(o);d?(u=u||_r(d),l=l||$i(d,we())):(d=new UN,t.syncPointTree_=t.syncPointTree_.set(o,d));let f;l!=null?f=!0:(f=!1,l=oe.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((x,T)=>{const A=$i(T,we());A&&(l=l.updateImmediateChild(x,A))}));const p=Dw(d,e);if(!p&&!e._queryParams.loadsAllData()){const _=uu(e);W(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const x=iR();t.queryToTagMap.set(_,x),t.tagToQueryMap.set(x,_)}const g=_f(t.pendingWriteTree_,o);let y=HN(d,e,n,g,l,f);if(!p&&!u&&!i){const _=bw(d,e);y=y.concat(sR(t,e,_))}return y}function Cf(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,d)=>{const f=Nt(u,e),p=$i(d,f);if(p)return p});return Tw(o,e,l,n,!0)}function os(t,e){return Ow(e,t.syncPointTree_,null,_f(t.pendingWriteTree_,we()))}function Ow(t,e,n,i){if(he(t.path))return Lw(t,e,n,i);{const o=e.get(we());n==null&&o!=null&&(n=$i(o,we()));let l=[];const u=de(t.path),d=t.operationForChild(u),f=e.children.get(u);if(f&&d){const p=n?n.getImmediateChild(u):null,g=Iw(i,u);l=l.concat(Ow(d,f,p,g))}return o&&(l=l.concat(xf(o,t,i,n))),l}}function Lw(t,e,n,i){const o=e.get(we());n==null&&o!=null&&(n=$i(o,we()));let l=[];return e.children.inorderTraversal((u,d)=>{const f=n?n.getImmediateChild(u):null,p=Iw(i,u),g=t.operationForChild(u);g&&(l=l.concat(Lw(g,d,f,p)))}),o&&(l=l.concat(xf(o,t,i,n))),l}function Fw(t,e){const n=e.query,i=Hl(t,n);return{hashFn:()=>(LN(e)||oe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?ZN(t,n._path,i):JN(t,n._path);{const l=Y1(o,n);return fh(t,n,null,l)}}}}function Hl(t,e){const n=uu(e);return t.queryToTagMap.get(n)}function uu(t){return t._path.toString()+"$"+t._queryIdentifier}function Tf(t,e){return t.tagToQueryMap.get(e)}function If(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Te(t.substr(0,e))}}function kf(t,e,n){const i=t.syncPointTree_.get(e);W(i,"Missing sync point for query tag that we're tracking");const o=_f(t.pendingWriteTree_,e);return xf(i,n,o,null)}function nR(t){return t.fold((e,n,i)=>{if(n&&_r(n))return[au(n)];{let o=[];return n&&(o=Aw(n)),ct(i,(l,u)=>{o=o.concat(u)}),o}})}function fo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(qN())(t._repo,t._path):t}function rR(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=uu(i),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function iR(){return YN++}function sR(t,e,n){const i=e._path,o=Hl(t,e),l=Fw(t,n),u=t.listenProvider_.startListening(fo(e),o,l.hashFn,l.onComplete),d=t.syncPointTree_.subtree(i);if(o)W(!_r(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((p,g,y)=>{if(!he(p)&&g&&_r(g))return[au(g).query];{let _=[];return g&&(_=_.concat(Aw(g).map(x=>x.query))),ct(y,(x,T)=>{_=_.concat(T)}),_}});for(let p=0;p<f.length;++p){const g=f[p];t.listenProvider_.stopListening(fo(g),Hl(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Pf(n)}node(){return this.node_}}class Nf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=We(this.path_,e);return new Nf(this.syncTree_,n)}node(){return Cf(this.syncTree_,this.path_)}}const oR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Nv=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return aR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return lR(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},aR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},lR=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&W(!1,"Unexpected increment value: "+i);const o=e.node();if(W(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},jw=function(t,e,n,i){return Rf(e,new Nf(n,t),i)},Vw=function(t,e,n){return Rf(t,new Pf(e),n)};function Rf(t,e,n){const i=t.getPriority().val(),o=Nv(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,d=Nv(u.getValue(),e,n);return d!==u.getValue()||o!==u.getPriority().val()?new nt(d,it(o)):t}else{const u=t;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new nt(o))),u.forEachChild(Ue,(d,f)=>{const p=Rf(f,e.getImmediateChild(d),n);p!==f&&(l=l.updateImmediateChild(d,p))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function bf(t,e){let n=e instanceof Te?e:new Te(e),i=t,o=de(n);for(;o!==null;){const l=Ki(i.node.children,o)||{children:{},childCount:0};i=new Af(o,i,l),n=Ae(n),o=de(n)}return i}function as(t){return t.node.value}function Uw(t,e){t.node.value=e,ph(t)}function Bw(t){return t.node.childCount>0}function uR(t){return as(t)===void 0&&!Bw(t)}function cu(t,e){ct(t.node.children,(n,i)=>{e(new Af(n,t,i))})}function zw(t,e,n,i){n&&e(t),cu(t,o=>{zw(o,e,!0)})}function cR(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ho(t){return new Te(t.parent===null?t.name:Ho(t.parent)+"/"+t.name)}function ph(t){t.parent!==null&&dR(t.parent,t.name,t)}function dR(t,e,n){const i=uR(n),o=_n(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,ph(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,ph(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=/[\[\].#$\/\u0000-\u001F\u007F]/,fR=/[\[\].#$\u0000-\u001F\u007F]/,Nd=10*1024*1024,Df=function(t){return typeof t=="string"&&t.length!==0&&!hR.test(t)},Ww=function(t){return typeof t=="string"&&t.length!==0&&!fR.test(t)},pR=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ww(t)},mh=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!rf(t)||t&&typeof t=="object"&&_n(t,".sv")},Ko=function(t,e,n,i){i&&e===void 0||du(Zl(t,"value"),e,n)},du=function(t,e,n){const i=n instanceof Te?new NP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+zr(i));if(typeof e=="function")throw new Error(t+"contains a function "+zr(i)+" with contents = "+e.toString());if(rf(e))throw new Error(t+"contains "+e.toString()+" "+zr(i));if(typeof e=="string"&&e.length>Nd/3&&eu(e)>Nd)throw new Error(t+"contains a string greater than "+Nd+" utf8 bytes "+zr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(ct(e,(u,d)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!Df(u)))throw new Error(t+" contains an invalid key ("+u+") "+zr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);RP(i,u),du(t,d,i),AP(i)}),o&&l)throw new Error(t+' contains ".value" child '+zr(i)+" in addition to actual children.")}},mR=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=Co(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!Df(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(PP);let o=null;for(n=0;n<e.length;n++){if(i=e[n],o!==null&&Ht(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},gR=function(t,e,n,i){const o=Zl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];ct(e,(u,d)=>{const f=new Te(u);if(du(o,d,We(n,f)),uf(f)===".priority"&&!mh(d))throw new Error(o+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(f)}),mR(o,l)},Mf=function(t,e,n,i){if(!Ww(n))throw new Error(Zl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yR=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Mf(t,e,n)},Of=function(t,e){if(de(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},vR=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Df(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pR(n))throw new Error(Zl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hu(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],l=o.getPath();n!==null&&!cf(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function $w(t,e,n){hu(t,n),Hw(t,i=>cf(i,e))}function ln(t,e,n){hu(t,n),Hw(t,i=>Ht(i,e)||Ht(e,i))}function Hw(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const l=o.path;e(l)?(wR(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function wR(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();lo&&ut("event: "+n.toString()),ss(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="repo_interrupt",ER=25;class xR{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _R,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jl(),this.transactionQueueTree_=new Af,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CR(t,e,n){if(t.stats_=af(t.repoInfo_),t.forceRestClient_||Z1())t.server_=new Fl(t.repoInfo_,(i,o,l,u)=>{Rv(t,i,o,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Av(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Dn(t.repoInfo_,e,(i,o,l,u)=>{Rv(t,i,o,l,u)},i=>{Av(t,i)},i=>{TR(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=iP(t.repoInfo_,()=>new sN(t.stats_,t.server_)),t.infoData_=new eN,t.infoSyncTree_=new kv({startListening:(i,o,l,u)=>{let d=[];const f=t.infoData_.getNode(i._path);return f.isEmpty()||(d=lu(t.infoSyncTree_,i._path,f),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),Lf(t,"connected",!1),t.serverSyncTree_=new kv({startListening:(i,o,l,u)=>(t.server_.listen(i,l,o,(d,f)=>{const p=u(d,f);ln(t.eventQueue_,i._path,p)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function Kw(t){const n=t.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fu(t){return oR({timestamp:Kw(t)})}function Rv(t,e,n,i,o){t.dataUpdateCount++;const l=new Te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(i){const f=Il(n,p=>it(p));u=tR(t.serverSyncTree_,l,f,o)}else{const f=it(n);u=eR(t.serverSyncTree_,l,f,o)}else if(i){const f=Il(n,p=>it(p));u=XN(t.serverSyncTree_,l,f)}else{const f=it(n);u=lu(t.serverSyncTree_,l,f)}let d=l;u.length>0&&(d=Ji(t,l)),ln(t.eventQueue_,d,u)}function Av(t,e){Lf(t,"connected",e),e===!1&&PR(t)}function TR(t,e){ct(e,(n,i)=>{Lf(t,n,i)})}function Lf(t,e,n){const i=new Te("/.info/"+e),o=it(n);t.infoData_.updateSnapshot(i,o);const l=lu(t.infoSyncTree_,i,o);ln(t.eventQueue_,i,l)}function Ff(t){return t.nextWriteId_++}function IR(t,e,n,i,o){pu(t,"set",{path:e.toString(),value:n,priority:i});const l=fu(t),u=it(n,i),d=Cf(t.serverSyncTree_,e),f=Vw(u,d,l),p=Ff(t),g=Mw(t.serverSyncTree_,e,f,p,!0);hu(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(_,x)=>{const T=_==="ok";T||St("set at "+e+" failed: "+_);const A=dr(t.serverSyncTree_,p,!T);ln(t.eventQueue_,e,A),gh(t,o,_,x)});const y=Vf(t,e);Ji(t,y),ln(t.eventQueue_,y,[])}function kR(t,e,n,i){pu(t,"update",{path:e.toString(),value:n});let o=!0;const l=fu(t),u={};if(ct(n,(d,f)=>{o=!1,u[d]=jw(We(e,d),it(f),t.serverSyncTree_,l)}),o)ut("update() called with empty data.  Don't do anything."),gh(t,i,"ok",void 0);else{const d=Ff(t),f=QN(t.serverSyncTree_,e,u,d);hu(t.eventQueue_,f),t.server_.merge(e.toString(),n,(p,g)=>{const y=p==="ok";y||St("update at "+e+" failed: "+p);const _=dr(t.serverSyncTree_,d,!y),x=_.length>0?Ji(t,e):e;ln(t.eventQueue_,x,_),gh(t,i,p,g)}),ct(n,p=>{const g=Vf(t,We(e,p));Ji(t,g)}),ln(t.eventQueue_,e,[])}}function PR(t){pu(t,"onDisconnectEvents");const e=fu(t),n=jl();oh(t.onDisconnect_,we(),(o,l)=>{const u=jw(o,l,t.serverSyncTree_,e);Sw(n,o,u)});let i=[];oh(n,we(),(o,l)=>{i=i.concat(lu(t.serverSyncTree_,o,l));const u=Vf(t,o);Ji(t,u)}),t.onDisconnect_=jl(),ln(t.eventQueue_,we(),i)}function NR(t,e,n){let i;de(e._path)===".info"?i=Pv(t.infoSyncTree_,e,n):i=Pv(t.serverSyncTree_,e,n),$w(t.eventQueue_,e._path,i)}function bv(t,e,n){let i;de(e._path)===".info"?i=fh(t.infoSyncTree_,e,n):i=fh(t.serverSyncTree_,e,n),$w(t.eventQueue_,e._path,i)}function RR(t){t.persistentConnection_&&t.persistentConnection_.interrupt(SR)}function pu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ut(n,...e)}function gh(t,e,n,i){e&&ss(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;i&&(l+=": "+i);const u=new Error(l);u.code=o,e(u)}})}function Gw(t,e,n){return Cf(t.serverSyncTree_,e,n)||oe.EMPTY_NODE}function jf(t,e=t.transactionQueueTree_){if(e||mu(t,e),as(e)){const n=Yw(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&AR(t,Ho(e),n)}else Bw(e)&&cu(e,n=>{jf(t,n)})}function AR(t,e,n){const i=n.map(p=>p.currentWriteId),o=Gw(t,e,i);let l=o;const u=o.hash();for(let p=0;p<n.length;p++){const g=n[p];W(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Nt(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const d=l.val(!0),f=e;t.server_.put(f.toString(),d,p=>{pu(t,"transaction put response",{path:f.toString(),status:p});let g=[];if(p==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(dr(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();mu(t,bf(t.transactionQueueTree_,e)),jf(t,t.transactionQueueTree_),ln(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)ss(y[_])}else{if(p==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{St("transaction at "+f.toString()+" failed: "+p);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=p}Ji(t,e)}},u)}function Ji(t,e){const n=qw(t,e),i=Ho(n),o=Yw(t,n);return bR(t,o,i),i}function bR(t,e,n){if(e.length===0)return;const i=[];let o=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const f=e[d],p=Nt(n,f.path);let g=!1,y;if(W(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),f.status===4)g=!0,y=f.abortReason,o=o.concat(dr(t.serverSyncTree_,f.currentWriteId,!0));else if(f.status===0)if(f.retryCount>=ER)g=!0,y="maxretry",o=o.concat(dr(t.serverSyncTree_,f.currentWriteId,!0));else{const _=Gw(t,f.path,u);f.currentInputSnapshot=_;const x=e[d].update(_.val());if(x!==void 0){du("transaction failed: Data returned ",x,f.path);let T=it(x);typeof x=="object"&&x!=null&&_n(x,".priority")||(T=T.updatePriority(_.getPriority()));const R=f.currentWriteId,V=fu(t),H=Vw(T,_,V);f.currentOutputSnapshotRaw=T,f.currentOutputSnapshotResolved=H,f.currentWriteId=Ff(t),u.splice(u.indexOf(R),1),o=o.concat(Mw(t.serverSyncTree_,f.path,H,f.currentWriteId,f.applyLocally)),o=o.concat(dr(t.serverSyncTree_,R,!0))}else g=!0,y="nodata",o=o.concat(dr(t.serverSyncTree_,f.currentWriteId,!0))}ln(t.eventQueue_,n,o),o=[],g&&(e[d].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(y),!1,null))))}mu(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)ss(i[d]);jf(t,t.transactionQueueTree_)}function qw(t,e){let n,i=t.transactionQueueTree_;for(n=de(e);n!==null&&as(i)===void 0;)i=bf(i,n),e=Ae(e),n=de(e);return i}function Yw(t,e){const n=[];return Qw(t,e,n),n.sort((i,o)=>i.order-o.order),n}function Qw(t,e,n){const i=as(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);cu(e,o=>{Qw(t,o,n)})}function mu(t,e){const n=as(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,Uw(e,n.length>0?n:void 0)}cu(e,i=>{mu(t,i)})}function Vf(t,e){const n=Ho(qw(t,e)),i=bf(t.transactionQueueTree_,e);return cR(i,o=>{Rd(t,o)}),Rd(t,i),zw(i,o=>{Rd(t,o)}),n}function Rd(t,e){const n=as(e);if(n){const i=[];let o=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(W(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(W(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(dr(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?Uw(e,void 0):n.length=l+1,ln(t.eventQueue_,Ho(e),o);for(let u=0;u<i.length;u++)ss(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function MR(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):St(`Invalid query segment '${n}' in query '${t}'`)}return e}const Dv=function(t,e){const n=OR(t),i=n.namespace;n.domain==="firebase.com"&&Fn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Fn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||$1();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rw(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new Te(n.pathString)}},OR=function(t){let e="",n="",i="",o="",l="",u=!0,d="https",f=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(d=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=DR(t.substring(g,y)));const _=MR(t.substring(Math.min(t.length,y)));p=e.indexOf(":"),p>=0?(u=d==="https"||d==="wss",f=parseInt(e.substring(p+1),10)):p=e.length;const x=e.slice(0,p);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const T=e.indexOf(".");i=e.substring(0,T).toLowerCase(),n=e.substring(T+1),l=i}"ns"in _&&(l=_.ns)}return{host:e,port:f,domain:n,subdomain:i,secure:u,scheme:d,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",LR=(function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Mv.charAt(n%64),n=Math.floor(n/64);W(n===0,"Cannot push at time == 0");let u=l.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=Mv.charAt(e[o]);return W(u.length===20,"nextPushId: Length should be 20."),u}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class jR{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return he(this._path)?null:uf(this._path)}get ref(){return new Tr(this._repo,this._path)}get _queryIdentifier(){const e=yv(this._queryParams),n=sf(e);return n==="{}"?"default":n}get _queryObject(){return yv(this._queryParams)}isEqual(e){if(e=yt(e),!(e instanceof ai))return!1;const n=this._repo===e._repo,i=cf(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+kP(this._path)}}function UR(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Uf(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===qr){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ti)throw new Error(i);if(typeof e!="string")throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==yr)throw new Error(i);if(typeof n!="string")throw new Error(o)}}else if(t.getIndex()===Ue){if(e!=null&&!mh(e)||n!=null&&!mh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof ff||t.getIndex()===_w,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xw(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Tr extends ai{constructor(e,n){super(e,n,new mf,!1)}get parent(){const e=hw(this._path);return e===null?null:new Tr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Kl{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Te(e),i=No(this.ref,e);return new Kl(this._node.getChild(n),i,Ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new Kl(o,No(this.ref,i),Ue)))}hasChild(e){const n=new Te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Yr(t,e){return t=yt(t),t._checkNotDeleted("ref"),e!==void 0?No(t._root,e):t._root}function No(t,e){return t=yt(t),de(t._path)===null?yR("child","path",e):Mf("child","path",e),new Tr(t._repo,We(t._path,e))}function BR(t,e){t=yt(t),Of("push",t._path),Ko("push",e,t._path,!0);const n=Kw(t._repo),i=LR(n),o=No(t,i),l=No(t,i);let u;return u=Promise.resolve(l),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function zR(t){return Of("remove",t._path),Jw(t,null)}function Jw(t,e){t=yt(t),Of("set",t._path),Ko("set",e,t._path,!1);const n=new Lo;return IR(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function WR(t,e){gR("update",e,t._path);const n=new Lo;return kR(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Bf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new FR("value",this,new Kl(e.snapshotNode,new Tr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new jR(this,e,n):null}matches(e){return e instanceof Bf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function $R(t,e,n,i,o){let l;if(typeof i=="object"&&(l=void 0,o=i),typeof i=="function"&&(l=i),o&&o.onlyOnce){const f=n,p=(g,y)=>{bv(t._repo,t,d),f(g,y)};p.userCallback=n.userCallback,p.context=n.context,n=p}const u=new VR(n,l||void 0),d=new Bf(u);return NR(t._repo,t,d),()=>bv(t._repo,t,d)}function zf(t,e,n,i){return $R(t,"value",e,n,i)}class Go{}class HR extends Go{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Ko("endAt",this._value,e._path,!0);const n=JP(e._queryParams,this._value,this._key);if(Xw(n),Uf(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ai(e._repo,e._path,n,e._orderByCalled)}}class KR extends Go{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Ko("startAt",this._value,e._path,!0);const n=XP(e._queryParams,this._value,this._key);if(Xw(n),Uf(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ai(e._repo,e._path,n,e._orderByCalled)}}class GR extends Go{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ai(e._repo,e._path,QP(e._queryParams,this._limit),e._orderByCalled)}}function Zw(t){if(Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new GR(t)}class qR extends Go{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){UR(e,"orderByChild");const n=new Te(this._path);if(he(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new ff(n),o=ZP(e._queryParams,i);return Uf(o),new ai(e._repo,e._path,o,!0)}}function eS(t){return Mf("orderByChild","path",t),new qR(t)}class YR extends Go{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Ko("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new HR(this._value,this._key)._apply(new KR(this._value,this._key)._apply(e))}}function tS(t,e){return new YR(t,e)}function nS(t,...e){let n=yt(t);for(const i of e)n=i._apply(n);return n}BN(Tr);GN(Tr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="FIREBASE_DATABASE_EMULATOR_HOST",yh={};let XR=!1;function JR(t,e,n,i){t.repoInfo_=new rw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function ZR(t,e,n,i,o){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Fn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=Dv(l,o),d=u.repoInfo,f;typeof process<"u"&&Zy&&(f=Zy[QR]),f?(l=`http://${f}?ns=${d.namespace}`,u=Dv(l,o),d=u.repoInfo):u.repoInfo.secure;const p=new tP(t.name,t.options,e);vR("Invalid Firebase Database URL",u),he(u.path)||Fn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=tA(d,t,p,new eP(t.name,n));return new nA(g,t)}function eA(t,e){const n=yh[e];(!n||n[t.key]!==t)&&Fn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),RR(t),delete n[t.key]}function tA(t,e,n,i){let o=yh[e.name];o||(o={},yh[e.name]=o);let l=o[t.toURLString()];return l&&Fn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new xR(t,XR,n,i),o[t.toURLString()]=l,l}class nA{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Tr(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Fn("Cannot call "+e+" on a deleted database.")}}function rA(t=l0(),e){const n=Hh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=QC("database");i&&iA(n,...i)}return n}function iA(t,e,n,i={}){t=yt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Fn("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Fn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new _l(_l.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:XC(i.mockUserToken,t.app.options.projectId);l=new _l(u)}JR(o,e,n,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){j1(rs),Gi(new Zr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return ZR(i,o,l,n)},"PUBLIC").setMultipleInstances(!0)),pr(ev,tv,t),pr(ev,tv,"esm2017")}Dn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Dn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sA();const oA={apiKey:"AIzaSyBqPm_z-es3gBE7rkwKtjxqz1kVVJQnLHQ",authDomain:"silk-f4d35.firebaseapp.com",databaseURL:"https://silk-f4d35-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"silk-f4d35",storageBucket:"silk-f4d35.appspot.com",messagingSenderId:"385217886123",appId:"1:385217886123:web:8fc0ea599d59e1b19684ee",measurementId:"G-P6XL5EVE7N"},rS=a0(oA),Mn=M1(rS),Qr=rA(rS);function aA({current:t}){const[e,n]=F.useState(null);F.useEffect(()=>{const d=Uo(Mn,f=>{n(f)});return()=>d()},[]);const i=async()=>{await xk(Mn),n(null),alert(" .")},o=d=>d?d.split("@")[0]:"",l=()=>w.jsx("a",{href:"#home",className:"flex items-center space-x-3",children:w.jsx("img",{src:"/logo.png",alt:"Sensory Echo Logo",width:130,height:10})}),u=(d,f)=>{const p=t===d;return w.jsxs("a",{href:`#${d}`,className:`relative text-base font-medium py-2 transition-all duration-300
          ${p?"text-white border-b-2 border-indigo-400":"text-gray-400 hover:text-white"}`,children:[f,p&&w.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-[#8877E6] via-[#788AE6] to-[#77ACE6]"})]},d)};return w.jsx("nav",{className:"fixed top-0 inset-x-0 z-20 bg-[#4545f2] shadow-xl border-b border-gray-700/50",children:w.jsxs("div",{className:"max-w-5xl mx-auto h-16 px-6 flex items-center justify-between",children:[w.jsx(l,{}),w.jsxs("div",{className:"flex items-center space-x-8",children:[u("home","Home"),u("profile","Profile"),u("explore","Explore"),e?w.jsxs("div",{className:"flex items-center space-x-3 text-white",children:[w.jsx("span",{className:"text-sm font-medium",children:o(e.email)}),w.jsx("button",{onClick:i,className:"text-gray-400 hover:text-red-400 text-xs underline underline-offset-2",children:""})]}):u("login","Login")]})]})})}const Gl=({shape:t="square",color:e="#7777ee",size:n=120,className:i=""})=>{const o=Math.max(40,n),l=o*.15,u="none",d=t==="wave"?"diamond":t;if(d==="square")return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"square",children:w.jsx("rect",{x:l,y:l,width:o-l*2,height:o-l*2,rx:8,ry:8,fill:e,stroke:u})});if(d==="circle"){const f=(o-l*2)/2;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"circle",children:w.jsx("circle",{cx:o/2,cy:o/2,r:f,fill:e,stroke:u})})}if(d==="triangle"){const f=`${o/2},${l}`,p=`${o-l},${o-l}`,g=`${l},${o-l}`;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"triangle",children:w.jsx("polygon",{points:`${f} ${p} ${g}`,fill:e,stroke:u})})}if(d==="diamond"){const f=o/2,p=o/2,g=(o-l*2)/2,y=`${f},${p-g} ${f+g},${p} ${f},${p+g} ${f-g},${p}`;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"diamond",children:w.jsx("polygon",{points:y,fill:e,stroke:u})})}if(d==="star"){const f=o/2,p=o/2,g=(o-l*2)/2,y=g*.5,_=[];for(let x=0;x<10;x++){const T=(-90+x*36)*(Math.PI/180),A=x%2===0?g:y,R=f+A*Math.cos(T),V=p+A*Math.sin(T);_.push(`${R},${V}`)}return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"star",children:w.jsx("polygon",{points:_.join(" "),fill:e,stroke:u})})}if(d==="heart"){const f=o,p=o,g=f/2,y=p/2,_=y-o*.12,x=`
      M ${g},${_}
      C ${g+o*.25},${_-o*.18} ${f-l},${y-o*.05} ${g},${p-l}
      C ${l},${y-o*.05} ${g-o*.25},${_-o*.18} ${g},${_}
      Z
    `;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"heart",children:w.jsx("path",{d:x,fill:e,stroke:u})})}if(d==="droplet"){const f=o/2,p=l,g=o-l,y=o*.28,_=`
      M ${f},${p}
      C ${f+y},${p+y} ${f+y},${g-y} ${f},${g}
      C ${f-y},${g-y} ${f-y},${p+y} ${f},${p}
      Z
    `;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"droplet",children:w.jsx("path",{d:_,fill:e,stroke:u})})}return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"square",children:w.jsx("rect",{x:l,y:l,width:o-l*2,height:o-l*2,rx:8,ry:8,fill:e,stroke:u})})},lA=["square","circle","triangle","diamond","star","heart","droplet"],uA=["chime","rain","piano","drum"],cA={chime:"/sounds/chime.mp3",rain:"/sounds/rain.mp3",piano:"/sounds/piano.mp3",drum:"/sounds/drum.mp3"},to=t=>{const e=typeof t=="number"?t:parseFloat(t);return Number.isFinite(e)?e:null};function dA(t){let e=null;try{e=JSON.parse(t)}catch{}if(e&&typeof e=="object"){const o=to(e?.confidence);if(typeof e?.prediction=="string"&&o!=null)return{label:String(e.prediction).toLowerCase(),score:o,scores:e?.probabilities};if(e?.probabilities&&typeof e.probabilities=="object"){const l=Object.entries(e.probabilities).map(([u,d])=>[String(u).toLowerCase(),to(d)]).filter(([,u])=>u!=null);if(l.length)return l.sort((u,d)=>d[1]-u[1]),{label:l[0][0],score:l[0][1],scores:e.probabilities}}}if(e&&typeof e=="object"){const o=to(e?.score);if(typeof e?.label=="string"&&o!=null)return{label:e.label,score:o,scores:e?.scores};if(e?.scores&&typeof e.scores=="object"){const l=Object.entries(e.scores).map(([u,d])=>[String(u).toLowerCase(),to(d)]).filter(([,u])=>u!=null);if(l.length)return l.sort((u,d)=>d[1]-u[1]),{label:l[0][0],score:l[0][1],scores:e.scores}}}const n=/"prediction"\s*:\s*"([A-Za-z_-]+)"/.exec(t)?.[1]||/"label"\s*:\s*"([A-Za-z_-]+)"/.exec(t)?.[1],i=/"confidence"\s*:\s*"?(1(?:\.0+)?|0?\.\d+)"?/.exec(t)?.[1]||/"score"\s*:\s*"?(1(?:\.0+)?|0?\.\d+)"?/.exec(t)?.[1];return n&&i?{label:n.toLowerCase(),score:to(i)}:{label:null,score:null}}function hA(){const[t,e]=F.useState(""),[n,i]=F.useState("#7b7bf5"),[o,l]=F.useState("square"),[u,d]=F.useState("chime"),[f,p]=F.useState({}),[g,y]=F.useState(!1),_=F.useRef(null);F.useEffect(()=>Uo(Mn,R=>{R?e(R.uid):location.hash="#login"}),[]),F.useEffect(()=>(_.current||(_.current=new Audio),()=>{try{_.current?.pause()}catch{}}),[]);const x=async()=>{if(_.current)try{if(!_.current.paused)_.current.pause(),_.current.currentTime=0;else{const R=cA[u];_.current.src!==R&&(_.current.src=R),await _.current.play()}}catch{alert("  .    .")}},T=()=>{if(!navigator.geolocation)return alert("     .");navigator.geolocation.getCurrentPosition(R=>p({lat:R.coords.latitude,lng:R.coords.longitude}),()=>alert("  ."))},A=async()=>{if(!t)return alert("  .");y(!0);let R=null,V=null,H=null;try{const b="https://silk-ai-api-842161501725.asia-northeast3.run.app";if(b){const q=String(b).replace(/\/+$/,"")+"/predict";try{const X=await fetch(q,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({color_hex:n,shape:o,sound:u})}),z=await X.text();if(console.log("[AI write]",X.status,q,z),X.ok){const me=dA(z);R=me.label,V=me.score,H=me.scores}}catch(X){console.warn("AI  ",X)}}const M=BR(Yr(Qr,"emotions")).key,U={id:M,userId:t,color:n,shape:o,sound:u,timestamp:Date.now(),likes:0,...f.lat!=null?{lat:f.lat}:{},...f.lng!=null?{lng:f.lng}:{},...R!=null?{label:R}:{},...V!=null?{score:V}:{},...H&&typeof H=="object"?{scores:H}:{}};await Jw(Yr(Qr,`emotions/${M}`),U),alert(" ")}catch(b){alert(" "),console.error(b)}finally{y(!1)}};return w.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[w.jsx("div",{className:"flex justify-end mb-3",children:w.jsx("button",{onClick:()=>{location.hash="#feed"},className:"px-3 py-1.5 rounded-xl border border-gray-300 text-sm text-black/70 hover:bg-gray-100",children:" "})}),w.jsx("div",{className:"rounded-2xl bg-white shadow grid place-items-center h-56 mb-4",children:w.jsx(Gl,{shape:o,color:n,size:140})}),w.jsxs("div",{className:"mb-4",children:[w.jsx("div",{className:"text-sm font-medium mb-2",children:""}),w.jsx("input",{type:"color",value:n,onChange:R=>i(R.target.value),className:"h-10 w-16 p-0 border rounded","aria-label":"color"})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("div",{className:"text-sm font-medium mb-2",children:""}),w.jsx("div",{className:"flex flex-wrap gap-3",children:lA.map(R=>w.jsx("button",{onClick:()=>l(R),className:`p-2 rounded-xl border grid place-items-center ${o===R?"bg-black/10 border-black":"bg-black border-gray-300"}`,"aria-label":R,children:w.jsx(Gl,{shape:R,color:"#ffffff",size:36})},R))})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("div",{className:"text-sm font-medium mb-2",children:""}),w.jsx("div",{className:"flex flex-wrap gap-2",children:uA.map(R=>w.jsx("button",{onClick:()=>d(R),className:`px-3 py-1.5 rounded-full border ${u===R?"bg-black text-white":"bg-white"}`,children:R},R))}),w.jsxs("div",{className:"mt-2",children:[w.jsx("button",{onClick:x,className:"px-3 py-1.5 rounded-xl bg-gray-800 text-white",children:" "}),w.jsx("audio",{ref:_,className:"hidden"})]})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("div",{className:"text-sm font-medium mb-2",children:""}),w.jsx("button",{onClick:T,className:"px-3 py-1.5 rounded-xl border",children:" "}),f.lat!=null&&f.lng!=null?w.jsxs("div",{className:"text-xs text-black/60 mt-2",children:["lat ",f.lat,", lng ",f.lng]}):null]}),w.jsx("div",{className:"flex items-center gap-2",children:w.jsx("button",{onClick:A,disabled:g,className:"px-4 py-2 rounded-xl bg-black text-white disabled:opacity-50",children:""})}),w.jsx("p",{className:"mt-3 text-xs text-black/50",children:"  AI    ."})]})}function fA(t){document.querySelectorAll("audio").forEach(n=>{if(!(t&&n===t))try{n.pause()}catch{}})}const pA={chime:"/sounds/chime.mp3",rain:"/sounds/rain.mp3",piano:"/sounds/piano.mp3",drum:"/sounds/drum.mp3"};function mA(t){if(!t)return null;const e=t.toLowerCase().trim();return pA[e]??null}function gA({open:t,item:e,onClose:n}){const i=F.useRef(null);if(F.useEffect(()=>{const u=i.current;u&&(u.pause(),u.currentTime=0,u.src=e?.sound?mA(e.sound)??"":"")},[t,e?.id,e?.sound]),F.useEffect(()=>{if(!t){const u=i.current;u&&(u.pause(),u.src="")}},[t]),!t||!e)return null;const o=e.timestamp?new Date(e.timestamp).toLocaleString("ko-KR"):"-",l=typeof e.score=="number"?` (${Math.round(e.score*100)}%)`:"";return w.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 grid place-items-center p-4",role:"dialog","aria-modal":"true",children:w.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl overflow-hidden",children:[w.jsxs("div",{className:"relative h-56 bg-white grid place-items-center",children:[w.jsx(Gl,{shape:e.shape??"square",color:e.color??"#7777ee",size:140}),w.jsx("div",{className:"absolute top-3 left-3 text-xs px-2 py-1 rounded-full bg-black/30 text-white",children:o}),w.jsx("div",{className:"absolute top-3 right-3 text-black/80 text-lg",children:e.lat&&e.lng?"":""})]}),w.jsxs("div",{className:"p-4 space-y-2",children:[w.jsxs("div",{className:"text-sm text-gray-500",children:[e.shape,"  ",e.sound]}),w.jsx("div",{className:"text-lg font-bold",children:e.label?`${e.label}${l}`:" "}),w.jsx("audio",{ref:i,controls:!0,preload:"none",onPlay:()=>fA(i.current),className:"w-full mt-2"},e?.sound),w.jsx("div",{className:"flex justify-end pt-2",children:w.jsx("button",{onClick:n,className:"px-3 py-1.5 rounded-lg border hover:bg-gray-50",children:""})})]})]})})}const yA="https://silk-ai-api-842161501725.asia-northeast3.run.app",Ov=String(yA).replace(/\/+$/,""),no=t=>{const e=typeof t=="number"?t:parseFloat(t);return Number.isFinite(e)?e:null};function vA(t){let e=null;try{e=JSON.parse(t)}catch{}if(e&&typeof e=="object"){const o=no(e?.confidence);if(typeof e?.prediction=="string"&&o!=null)return{label:String(e.prediction).toLowerCase(),score:o,scores:e?.probabilities};if(e?.probabilities&&typeof e.probabilities=="object"){const u=Object.entries(e.probabilities).map(([d,f])=>[String(d).toLowerCase(),no(f)]).filter(([,d])=>d!=null);if(u.length)return u.sort((d,f)=>f[1]-d[1]),{label:u[0][0],score:u[0][1],scores:e.probabilities}}const l=no(e?.score);if(typeof e?.label=="string"&&l!=null)return{label:e.label,score:l,scores:e?.scores};if(e?.scores&&typeof e.scores=="object"){const u=Object.entries(e.scores).map(([d,f])=>[String(d).toLowerCase(),no(f)]).filter(([,d])=>d!=null);if(u.length)return u.sort((d,f)=>f[1]-d[1]),{label:u[0][0],score:u[0][1],scores:e.scores}}}const n=/"prediction"\s*:\s*"([A-Za-z_-]+)"/.exec(t)?.[1]||/"label"\s*:\s*"([A-Za-z_-]+)"/.exec(t)?.[1],i=/"confidence"\s*:\s*"?(1(?:\.0+)?|0?\.\d+)"?/.exec(t)?.[1]||/"score"\s*:\s*"?(1(?:\.0+)?|0?\.\d+)"?/.exec(t)?.[1];return n&&i?{label:n.toLowerCase(),score:no(i)}:{label:null,score:null}}const _A=t=>{switch(t){case"happy":return"text-green-600";case"calm":return"text-blue-600";case"love":return"text-pink-500";case"sad":return"text-purple-600";case"angry":return"text-red-600";case"fear":return"text-amber-600";default:return"text-gray-500"}};let Ad=null;function wA(){if(typeof window<"u"&&window.google?.maps)return Promise.resolve(window.google);if(!Ad){const t="AIzaSyCb1vtltxjuAZ01cP0hB-4Ghyt7iMupoqU";Ad=new Promise((e,n)=>{const i=document.getElementById("google-maps-sdk");if(i){i.addEventListener("load",()=>e(window.google)),i.addEventListener("error",()=>n(new Error("Google Maps  ")));return}const o=document.createElement("script");o.id="google-maps-sdk",o.src=`https://maps.googleapis.com/maps/api/js?key=${t}`,o.async=!0,o.defer=!0,o.onload=()=>e(window.google),o.onerror=()=>n(new Error("Google Maps  ")),document.body.appendChild(o)})}return Ad}function SA(){const[t,e]=F.useState([]),[n,i]=F.useState(null),[o,l]=F.useState(""),u=F.useRef(null),d=F.useRef(null),f=F.useRef(new Map),p=F.useRef([]),[g,y]=F.useState(!1),[_,x]=F.useState(null);F.useEffect(()=>{const b=zf(Yr(Qr,"emotions"),M=>{const U=M.val()||{},X=Object.keys(U).map(z=>({id:z,...U[z]})).filter(z=>typeof z?.timestamp=="number").map(z=>({...z,userId:z.userId??"anonymous",color:z.color??"#eee",shape:z.shape??"-",sound:z.sound??"-",likes:z.likes??0}));e(X)});return()=>b()},[]);const{groupedCards:T,sortedDates:A}=F.useMemo(()=>{const b=t.reduce((U,q)=>{if(q.timestamp){const X=new Date(q.timestamp),z=`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}-${String(X.getDate()).padStart(2,"0")}`;U[z]||(U[z]=[]),U[z].push(q)}return U},{}),M=Object.keys(b).sort((U,q)=>U<q?1:-1);return{groupedCards:b,sortedDates:M}},[t]);F.useEffect(()=>{let b=!1;return wA().then(M=>{b||!u.current||d.current||(d.current=new M.maps.Map(u.current,{center:{lat:37.5665,lng:126.978},zoom:11,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1}))}).catch(M=>l(M.message||"  ")),()=>{b=!0}},[]),F.useEffect(()=>{const b=window.google;if(!d.current||!b)return;const M=t.filter(ee=>typeof ee.lat=="number"&&typeof ee.lng=="number"),U=d.current,q=f.current,X=new Map;let z=new b.maps.LatLngBounds;q.forEach((ee,Se)=>{M.some(Ee=>Ee.id===Se)||ee.setMap(null)}),M.forEach(ee=>{const Se=`<div style="min-width:160px"><div><b>${ee.label??"unknown"}</b> ${typeof ee.score=="number"?Math.round(ee.score*100)+"%":""}</div><div style="font-size:12px;color:#555">${ee.lat?.toFixed(3)}, ${ee.lng?.toFixed(3)}</div></div>`;if(q.has(ee.id)){const Ee=q.get(ee.id);Ee.__infoWindow.setContent(Se),X.set(ee.id,Ee)}else{const Ee=new b.maps.InfoWindow({content:Se}),$e=new b.maps.Marker({position:{lat:ee.lat,lng:ee.lng},map:U,title:ee.label||"emotion",icon:{path:b.maps.SymbolPath.CIRCLE,scale:7,fillColor:ee.color||"#4285F4",fillOpacity:1,strokeColor:"#333",strokeWeight:1}});$e.__infoWindow=Ee,$e.__emotionId=ee.id,$e.addListener("click",()=>{f.current.forEach(Qe=>Qe.__infoWindow.close()),Ee.open({map:U,anchor:$e})}),X.set(ee.id,$e)}z.extend({lat:ee.lat,lng:ee.lng})}),f.current=X,z.isEmpty()||U.fitBounds(z),p.current.forEach(ee=>ee.setMap(null)),p.current=[];const me=M.filter(ee=>{const Se=ee.scores?.happy??(ee.label==="happy"?ee.score:void 0);return typeof Se=="number"&&Se>=.6}),Ie=new Map,dt=(ee,Se)=>`${ee.toFixed(2)},${Se.toFixed(2)}`;me.forEach(ee=>{const Se=dt(ee.lat,ee.lng),Ee=Ie.get(Se)||{latSum:0,lngSum:0,count:0,scoreSum:0};Ee.latSum+=ee.lat,Ee.lngSum+=ee.lng,Ee.count+=1,Ee.scoreSum+=ee.scores?.happy??ee.score??.6,Ie.set(Se,Ee)}),Ie.forEach(ee=>{const Se={lat:ee.latSum/ee.count,lng:ee.lngSum/ee.count},Ee=ee.scoreSum/ee.count,$e=100+50*ee.count,Qe=Math.max(.15,Math.min(.5,.15+Ee*.35)),le=new b.maps.Circle({map:U,center:Se,radius:$e,strokeColor:"#4CAF50",strokeOpacity:.6,strokeWeight:1,fillColor:"#4CAF50",fillOpacity:Qe,clickable:!1});p.current.push(le)})},[t]);const R=b=>{if(typeof b.lat!="number"||typeof b.lng!="number")return alert("    .");if(!d.current)return alert("   .");d.current.panTo({lat:b.lat,lng:b.lng}),d.current.setZoom(14)},V=async b=>{if(!n)try{if(i(b.id),!Ov){alert("AI_BASE ");return}const M=`${Ov}/predict`,U=await fetch(M,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({color_hex:b.color,shape:b.shape,sound:b.sound})}),q=await U.text();if(console.log("[AI explore]",U.status,M,q),!U.ok){alert(`AI : ${U.status}`);return}const X=vA(q),z={};if(typeof X.label=="string"&&(z.label=X.label),typeof X.score=="number"&&(z.score=X.score),X?.scores&&typeof X.scores=="object"&&(z.scores=X.scores),!Object.keys(z).length){alert("AI   ");return}await WR(Yr(Qr,`emotions/${b.id}`),z)}catch(M){alert(M?.message||"AI  ")}finally{i(null)}},H=async(b,M)=>{if(M.stopPropagation(),!!confirm("    ?"))try{await zR(Yr(Qr,`emotions/${b}`)),alert(" ")}catch(U){alert(" : "+U.message)}};return w.jsxs("section",{className:"space-y-3 p-4 pt-20 max-w-5xl mx-auto",children:[w.jsx("h2",{className:"text-lg font-semibold",children:" (/)"}),w.jsx("p",{className:"text-sm text-gray-500",children:"      ."}),w.jsx("div",{ref:u,className:"w-full h-[500px] rounded-lg border"}),o&&w.jsx("p",{className:"text-sm text-red-500",children:o}),w.jsxs("div",{className:"space-y-8 mt-4",children:[A.map(b=>w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-xl font-bold border-b pb-2 text-gray-700",children:b}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:T[b].map(M=>{const U=!!M.label,q=typeof M.lat=="number"&&typeof M.lng=="number",X=M.timestamp?new Date(M.timestamp).toLocaleDateString("ko-KR").substring(5,12).replace(/\s/g,""):"-";return w.jsxs("div",{onClick:()=>{x(M),y(!0)},className:"rounded-2xl border bg-white shadow-sm p-3 cursor-pointer hover:shadow-md transition-shadow",children:[w.jsxs("div",{className:"relative h-28 rounded-xl bg-white grid place-items-center",children:[w.jsx(Gl,{shape:M.shape??"square",color:M.color??"#cccccc",size:88}),w.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-black/30 rounded-full text-xs text-white font-medium z-10",children:X}),w.jsx("div",{className:"absolute top-3 right-3 text-black/70 text-lg z-10",children:q?"":" "})]}),w.jsxs("div",{className:"p-1 flex flex-col justify-center bg-white",children:[w.jsxs("div",{className:"text-xs text-gray-500 font-medium truncate mt-2 mb-1",children:[M.shape,"  ",M.sound]}),w.jsx("div",{className:"text-lg font-extrabold truncate",children:U?w.jsx("span",{className:_A(M.label),children:M.label}):w.jsx("span",{className:"text-gray-400",children:" "})}),w.jsx("div",{className:"text-xs text-gray-400 mt-1",children:U&&`AI ${Math.round((M.score??0)*100)}%`})]}),w.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("button",{onClick:z=>H(M.id,z),className:"p-1 text-xs text-red-500 hover:text-red-700",children:""}),w.jsxs("small",{className:"text-gray-500 text-xs",children:[M.lat?.toFixed?.(3)??"-",", ",M.lng?.toFixed?.(3)??"-"]})]}),q?w.jsx("button",{onClick:z=>{z.stopPropagation(),R(M)},className:"px-2 py-1 text-xs font-semibold rounded-md bg-indigo-500 text-white hover:bg-indigo-600",children:" "}):U?w.jsx("div",{className:"px-2 py-1 text-xs font-semibold rounded-md text-gray-400 border border-gray-300",children:" "}):w.jsx("button",{onClick:z=>{z.stopPropagation(),V(M)},disabled:n===M.id,className:"px-2 py-1 text-xs rounded-md border bg-white hover:bg-gray-50 disabled:opacity-50",children:n===M.id?"":""}),q&&!U&&w.jsx("button",{onClick:z=>{z.stopPropagation(),V(M)},disabled:n===M.id,className:"px-2 py-1 text-xs rounded-md border bg-white hover:bg-gray-50 disabled:opacity-50",children:n===M.id?"":""})]})]},M.id)})})]},b)),A.length===0&&w.jsx("p",{className:"text-center text-gray-500 mt-10",children:"   ."})]}),w.jsx(gA,{open:g,item:_,onClose:()=>y(!1)})]})}function EA(){const[t,e]=F.useState(""),[n,i]=F.useState(""),[o,l]=F.useState(!1),[u,d]=F.useState(""),[f,p]=F.useState(""),g=(T,A=" .    .")=>{switch(T){case"auth/invalid-credential":case"auth/wrong-password":return"    .";case"auth/user-not-found":return"      .";case"auth/too-many-requests":return"  .     .";case"auth/popup-blocked":case"auth/popup-closed-by-user":return"  .      .";case"auth/account-exists-with-different-credential":return"       . Google  .";default:return A}},y=async()=>{d(""),p(""),l(!0);try{const T=new Pn;await Wk(Mn,T),location.hash="feed"}catch(T){d(g(T?.code,"Google  .")),console.error(T)}finally{l(!1)}},_=async T=>{T.preventDefault(),d(""),p(""),l(!0);try{await wk(Mn,t.trim(),n.trim()),location.hash="feed"}catch(A){d(g(A?.code)),console.error(A)}finally{l(!1)}},x=async()=>{d(""),p("");const T=t.trim();if(!T){d("      .");return}try{await _k(Mn,T),p("   .   .")}catch(A){d(g(A?.code,"   .")),console.error(A)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:w.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl shadow-md border",children:[w.jsx("h1",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:""}),w.jsx("button",{type:"button",onClick:y,disabled:o,className:`w-full py-3 rounded-lg font-semibold text-white mb-4
                     bg-gradient-to-r from-[#8877E6] via-[#788AE6] to-[#77ACE6] shadow-md disabled:opacity-60`,children:o?" ":"Google "}),w.jsxs("div",{className:"relative my-5",children:[w.jsx("div",{className:"border-t"}),w.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 -top-3 bg-white px-2 text-xs text-gray-400",children:"  "})]}),w.jsxs("form",{onSubmit:_,className:"space-y-3",children:[w.jsx("input",{type:"email",placeholder:"",value:t,onChange:T=>e(T.target.value),className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#788AE6]"}),w.jsx("input",{type:"password",placeholder:"",value:n,onChange:T=>i(T.target.value),className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#788AE6]"}),u&&w.jsx("p",{className:"text-sm text-red-500",children:u}),f&&w.jsx("p",{className:"text-sm text-green-600",children:f}),w.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 rounded-lg font-semibold text-white bg-gray-900 hover:bg-black transition disabled:opacity-60",children:" "})]}),w.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[w.jsx("button",{onClick:x,className:"text-gray-600 hover:text-gray-900 underline underline-offset-2",children:" "}),w.jsx("a",{href:"#signup",className:"text-[#788AE6] font-semibold hover:underline",children:""})]})]})})}function xA(){const[t,e]=F.useState(""),[n,i]=F.useState(""),[o,l]=F.useState(""),u=()=>{if(n!==o)return alert("  .");alert("  .    .")};return w.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:w.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-2xl shadow-sm border",children:[w.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:""}),w.jsx("input",{className:"w-full p-3 border rounded-lg mb-3",placeholder:"",value:t,onChange:d=>e(d.target.value)}),w.jsx("input",{className:"w-full p-3 border rounded-lg mb-3",placeholder:"",type:"password",value:n,onChange:d=>i(d.target.value)}),w.jsx("input",{className:"w-full p-3 border rounded-lg mb-3",placeholder:" ",type:"password",value:o,onChange:d=>l(d.target.value)}),w.jsx("button",{onClick:u,className:"w-full bg-indigo-600 text-white p-3 rounded-lg hover:bg-indigo-700 transition",children:""})]})})}function CA(t){if(typeof t=="number")return t;if(typeof t=="string"){if(/^\d+$/.test(t)){const n=Number(t);return n<2e9?n*1e3:n}const e=Date.parse(t);return Number.isFinite(e)?e:0}return 0}function TA(){const[t,e]=F.useState(null),[n,i]=F.useState([]),[o,l]=F.useState(!0),[u,d]=F.useState("");F.useEffect(()=>{const p=Uo(Mn,g=>{if(!g){location.hash="#login";return}e(g.uid)});return()=>p()},[]),F.useEffect(()=>{if(!t)return;l(!0);const p=nS(Yr(Qr,"emotions"),eS("userId"),tS(t),Zw(500)),g=zf(p,y=>{const _=[];y.forEach(T=>(_.push(T.val()),!1));const x=_.map(T=>{const A=CA(T?.timestamp);return{...T,id:T.id,userId:T.userId??"anonymous",color:T.color??"#eeeeee",shape:T.shape??"square",sound:T.sound??"-",label:T.label,score:T.score,timestamp:A,likes:T.likes??0,lat:T.lat,lng:T.lng}}).filter(T=>T.timestamp>0).sort((T,A)=>A.timestamp-T.timestamp);i(x),l(!1)},y=>{d(y?.message||"  ."),l(!1)});return()=>g()},[t]);const f=F.useMemo(()=>{const p=new Map;for(const g of n){const y=new Date(g.timestamp),_=`${y.getFullYear()}-${String(y.getMonth()+1).padStart(2,"0")}-${String(y.getDate()).padStart(2,"0")}`;p.has(_)||p.set(_,[]),p.get(_).push(g)}return Array.from(p.entries()).sort((g,y)=>new Date(y[0]).getTime()-new Date(g[0]).getTime())},[n]);return o?w.jsx("div",{className:"p-4 text-sm text-black/60",children:" "}):u?w.jsxs("div",{className:"p-4 text-sm text-red-600",children:[": ",u]}):w.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),f.length===0&&w.jsx("div",{className:"text-sm text-black/60",children:" ."}),f.map(([p,g])=>w.jsxs("div",{className:"mb-6",children:[w.jsx("div",{className:"text-sm font-semibold text-black/70 mb-2",children:p}),w.jsx("div",{className:"grid grid-cols-1 gap-2",children:g.map(y=>w.jsxs("div",{className:"flex items-center justify-between rounded-lg border bg-white px-3 py-2",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"h-6 w-6 rounded",style:{background:y.color},"aria-label":y.shape,title:y.shape}),w.jsxs("div",{className:"text-sm",children:[w.jsxs("div",{className:"font-medium",children:[y.label??"unknown",typeof y.score=="number"?w.jsxs("span",{className:"text-black/60",children:[" "," ",Math.round(y.score*100),"%"]}):null]}),w.jsx("div",{className:"text-xs text-black/60",children:new Date(y.timestamp).toLocaleString()})]})]}),w.jsxs("div",{className:"text-xs text-black/60",children:[" ",y.likes??0]})]},y.id))})]},p))]})}function IA(t){if(typeof t=="number")return t;if(typeof t=="string"){if(/^\d+$/.test(t)){const n=Number(t);return n<2e9?n*1e3:n}const e=Date.parse(t);return Number.isFinite(e)?e:0}return 0}function kA(){const[t,e]=F.useState(null),[n,i]=F.useState([]),[o,l]=F.useState(!0),[u,d]=F.useState("");F.useEffect(()=>{const p=Uo(Mn,g=>{if(!g){location.hash="#login";return}e(g.uid)});return()=>p()},[]),F.useEffect(()=>{if(!t)return;l(!0);const p=nS(Yr(Qr,"emotions"),eS("userId"),tS(t),Zw(500)),g=zf(p,y=>{const _=[];y.forEach(T=>{_.push(T.val())});const x=_.map(T=>({...T,timestamp:IA(T?.timestamp)})).filter(T=>T.timestamp>0).sort((T,A)=>T.timestamp-A.timestamp);i(x),l(!1)},y=>{d(y?.message||"  ."),l(!1)});return()=>g()},[t]);const f=F.useMemo(()=>{const p=[0,0,0,0,0,0,0];for(const g of n){const y=new Date(g.timestamp);p[y.getDay()]++}return p},[n]);return o?w.jsx("div",{className:"p-4 text-sm text-black/60",children:" "}):u?w.jsxs("div",{className:"p-4 text-sm text-red-600",children:[": ",u]}):w.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),w.jsxs("ol",{className:"relative border-l pl-4",children:[n.map(p=>w.jsxs("li",{className:"mb-4 ml-2",children:[w.jsx("div",{className:"absolute -left-1.5 h-3 w-3 rounded-full border bg-white"}),w.jsxs("div",{className:"rounded-lg border bg-white px-3 py-2",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"text-sm font-medium",children:[p.label??"unknown",typeof p.score=="number"?w.jsxs("span",{className:"text-black/60",children:[" "," ",Math.round(p.score*100),"%"]}):null]}),w.jsx("div",{className:"text-xs text-black/60",children:new Date(p.timestamp).toLocaleString()})]}),w.jsxs("div",{className:"mt-1 text-xs text-black/60",children:[" ",p.color??"-","   ",p.shape??"-","   ",p.likes??0]})]})]},p.id)),n.length===0&&w.jsx("div",{className:"text-sm text-black/60",children:" ."})]}),w.jsxs("div",{className:"mt-6",children:[w.jsx("div",{className:"text-sm font-semibold mb-2",children:"  "}),w.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs",children:["","","","","","",""].map((p,g)=>w.jsxs("div",{className:"rounded-lg border bg-white py-2",children:[w.jsx("div",{className:"font-medium",children:p}),w.jsx("div",{className:"text-black/70",children:f[g]})]},p))})]})]})}function PA(){const t=()=>{location.hash="#write"};return w.jsxs("div",{className:"max-w-3xl mx-auto px-4 pt-20 pb-12",children:[w.jsxs("header",{className:"mb-6 flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold",children:""}),w.jsx("p",{className:"text-sm text-gray-500",children:"  AI  ."})]}),w.jsxs("button",{onClick:t,className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl text-white
                     bg-indigo-600 hover:bg-indigo-700 active:bg-indigo-800 transition-colors`,"aria-label":"  ",children:[w.jsx("span",{children:"  "}),w.jsx("span",{"aria-hidden":!0,children:""})]})]}),w.jsxs("section",{className:"mt-8",children:[w.jsx("h2",{className:"mb-3 text-xl font-bold",children:""}),w.jsx(kA,{})]})]})}function NA({mode:t="auto",nextHash:e="#feed",onDone:n}){const[i,o]=F.useState(!1),[l,u]=F.useState(!1);return F.useEffect(()=>{if(window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches){if(o(!0),t==="auto"){const f=setTimeout(()=>{o(!1),n?.(),e&&(location.hash=e)},1200);return()=>clearTimeout(f)}return}if(o(!0),t==="auto"){const f=setTimeout(()=>u(!0),1400),p=setTimeout(()=>{o(!1),n?.(),e&&(location.hash=e)},1800);return()=>{clearTimeout(f),clearTimeout(p)}}},[t,e,n]),!i&&t==="auto"?null:w.jsx("div",{className:`fixed inset-0 z-[9999] grid place-items-center bg-white
                  ${t==="auto"&&l?"intro-fade-out":""}`,"aria-label":"Intro overlay",role:"dialog",children:w.jsxs("div",{className:"w-[380px] sm:w-[460px] relative select-none",children:[w.jsxs("svg",{viewBox:"0 0 358 504",className:"w-[160px] mx-auto intro-stretch","aria-label":"SILK logo",children:[w.jsx("defs",{children:w.jsxs("linearGradient",{id:"silkGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[w.jsx("stop",{offset:"0%",stopColor:"#8877E6"}),w.jsx("stop",{offset:"50%",stopColor:"#788AE6"}),w.jsx("stop",{offset:"100%",stopColor:"#77ACE6"})]})}),w.jsx("path",{d:"M296 28c-34-19-75-31-118-15-33 12-114 58-174 111-27 24-62 56 18 75 72 17 187 31 14 127-191 106-52 184 152 264 43 16 122 0 108-36-14-36-238-111-161-195 50-54 118-92 143-108 11-7 29-12 29-20 1-20-62-41-102-63-108-58 57-95 134-140 26-15 31-25 3-40z",fill:"url(#silkGrad)"})]}),w.jsx("div",{className:`mt-6 text-center text-4xl sm:text-5xl font-extrabold
                        bg-gradient-to-r from-[#8877E6] via-[#788AE6] to-[#77ACE6]
                        bg-clip-text text-transparent tracking-tight intro-word-reveal`,children:"SILK"}),w.jsx("div",{className:"mt-2 text-center text-sm text-white/60 intro-sub-reveal",children:"sense  image  line  kinesthetics"})]})})}const iS=F.createContext({});function RA(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wf=typeof window<"u",AA=Wf?F.useLayoutEffect:F.useEffect,$f=F.createContext(null);function Hf(t,e){t.indexOf(e)===-1&&t.push(e)}function Kf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const jn=(t,e,n)=>n>e?e:n<t?t:n;let Gf=()=>{};const Vn={},sS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oS(t){return typeof t=="object"&&t!==null}const aS=t=>/^0[^.\s]+$/u.test(t);function qf(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gt=t=>t,bA=(t,e)=>n=>e(t(n)),qo=(...t)=>t.reduce(bA),Ro=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Yf{constructor(){this.subscriptions=[]}add(e){return Hf(this.subscriptions,e),()=>Kf(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yn=t=>t*1e3,Kt=t=>t/1e3;function lS(t,e){return e?t*(1e3/e):0}const uS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,DA=1e-7,MA=12;function OA(t,e,n,i,o){let l,u,d=0;do u=e+(n-e)/2,l=uS(u,i,o)-t,l>0?n=u:e=u;while(Math.abs(l)>DA&&++d<MA);return u}function Yo(t,e,n,i){if(t===e&&n===i)return Gt;const o=l=>OA(l,0,1,t,n);return l=>l===0||l===1?l:uS(o(l),e,i)}const cS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dS=t=>e=>1-t(1-e),hS=Yo(.33,1.53,.69,.99),Qf=dS(hS),fS=cS(Qf),pS=t=>(t*=2)<1?.5*Qf(t):.5*(2-Math.pow(2,-10*(t-1))),Xf=t=>1-Math.sin(Math.acos(t)),mS=dS(Xf),gS=cS(Xf),LA=Yo(.42,0,1,1),FA=Yo(0,0,.58,1),yS=Yo(.42,0,.58,1),jA=t=>Array.isArray(t)&&typeof t[0]!="number",vS=t=>Array.isArray(t)&&typeof t[0]=="number",VA={linear:Gt,easeIn:LA,easeInOut:yS,easeOut:FA,circIn:Xf,circInOut:gS,circOut:mS,backIn:Qf,backInOut:fS,backOut:hS,anticipate:pS},UA=t=>typeof t=="string",Lv=t=>{if(vS(t)){Gf(t.length===4);const[e,n,i,o]=t;return Yo(e,n,i,o)}else if(UA(t))return VA[t];return t},hl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function BA(t,e){let n=new Set,i=new Set,o=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),t()),g(d)}const p={schedule:(g,y=!1,_=!1)=>{const T=_&&o?n:i;return y&&u.add(g),T.has(g)||T.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(d=g,o){l=!0;return}o=!0,[n,i]=[i,n],n.forEach(f),n.clear(),o=!1,l&&(l=!1,p.process(g))}};return p}const zA=40;function _S(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=hl.reduce((b,M)=>(b[M]=BA(l),b),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:g,update:y,preRender:_,render:x,postRender:T}=u,A=()=>{const b=Vn.useManualTiming?o.timestamp:performance.now();n=!1,Vn.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(b-o.timestamp,zA),1)),o.timestamp=b,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),g.process(o),y.process(o),_.process(o),x.process(o),T.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(A))},R=()=>{n=!0,i=!0,o.isProcessing||t(A)};return{schedule:hl.reduce((b,M)=>{const U=u[M];return b[M]=(q,X=!1,z=!1)=>(n||R(),U.schedule(q,X,z)),b},{}),cancel:b=>{for(let M=0;M<hl.length;M++)u[hl[M]].cancel(b)},state:o,steps:u}}const{schedule:Le,cancel:wr,state:lt,steps:bd}=_S(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0);let wl;function WA(){wl=void 0}const At={now:()=>(wl===void 0&&At.set(lt.isProcessing||Vn.useManualTiming?lt.timestamp:performance.now()),wl),set:t=>{wl=t,queueMicrotask(WA)}},wS=t=>e=>typeof e=="string"&&e.startsWith(t),Jf=wS("--"),$A=wS("var(--"),Zf=t=>$A(t)?HA.test(t.split("/*")[0].trim()):!1,HA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ls={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ao={...ls,transform:t=>jn(0,1,t)},fl={...ls,default:1},po=t=>Math.round(t*1e5)/1e5,ep=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KA(t){return t==null}const GA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tp=(t,e)=>n=>!!(typeof n=="string"&&GA.test(n)&&n.startsWith(t)||e&&!KA(n)&&Object.prototype.hasOwnProperty.call(n,e)),SS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,l,u,d]=i.match(ep);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},qA=t=>jn(0,255,t),Dd={...ls,transform:t=>Math.round(qA(t))},Kr={test:tp("rgb","red"),parse:SS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Dd.transform(t)+", "+Dd.transform(e)+", "+Dd.transform(n)+", "+po(Ao.transform(i))+")"};function YA(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const vh={test:tp("#"),parse:YA,transform:Kr.transform},Qo=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ar=Qo("deg"),vn=Qo("%"),ie=Qo("px"),QA=Qo("vh"),XA=Qo("vw"),Fv={...vn,parse:t=>vn.parse(t)/100,transform:t=>vn.transform(t*100)},Oi={test:tp("hsl","hue"),parse:SS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+vn.transform(po(e))+", "+vn.transform(po(n))+", "+po(Ao.transform(i))+")"},Ye={test:t=>Kr.test(t)||vh.test(t)||Oi.test(t),parse:t=>Kr.test(t)?Kr.parse(t):Oi.test(t)?Oi.parse(t):vh.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Kr.transform(t):Oi.transform(t),getAnimatableNone:t=>{const e=Ye.parse(t);return e.alpha=0,Ye.transform(e)}},JA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZA(t){return isNaN(t)&&typeof t=="string"&&(t.match(ep)?.length||0)+(t.match(JA)?.length||0)>0}const ES="number",xS="color",eb="var",tb="var(",jv="${}",nb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bo(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(nb,f=>(Ye.test(f)?(i.color.push(l),o.push(xS),n.push(Ye.parse(f))):f.startsWith(tb)?(i.var.push(l),o.push(eb),n.push(f)):(i.number.push(l),o.push(ES),n.push(parseFloat(f))),++l,jv)).split(jv);return{values:n,split:d,indexes:i,types:o}}function CS(t){return bo(t).values}function TS(t){const{split:e,types:n}=bo(t),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const d=n[u];d===ES?l+=po(o[u]):d===xS?l+=Ye.transform(o[u]):l+=o[u]}return l}}const rb=t=>typeof t=="number"?0:Ye.test(t)?Ye.getAnimatableNone(t):t;function ib(t){const e=CS(t);return TS(t)(e.map(rb))}const Sr={test:ZA,parse:CS,createTransformer:TS,getAnimatableNone:ib};function Md(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function sb({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;o=Md(f,d,t+1/3),l=Md(f,d,t),u=Md(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function ql(t,e){return n=>n>0?e:t}const Ve=(t,e,n)=>t+(e-t)*n,Od=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},ob=[vh,Kr,Oi],ab=t=>ob.find(e=>e.test(t));function Vv(t){const e=ab(t);if(!e)return!1;let n=e.parse(t);return e===Oi&&(n=sb(n)),n}const Uv=(t,e)=>{const n=Vv(t),i=Vv(e);if(!n||!i)return ql(t,e);const o={...n};return l=>(o.red=Od(n.red,i.red,l),o.green=Od(n.green,i.green,l),o.blue=Od(n.blue,i.blue,l),o.alpha=Ve(n.alpha,i.alpha,l),Kr.transform(o))},_h=new Set(["none","hidden"]);function lb(t,e){return _h.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ub(t,e){return n=>Ve(t,e,n)}function np(t){return typeof t=="number"?ub:typeof t=="string"?Zf(t)?ql:Ye.test(t)?Uv:hb:Array.isArray(t)?IS:typeof t=="object"?Ye.test(t)?Uv:cb:ql}function IS(t,e){const n=[...t],i=n.length,o=t.map((l,u)=>np(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=o[u](l);return n}}function cb(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=np(t[o])(t[o],e[o]));return o=>{for(const l in i)n[l]=i[l](o);return n}}function db(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][i[l]],d=t.values[u]??0;n[o]=d,i[l]++}return n}const hb=(t,e)=>{const n=Sr.createTransformer(e),i=bo(t),o=bo(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?_h.has(t)&&!o.values.length||_h.has(e)&&!i.values.length?lb(t,e):qo(IS(db(i,o),o.values),n):ql(t,e)};function kS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ve(t,e,n):np(t)(t,e)}const fb=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Le.update(e,n),stop:()=>wr(e),now:()=>lt.isProcessing?lt.timestamp:At.now()}},PS=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)i+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Yl=2e4;function rp(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Yl;)e+=n,i=t.next(e);return e>=Yl?1/0:e}function pb(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(rp(i),Yl);return{type:"keyframes",ease:l=>i.next(o*l).value/e,duration:Kt(o)}}const mb=5;function NS(t,e,n){const i=Math.max(e-mb,0);return lS(n-t(i),e-i)}const ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ld=.001;function gb({duration:t=ze.duration,bounce:e=ze.bounce,velocity:n=ze.velocity,mass:i=ze.mass}){let o,l,u=1-e;u=jn(ze.minDamping,ze.maxDamping,u),t=jn(ze.minDuration,ze.maxDuration,Kt(t)),u<1?(o=p=>{const g=p*u,y=g*t,_=g-n,x=wh(p,u),T=Math.exp(-y);return Ld-_/x*T},l=p=>{const y=p*u*t,_=y*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,T=Math.exp(-y),A=wh(Math.pow(p,2),u);return(-o(p)+Ld>0?-1:1)*((_-x)*T)/A}):(o=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-Ld+g*y},l=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const d=5/t,f=vb(o,l,d);if(t=yn(t),isNaN(f))return{stiffness:ze.stiffness,damping:ze.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const yb=12;function vb(t,e,n){let i=n;for(let o=1;o<yb;o++)i=i-t(i)/e(i);return i}function wh(t,e){return t*Math.sqrt(1-e*e)}const _b=["duration","bounce"],wb=["stiffness","damping","mass"];function Bv(t,e){return e.some(n=>t[n]!==void 0)}function Sb(t){let e={velocity:ze.velocity,stiffness:ze.stiffness,damping:ze.damping,mass:ze.mass,isResolvedFromDuration:!1,...t};if(!Bv(t,wb)&&Bv(t,_b))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,l=2*jn(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ze.mass,stiffness:o,damping:l}}else{const n=gb(t);e={...e,...n,mass:ze.mass},e.isResolvedFromDuration=!0}return e}function Ql(t=ze.visualDuration,e=ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:y,velocity:_,isResolvedFromDuration:x}=Sb({...n,velocity:-Kt(n.velocity||0)}),T=_||0,A=p/(2*Math.sqrt(f*g)),R=u-l,V=Kt(Math.sqrt(f/g)),H=Math.abs(R)<5;i||(i=H?ze.restSpeed.granular:ze.restSpeed.default),o||(o=H?ze.restDelta.granular:ze.restDelta.default);let b;if(A<1){const U=wh(V,A);b=q=>{const X=Math.exp(-A*V*q);return u-X*((T+A*V*R)/U*Math.sin(U*q)+R*Math.cos(U*q))}}else if(A===1)b=U=>u-Math.exp(-V*U)*(R+(T+V*R)*U);else{const U=V*Math.sqrt(A*A-1);b=q=>{const X=Math.exp(-A*V*q),z=Math.min(U*q,300);return u-X*((T+A*V*R)*Math.sinh(z)+U*R*Math.cosh(z))/U}}const M={calculatedDuration:x&&y||null,next:U=>{const q=b(U);if(x)d.done=U>=y;else{let X=U===0?T:0;A<1&&(X=U===0?yn(T):NS(b,U,q));const z=Math.abs(X)<=i,me=Math.abs(u-q)<=o;d.done=z&&me}return d.value=d.done?u:q,d},toString:()=>{const U=Math.min(rp(M),Yl),q=PS(X=>M.next(U*X).value,U,30);return U+"ms "+q},toTransition:()=>{}};return M}Ql.applyToOptions=t=>{const e=pb(t,100,Ql);return t.ease=e.ease,t.duration=yn(e.duration),t.type="keyframes",t};function Sh({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},x=z=>d!==void 0&&z<d||f!==void 0&&z>f,T=z=>d===void 0?f:f===void 0||Math.abs(d-z)<Math.abs(f-z)?d:f;let A=n*e;const R=y+A,V=u===void 0?R:u(R);V!==R&&(A=V-y);const H=z=>-A*Math.exp(-z/i),b=z=>V+H(z),M=z=>{const me=H(z),Ie=b(z);_.done=Math.abs(me)<=p,_.value=_.done?V:Ie};let U,q;const X=z=>{x(_.value)&&(U=z,q=Ql({keyframes:[_.value,T(_.value)],velocity:NS(b,z,_.value),damping:o,stiffness:l,restDelta:p,restSpeed:g}))};return X(0),{calculatedDuration:null,next:z=>{let me=!1;return!q&&U===void 0&&(me=!0,M(z),X(z)),U!==void 0&&z>=U?q.next(z-U):(!me&&M(z),_)}}}function Eb(t,e,n){const i=[],o=n||Vn.mix||kS,l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Gt:e;d=qo(f,d)}i.push(d)}return i}function xb(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const l=t.length;if(Gf(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=Eb(e,i,o),f=d.length,p=g=>{if(u&&g<t[0])return e[0];let y=0;if(f>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=Ro(t[y],t[y+1],g);return d[y](_)};return n?g=>p(jn(t[0],t[l-1],g)):p}function Cb(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=Ro(0,e,i);t.push(Ve(n,1,o))}}function Tb(t){const e=[0];return Cb(e,t.length-1),e}function Ib(t,e){return t.map(n=>n*e)}function kb(t,e){return t.map(()=>e||yS).splice(0,t.length-1)}function mo({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=jA(i)?i.map(Lv):Lv(i),l={done:!1,value:e[0]},u=Ib(n&&n.length===e.length?n:Tb(e),t),d=xb(u,e,{ease:Array.isArray(o)?o:kb(e,o)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const Pb=t=>t!==null;function ip(t,{repeat:e,repeatType:n="loop"},i,o=1){const l=t.filter(Pb),d=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const Nb={decay:Sh,inertia:Sh,tween:mo,keyframes:mo,spring:Ql};function RS(t){typeof t.type=="string"&&(t.type=Nb[t.type])}class sp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Rb=t=>t/100;class op extends sp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==At.now()&&this.tick(At.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RS(e);const{type:n=mo,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const f=n||mo;f!==mo&&typeof d[0]!="number"&&(this.mixKeyframes=qo(Rb,kS(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=rp(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:x,type:T,onUpdate:A,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-p*(this.playbackSpeed>=0?1:-1),H=this.playbackSpeed>=0?V<0:V>o;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let b=this.currentTime,M=i;if(y){const z=Math.min(this.currentTime,o)/d;let me=Math.floor(z),Ie=z%1;!Ie&&z>=1&&(Ie=1),Ie===1&&me--,me=Math.min(me,y+1),!!(me%2)&&(_==="reverse"?(Ie=1-Ie,x&&(Ie-=x/d)):_==="mirror"&&(M=u)),b=jn(0,1,Ie)*d}const U=H?{done:!1,value:g[0]}:M.next(b);l&&(U.value=l(U.value));let{done:q}=U;!H&&f!==null&&(q=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return X&&T!==Sh&&(U.value=ip(g,this.options,R,this.speed)),A&&A(U.value),X&&this.finish(),U}then(e,n){return this.finished.then(e,n)}get duration(){return Kt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kt(e)}get time(){return Kt(this.currentTime)}set time(e){e=yn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(At.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Kt(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=fb,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(At.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Ab(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Gr=t=>t*180/Math.PI,Eh=t=>{const e=Gr(Math.atan2(t[1],t[0]));return xh(e)},bb={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Eh,rotateZ:Eh,skewX:t=>Gr(Math.atan(t[1])),skewY:t=>Gr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xh=t=>(t=t%360,t<0&&(t+=360),t),zv=Eh,Wv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),$v=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Db={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Wv,scaleY:$v,scale:t=>(Wv(t)+$v(t))/2,rotateX:t=>xh(Gr(Math.atan2(t[6],t[5]))),rotateY:t=>xh(Gr(Math.atan2(-t[2],t[0]))),rotateZ:zv,rotate:zv,skewX:t=>Gr(Math.atan(t[4])),skewY:t=>Gr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ch(t){return t.includes("scale")?1:0}function Th(t,e){if(!t||t==="none")return Ch(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=Db,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=bb,o=d}if(!o)return Ch(e);const l=i[e],u=o[1].split(",").map(Ob);return typeof l=="function"?l(u):u[l]}const Mb=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Th(n,e)};function Ob(t){return parseFloat(t.trim())}const us=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cs=new Set(us),Hv=t=>t===ls||t===ie,Lb=new Set(["x","y","z"]),Fb=us.filter(t=>!Lb.has(t));function jb(t){const e=[];return Fb.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Xr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Th(e,"x"),y:(t,{transform:e})=>Th(e,"y")};Xr.translateX=Xr.x;Xr.translateY=Xr.y;const Jr=new Set;let Ih=!1,kh=!1,Ph=!1;function AS(){if(kh){const t=Array.from(Jr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=jb(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}kh=!1,Ih=!1,Jr.forEach(t=>t.complete(Ph)),Jr.clear()}function bS(){Jr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(kh=!0)})}function Vb(){Ph=!0,bS(),AS(),Ph=!1}class ap{constructor(e,n,i,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Jr.add(this),Ih||(Ih=!0,Le.read(bS),Le.resolveKeyframes(AS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}Ab(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jr.delete(this)}cancel(){this.state==="scheduled"&&(Jr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ub=t=>t.startsWith("--");function Bb(t,e,n){Ub(e)?t.style.setProperty(e,n):t.style[e]=n}const zb=qf(()=>window.ScrollTimeline!==void 0),Wb={};function $b(t,e){const n=qf(t);return()=>Wb[e]??n()}const DS=$b(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oo=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Kv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oo([0,.65,.55,1]),circOut:oo([.55,0,1,.45]),backIn:oo([.31,.01,.66,-.59]),backOut:oo([.33,1.53,.69,.99])};function MS(t,e){if(t)return typeof t=="function"?DS()?PS(t,e):"ease-out":vS(t)?oo(t):Array.isArray(t)?t.map(n=>MS(n,e)||Kv.easeOut):Kv[t]}function Hb(t,e,n,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const y=MS(d,o);Array.isArray(y)&&(g.easing=y);const _={delay:i,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function OS(t){return typeof t=="function"&&"applyToOptions"in t}function Kb({type:t,...e}){return OS(t)&&DS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Gb extends sp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Gf(typeof e.type!="string");const p=Kb(e);this.animation=Hb(n,i,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=ip(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):Bb(n,i,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Kt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kt(e)}get time(){return Kt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=yn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&zb()?(this.animation.timeline=e,Gt):n(this)}}const LS={anticipate:pS,backInOut:fS,circInOut:gS};function qb(t){return t in LS}function Yb(t){typeof t.ease=="string"&&qb(t.ease)&&(t.ease=LS[t.ease])}const Gv=10;class Qb extends Gb{constructor(e){Yb(e),RS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new op({...u,autoplay:!1}),f=yn(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-Gv).value,d.sample(f).value,Gv),d.stop()}}const qv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Sr.test(t)||t==="0")&&!t.startsWith("url("));function Xb(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Jb(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=qv(o,e),d=qv(l,e);return!u||!d?!1:Xb(t)||(n==="spring"||OS(n))&&i}function Nh(t){t.duration=0,t.type="keyframes"}const Zb=new Set(["opacity","clipPath","filter","transform"]),eD=qf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tD(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return eD()&&n&&Zb.has(n)&&(n!=="transform"||!p)&&!f&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}const nD=40;class rD extends sp{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:f,motionValue:p,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=At.now();const _={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:l,repeatType:u,name:f,motionValue:p,element:g,...y},x=g?.KeyframeResolver||ap;this.keyframeResolver=new x(d,(T,A,R)=>this.onKeyframesResolved(T,A,_,!R),f,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:f,isHandoff:p,onUpdate:g}=i;this.resolvedAt=At.now(),Jb(e,l,u,d)||((Vn.instantAnimations||!f)&&g?.(ip(e,i,n)),e[0]=e[e.length-1],Nh(i),i.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>nD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},x=!p&&tD(_)?new Qb({..._,element:_.motionValue.owner.current}):new op(_);x.finished.then(()=>this.notifyFinished()).catch(Gt),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Vb()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const iD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sD(t){const e=iD.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function FS(t,e,n=1){const[i,o]=sD(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return sS(u)?parseFloat(u):u}return Zf(o)?FS(o,e,n+1):o}function lp(t,e){return t?.[e]??t?.default??t}const jS=new Set(["width","height","top","left","right","bottom",...us]),oD={test:t=>t==="auto",parse:t=>t},VS=t=>e=>e.test(t),US=[ls,ie,vn,ar,XA,QA,oD],Yv=t=>US.find(VS(t));function aD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aS(t):!0}const lD=new Set(["brightness","contrast","saturate","opacity"]);function uD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(ep)||[];if(!i)return t;const o=n.replace(i,"");let l=lD.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+o+")"}const cD=/\b([a-z-]*)\(.*?\)/gu,Rh={...Sr,getAnimatableNone:t=>{const e=t.match(cD);return e?e.map(uD).join(" "):t}},Qv={...ls,transform:Math.round},dD={rotate:ar,rotateX:ar,rotateY:ar,rotateZ:ar,scale:fl,scaleX:fl,scaleY:fl,scaleZ:fl,skew:ar,skewX:ar,skewY:ar,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:Ao,originX:Fv,originY:Fv,originZ:ie},up={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,backgroundPositionX:ie,backgroundPositionY:ie,...dD,zIndex:Qv,fillOpacity:Ao,strokeOpacity:Ao,numOctaves:Qv},hD={...up,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:Rh,WebkitFilter:Rh},BS=t=>hD[t];function zS(t,e){let n=BS(t);return n!==Rh&&(n=Sr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const fD=new Set(["auto","none","0"]);function pD(t,e,n){let i=0,o;for(;i<t.length&&!o;){const l=t[i];typeof l=="string"&&!fD.has(l)&&bo(l).values.length&&(o=t[i]),i++}if(o&&n)for(const l of e)t[l]=zS(n,o)}class mD extends ap{constructor(e,n,i,o,l){super(e,n,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Zf(p))){const g=FS(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!jS.has(i)||e.length!==2)return;const[o,l]=e,u=Yv(o),d=Yv(l);if(u!==d)if(Hv(u)&&Hv(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Xr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||aD(e[o]))&&i.push(o);i.length&&pD(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Xr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function gD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=n?.[t]??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const WS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function yD(t){return oS(t)&&"offsetHeight"in t}const Xv=30,vD=t=>!isNaN(parseFloat(t));class _D{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=At.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=At.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=vD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Yf);const i=this.events[e].add(n);return e==="change"?()=>{i(),Le.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=At.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Xv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Xv);return lS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zi(t,e){return new _D(t,e)}const{schedule:cp}=_S(queueMicrotask,!1),nn={x:!1,y:!1};function $S(){return nn.x||nn.y}function wD(t){return t==="x"||t==="y"?nn[t]?null:(nn[t]=!0,()=>{nn[t]=!1}):nn.x||nn.y?null:(nn.x=nn.y=!0,()=>{nn.x=nn.y=!1})}function HS(t,e){const n=gD(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function Jv(t){return!(t.pointerType==="touch"||$S())}function SD(t,e,n={}){const[i,o,l]=HS(t,n),u=d=>{if(!Jv(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const g=y=>{Jv(y)&&(p(y),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,o)};return i.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const KS=(t,e)=>e?t===e?!0:KS(t,e.parentElement):!1,dp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ED=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xD(t){return ED.has(t.tagName)||t.tabIndex!==-1}const Sl=new WeakSet;function Zv(t){return e=>{e.key==="Enter"&&t(e)}}function Fd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const CD=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Zv(()=>{if(Sl.has(n))return;Fd(n,"down");const o=Zv(()=>{Fd(n,"up")}),l=()=>Fd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function e_(t){return dp(t)&&!$S()}function TD(t,e,n={}){const[i,o,l]=HS(t,n),u=d=>{const f=d.currentTarget;if(!e_(d))return;Sl.add(f);const p=e(f,d),g=(x,T)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),Sl.has(f)&&Sl.delete(f),e_(x)&&typeof p=="function"&&p(x,{success:T})},y=x=>{g(x,f===window||f===document||n.useGlobalTarget||KS(f,x.target))},_=x=>{g(x,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),yD(d)&&(d.addEventListener("focus",p=>CD(p,o)),!xD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function GS(t){return oS(t)&&"ownerSVGElement"in t}function ID(t){return GS(t)&&t.tagName==="svg"}const gt=t=>!!(t&&t.getVelocity),kD=[...US,Ye,Sr],PD=t=>kD.find(VS(t)),qS=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ND(t=!0){const e=F.useContext($f);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,l=F.useId();F.useEffect(()=>{if(t)return o(l)},[t]);const u=F.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const YS=F.createContext({strict:!1}),t_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},es={};for(const t in t_)es[t]={isEnabled:e=>t_[t].some(n=>!!e[n])};function RD(t){for(const e in t)es[e]={...es[e],...t[e]}}const AD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AD.has(t)}let QS=t=>!Xl(t);function bD(t){typeof t=="function"&&(QS=e=>e.startsWith("on")?!Xl(e):t(e))}try{bD(require("@emotion/is-prop-valid").default)}catch{}function DD(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(QS(o)||n===!0&&Xl(o)||!e&&!Xl(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const gu=F.createContext({});function yu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Do(t){return typeof t=="string"||Array.isArray(t)}const hp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fp=["initial",...hp];function vu(t){return yu(t.animate)||fp.some(e=>Do(t[e]))}function XS(t){return!!(vu(t)||t.variants)}function MD(t,e){if(vu(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Do(n)?n:void 0,animate:Do(i)?i:void 0}}return t.inherit!==!1?e:{}}function OD(t){const{initial:e,animate:n}=MD(t,F.useContext(gu));return F.useMemo(()=>({initial:e,animate:n}),[n_(e),n_(n)])}function n_(t){return Array.isArray(t)?t.join(" "):t}const Mo={};function LD(t){for(const e in t)Mo[e]=t[e],Jf(e)&&(Mo[e].isCSSVariable=!0)}function JS(t,{layout:e,layoutId:n}){return cs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Mo[t]||t==="opacity")}const FD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jD=us.length;function VD(t,e,n){let i="",o=!0;for(let l=0;l<jD;l++){const u=us[l],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=WS(d,up[u]);if(!f){o=!1;const g=FD[u]||u;i+=`${g}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function pp(t,e,n){const{style:i,vars:o,transformOrigin:l}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(cs.has(f)){u=!0;continue}else if(Jf(f)){o[f]=p;continue}else{const g=WS(p,up[f]);f.startsWith("origin")?(d=!0,l[f]=g):i[f]=g}}if(e.transform||(u||n?i.transform=VD(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;i.transformOrigin=`${f} ${p} ${g}`}}const mp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZS(t,e,n){for(const i in e)!gt(e[i])&&!JS(i,n)&&(t[i]=e[i])}function UD({transformTemplate:t},e){return F.useMemo(()=>{const n=mp();return pp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function BD(t,e){const n=t.style||{},i={};return ZS(i,n,t),Object.assign(i,UD(t,e)),i}function zD(t,e){const n={},i=BD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const WD={offset:"stroke-dashoffset",array:"stroke-dasharray"},$D={offset:"strokeDashoffset",array:"strokeDasharray"};function HD(t,e,n=1,i=0,o=!0){t.pathLength=1;const l=o?WD:$D;t[l.offset]=ie.transform(-i);const u=ie.transform(e),d=ie.transform(n);t[l.array]=`${u} ${d}`}function eE(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},f,p,g){if(pp(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_}=t;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),o!==void 0&&HD(y,o,l,u,!1)}const tE=()=>({...mp(),attrs:{}}),nE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function KD(t,e,n,i){const o=F.useMemo(()=>{const l=tE();return eE(l,e,nE(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ZS(l,t.style,t),o.style={...l,...o.style}}return o}const GD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gp(t){return typeof t!="string"||t.includes("-")?!1:!!(GD.indexOf(t)>-1||/[A-Z]/u.test(t))}function qD(t,e,n,{latestValues:i},o,l=!1){const d=(gp(t)?KD:zD)(e,i,o,t),f=DD(e,typeof t=="string",l),p=t!==F.Fragment?{...f,...d,ref:n}:{},{children:g}=e,y=F.useMemo(()=>gt(g)?g.get():g,[g]);return F.createElement(t,{...p,children:y})}function r_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function yp(t,e,n,i){if(typeof e=="function"){const[o,l]=r_(i);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=r_(i);e=e(n!==void 0?n:t.custom,o,l)}return e}function El(t){return gt(t)?t.get():t}function YD({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:QD(n,i,o,t),renderState:e()}}function QD(t,e,n,i){const o={},l=i(t,{});for(const _ in l)o[_]=El(l[_]);let{initial:u,animate:d}=t;const f=vu(t),p=XS(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?d:u;if(y&&typeof y!="boolean"&&!yu(y)){const _=Array.isArray(y)?y:[y];for(let x=0;x<_.length;x++){const T=yp(t,_[x]);if(T){const{transitionEnd:A,transition:R,...V}=T;for(const H in V){let b=V[H];if(Array.isArray(b)){const M=g?b.length-1:0;b=b[M]}b!==null&&(o[H]=b)}for(const H in A)o[H]=A[H]}}}return o}const rE=t=>(e,n)=>{const i=F.useContext(gu),o=F.useContext($f),l=()=>YD(t,e,i,o);return n?l():RA(l)};function vp(t,e,n){const{style:i}=t,o={};for(const l in i)(gt(i[l])||e.style&&gt(e.style[l])||JS(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}const XD=rE({scrapeMotionValuesFromProps:vp,createRenderState:mp});function iE(t,e,n){const i=vp(t,e,n);for(const o in t)if(gt(t[o])||gt(e[o])){const l=us.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=t[o]}return i}const JD=rE({scrapeMotionValuesFromProps:iE,createRenderState:tE}),ZD=Symbol.for("motionComponentSymbol");function Li(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eM(t,e,n){return F.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Li(n)&&(n.current=i))},[e])}const _p=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tM="framerAppearId",sE="data-"+_p(tM),oE=F.createContext({});function nM(t,e,n,i,o){const{visualElement:l}=F.useContext(gu),u=F.useContext(YS),d=F.useContext($f),f=F.useContext(qS).reducedMotion,p=F.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,y=F.useContext(oE);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&rM(p.current,n,o,y);const _=F.useRef(!1);F.useInsertionEffect(()=>{g&&_.current&&g.update(n,d)});const x=n[sE],T=F.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return AA(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),T.current&&g.animationState&&g.animationState.animateChanges())}),F.useEffect(()=>{g&&(!T.current&&g.animationState&&g.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),T.current=!1),g.enteringChildren=void 0)}),g}function rM(t,e,n,i){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aE(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&Li(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:p})}function aE(t){if(t)return t.options.allowProjection!==!1?t.projection:aE(t.parent)}function jd(t,{forwardMotionProps:e=!1}={},n,i){n&&RD(n);const o=gp(t)?JD:XD;function l(d,f){let p;const g={...F.useContext(qS),...d,layoutId:iM(d)},{isStatic:y}=g,_=OD(d),x=o(d,y);if(!y&&Wf){sM();const T=oM(g);p=T.MeasureLayout,_.visualElement=nM(t,x,g,i,T.ProjectionNode)}return w.jsxs(gu.Provider,{value:_,children:[p&&_.visualElement?w.jsx(p,{visualElement:_.visualElement,...g}):null,qD(t,d,eM(x,_.visualElement,f),x,y,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=F.forwardRef(l);return u[ZD]=t,u}function iM({layoutId:t}){const e=F.useContext(iS).id;return e&&t!==void 0?e+"-"+t:t}function sM(t,e){F.useContext(YS).strict}function oM(t){const{drag:e,layout:n}=es;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function aM(t,e){if(typeof Proxy>"u")return jd;const n=new Map,i=(l,u)=>jd(l,u,t,e),o=(l,u)=>i(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,jd(u,void 0,t,e)),n.get(u))})}function lE({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function lM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function uM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Vd(t){return t===void 0||t===1}function Ah({scale:t,scaleX:e,scaleY:n}){return!Vd(t)||!Vd(e)||!Vd(n)}function Wr(t){return Ah(t)||uE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uE(t){return i_(t.x)||i_(t.y)}function i_(t){return t&&t!=="0%"}function Jl(t,e,n){const i=t-n,o=e*i;return n+o}function s_(t,e,n,i,o){return o!==void 0&&(t=Jl(t,o,i)),Jl(t,n,i)+e}function bh(t,e=0,n=1,i,o){t.min=s_(t.min,e,n,i,o),t.max=s_(t.max,e,n,i,o)}function cE(t,{x:e,y:n}){bh(t.x,e.translate,e.scale,e.originPoint),bh(t.y,n.translate,n.scale,n.originPoint)}const o_=.999999999999,a_=1.0000000000001;function cM(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=n[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ji(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,cE(t,u)),i&&Wr(l.latestValues)&&ji(t,l.latestValues))}e.x<a_&&e.x>o_&&(e.x=1),e.y<a_&&e.y>o_&&(e.y=1)}function Fi(t,e){t.min=t.min+e,t.max=t.max+e}function l_(t,e,n,i,o=.5){const l=Ve(t.min,t.max,o);bh(t,e,n,l,i)}function ji(t,e){l_(t.x,e.x,e.scaleX,e.scale,e.originX),l_(t.y,e.y,e.scaleY,e.scale,e.originY)}function dE(t,e){return lE(uM(t.getBoundingClientRect(),e))}function dM(t,e,n){const i=dE(t,n),{scroll:o}=e;return o&&(Fi(i.x,o.offset.x),Fi(i.y,o.offset.y)),i}const u_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vi=()=>({x:u_(),y:u_()}),c_=()=>({min:0,max:0}),Ge=()=>({x:c_(),y:c_()}),Dh={current:null},hE={current:!1};function hM(){if(hE.current=!0,!!Wf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dh.current=t.matches;t.addEventListener("change",e),e()}else Dh.current=!1}const fM=new WeakMap;function pM(t,e,n){for(const i in e){const o=e[i],l=n[i];if(gt(o))t.addValue(i,o);else if(gt(l))t.addValue(i,Zi(o,{owner:t}));else if(l!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,Zi(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const d_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mM{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ap,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=At.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Le.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=vu(n),this.isVariantNode=XS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const x=y[_];f[_]!==void 0&&gt(x)&&x.set(f[_])}}mount(e){this.current=e,fM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),hE.current||hM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wr(this.notifyUpdate),wr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=cs.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Le.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in es){const n=es[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<d_.length;i++){const o=d_[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=pM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Zi(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(sS(i)||aS(i))?i=parseFloat(i):!PD(i)&&Sr.test(n)&&(i=zS(e,n)),this.setBaseTarget(e,gt(i)?i.get():i)),gt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=yp(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!gt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Yf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){cp.render(this.render)}}class fE extends mM{constructor(){super(...arguments),this.KeyframeResolver=mD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function pE(t,{style:e,vars:n},i,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function gM(t){return window.getComputedStyle(t)}class yM extends fE{constructor(){super(...arguments),this.type="html",this.renderInstance=pE}readValueFromInstance(e,n){if(cs.has(n))return this.projection?.isProjecting?Ch(n):Mb(e,n);{const i=gM(e),o=(Jf(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dE(e,n)}build(e,n,i){pp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return vp(e,n,i)}}const mE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vM(t,e,n,i){pE(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(mE.has(o)?o:_p(o),e.attrs[o])}class _M extends fE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(cs.has(n)){const i=BS(n);return i&&i.default||0}return n=mE.has(n)?n:_p(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return iE(e,n,i)}build(e,n,i){eE(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){vM(e,n,i,o)}mount(e){this.isSVGTag=nE(e.tagName),super.mount(e)}}const wM=(t,e)=>gp(t)?new _M(e):new yM(e,{allowProjection:t!==F.Fragment});function Hi(t,e,n){const i=t.getProps();return yp(i,e,n!==void 0?n:i.custom,t)}const Mh=t=>Array.isArray(t);function SM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Zi(n))}function EM(t){return Mh(t)?t[t.length-1]||0:t}function xM(t,e){const n=Hi(t,e);let{transitionEnd:i={},transition:o={},...l}=n||{};l={...l,...i};for(const u in l){const d=EM(l[u]);SM(t,u,d)}}function CM(t){return!!(gt(t)&&t.add)}function Oh(t,e){const n=t.getValue("willChange");if(CM(n))return n.add(e);if(!n&&Vn.WillChange){const i=new Vn.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function gE(t){return t.props[sE]}const TM=t=>t!==null;function IM(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(TM),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}const kM={type:"spring",stiffness:500,damping:25,restSpeed:10},PM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NM={type:"keyframes",duration:.8},RM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AM=(t,{keyframes:e})=>e.length>2?NM:cs.has(t)?t.startsWith("scale")?PM(e[1]):kM:RM;function bM({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const wp=(t,e,n,i={},o,l)=>u=>{const d=lp(i,t)||{},f=d.delay||i.delay||0;let{elapsed:p=0}=i;p=p-yn(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};bM(d)||Object.assign(g,AM(t,g)),g.duration&&(g.duration=yn(g.duration)),g.repeatDelay&&(g.repeatDelay=yn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Nh(g),g.delay===0&&(y=!0)),(Vn.instantAnimations||Vn.skipAnimations)&&(y=!0,Nh(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,y&&!l&&e.get()!==void 0){const _=IM(g.keyframes,d);if(_!==void 0){Le.update(()=>{g.onUpdate(_),g.onComplete()});return}}return d.isSync?new op(g):new rD(g)};function DM({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function yE(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;i&&(l=i);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in d){const y=t.getValue(g,t.latestValues[g]??null),_=d[g];if(_===void 0||p&&DM(p,g))continue;const x={delay:n,...lp(l||{},g)},T=y.get();if(T!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===T&&!x.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const V=gE(t);if(V){const H=window.MotionHandoffAnimation(V,g,Le);H!==null&&(x.startTime=H,A=!0)}}Oh(t,g),y.start(wp(g,y,_,t.shouldReduceMotion&&jS.has(g)?{type:!1}:x,t,A));const R=y.animation;R&&f.push(R)}return u&&Promise.all(f).then(()=>{Le.update(()=>{u&&xM(t,u)})}),f}function vE(t,e,n,i=0,o=1){const l=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,d=(u-1)*i;return typeof n=="function"?n(l,u):o===1?l*i:d-l*i}function Lh(t,e,n={}){const i=Hi(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(yE(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=o;return MM(t,e,f,p,g,y,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,p]=d==="beforeChildren"?[l,u]:[u,l];return f().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function MM(t,e,n=0,i=0,o=0,l=1,u){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(Lh(f,e,{...u,delay:n+(typeof i=="function"?0:i)+vE(t.variantChildren,f,i,o,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function OM(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>Lh(t,l,n));i=Promise.all(o)}else if(typeof e=="string")i=Lh(t,e,n);else{const o=typeof e=="function"?Hi(t,e,n.custom):e;i=Promise.all(yE(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function _E(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const LM=fp.length;function wE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?wE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<LM;n++){const i=fp[n],o=t.props[i];(Do(o)||o===!1)&&(e[i]=o)}return e}const FM=[...hp].reverse(),jM=hp.length;function VM(t){return e=>Promise.all(e.map(({animation:n,options:i})=>OM(t,n,i)))}function UM(t){let e=VM(t),n=h_(),i=!0;const o=f=>(p,g)=>{const y=Hi(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:_,transitionEnd:x,...T}=y;p={...p,...T,...x}}return p};function l(f){e=f(t)}function u(f){const{props:p}=t,g=wE(t.parent)||{},y=[],_=new Set;let x={},T=1/0;for(let R=0;R<jM;R++){const V=FM[R],H=n[V],b=p[V]!==void 0?p[V]:g[V],M=Do(b),U=V===f?H.isActive:null;U===!1&&(T=R);let q=b===g[V]&&b!==p[V]&&M;if(q&&i&&t.manuallyAnimateOnMount&&(q=!1),H.protectedKeys={...x},!H.isActive&&U===null||!b&&!H.prevProp||yu(b)||typeof b=="boolean")continue;const X=BM(H.prevProp,b);let z=X||V===f&&H.isActive&&!q&&M||R>T&&M,me=!1;const Ie=Array.isArray(b)?b:[b];let dt=Ie.reduce(o(V),{});U===!1&&(dt={});const{prevResolvedValues:ee={}}=H,Se={...ee,...dt},Ee=le=>{z=!0,_.has(le)&&(me=!0,_.delete(le)),H.needsAnimating[le]=!0;const $=t.getValue(le);$&&($.liveStyle=!1)};for(const le in Se){const $=dt[le],te=ee[le];if(x.hasOwnProperty(le))continue;let K=!1;Mh($)&&Mh(te)?K=!_E($,te):K=$!==te,K?$!=null?Ee(le):_.add(le):$!==void 0&&_.has(le)?Ee(le):H.protectedKeys[le]=!0}H.prevProp=b,H.prevResolvedValues=dt,H.isActive&&(x={...x,...dt}),i&&t.blockInitialAnimation&&(z=!1);const $e=q&&X;z&&(!$e||me)&&y.push(...Ie.map(le=>{const $={type:V};if(typeof le=="string"&&i&&!$e&&t.manuallyAnimateOnMount&&t.parent){const{parent:te}=t,K=Hi(te,le);if(te.enteringChildren&&K){const{delayChildren:I}=K.transition||{};$.delay=vE(te.enteringChildren,t,I)}}return{animation:le,options:$}}))}if(_.size){const R={};if(typeof p.initial!="boolean"){const V=Hi(t,Array.isArray(p.initial)?p.initial[0]:p.initial);V&&V.transition&&(R.transition=V.transition)}_.forEach(V=>{const H=t.getBaseTarget(V),b=t.getValue(V);b&&(b.liveStyle=!0),R[V]=H??null}),y.push({animation:R})}let A=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(A=!1),i=!1,A?e(y):Promise.resolve()}function d(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(f,p)),n[f].isActive=p;const g=u(f);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=h_()}}}function BM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_E(e,t):!1}function Ur(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h_(){return{animate:Ur(!0),whileInView:Ur(),whileHover:Ur(),whileTap:Ur(),whileDrag:Ur(),whileFocus:Ur(),exit:Ur()}}class Ir{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zM extends Ir{constructor(e){super(e),e.animationState||(e.animationState=UM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let WM=0;class $M extends Ir{constructor(){super(...arguments),this.id=WM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HM={animation:{Feature:zM},exit:{Feature:$M}};function Oo(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Xo(t){return{point:{x:t.pageX,y:t.pageY}}}const KM=t=>e=>dp(e)&&t(e,Xo(e));function go(t,e,n,i){return Oo(t,e,KM(n),i)}const SE=1e-4,GM=1-SE,qM=1+SE,EE=.01,YM=0-EE,QM=0+EE;function wt(t){return t.max-t.min}function XM(t,e,n){return Math.abs(t-e)<=n}function f_(t,e,n,i=.5){t.origin=i,t.originPoint=Ve(e.min,e.max,t.origin),t.scale=wt(n)/wt(e),t.translate=Ve(n.min,n.max,t.origin)-t.originPoint,(t.scale>=GM&&t.scale<=qM||isNaN(t.scale))&&(t.scale=1),(t.translate>=YM&&t.translate<=QM||isNaN(t.translate))&&(t.translate=0)}function yo(t,e,n,i){f_(t.x,e.x,n.x,i?i.originX:void 0),f_(t.y,e.y,n.y,i?i.originY:void 0)}function p_(t,e,n){t.min=n.min+e.min,t.max=t.min+wt(e)}function JM(t,e,n){p_(t.x,e.x,n.x),p_(t.y,e.y,n.y)}function m_(t,e,n){t.min=e.min-n.min,t.max=t.min+wt(e)}function vo(t,e,n){m_(t.x,e.x,n.x),m_(t.y,e.y,n.y)}function $t(t){return[t("x"),t("y")]}const xE=({current:t})=>t?t.ownerDocument.defaultView:null,g_=(t,e)=>Math.abs(t-e);function ZM(t,e){const n=g_(t.x,e.x),i=g_(t.y,e.y);return Math.sqrt(n**2+i**2)}class CE{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Bd(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,T=ZM(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!T)return;const{point:A}=_,{timestamp:R}=lt;this.history.push({...A,timestamp:R});const{onStart:V,onMove:H}=this.handlers;x||(V&&V(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),H&&H(this.lastMoveEvent,_)},this.handlePointerMove=(_,x)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Ud(x,this.transformPagePoint),Le.update(this.updatePoint,!0)},this.handlePointerUp=(_,x)=>{this.end();const{onEnd:T,onSessionEnd:A,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Bd(_.type==="pointercancel"?this.lastMoveEventInfo:Ud(x,this.transformPagePoint),this.history);this.startEvent&&T&&T(_,V),A&&A(_,V)},!dp(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const d=Xo(e),f=Ud(d,this.transformPagePoint),{point:p}=f,{timestamp:g}=lt;this.history=[{...p,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,Bd(f,this.history)),this.removeListeners=qo(go(this.contextWindow,"pointermove",this.handlePointerMove),go(this.contextWindow,"pointerup",this.handlePointerUp),go(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wr(this.updatePoint)}}function Ud(t,e){return e?{point:e(t.point)}:t}function y_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bd({point:t},e){return{point:t,delta:y_(t,TE(e)),offset:y_(t,eO(e)),velocity:tO(e,.1)}}function eO(t){return t[0]}function TE(t){return t[t.length-1]}function tO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=TE(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>yn(e)));)n--;if(!i)return{x:0,y:0};const l=Kt(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function nO(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ve(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ve(n,t,i.max):Math.min(t,n)),t}function v_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function rO(t,{top:e,left:n,bottom:i,right:o}){return{x:v_(t.x,n,o),y:v_(t.y,e,i)}}function __(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function iO(t,e){return{x:__(t.x,e.x),y:__(t.y,e.y)}}function sO(t,e){let n=.5;const i=wt(t),o=wt(e);return o>i?n=Ro(e.min,e.max-i,t.min):i>o&&(n=Ro(t.min,t.max-o,e.min)),jn(0,1,n)}function oO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Fh=.35;function aO(t=Fh){return t===!1?t=0:t===!0&&(t=Fh),{x:w_(t,"left","right"),y:w_(t,"top","bottom")}}function w_(t,e,n){return{min:S_(t,e),max:S_(t,n)}}function S_(t,e){return typeof t=="number"?t:t[e]||0}const lO=new WeakMap;class uO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xo(y).point)},u=(y,_)=>{const{drag:x,dragPropagation:T,onDragStart:A}=this.getProps();if(x&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wD(x),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$t(V=>{let H=this.getAxisMotionValue(V).get()||0;if(vn.test(H)){const{projection:b}=this.visualElement;if(b&&b.layout){const M=b.layout.layoutBox[V];M&&(H=wt(M)*(parseFloat(H)/100))}}this.originPoint[V]=H}),A&&Le.postRender(()=>A(y,_)),Oh(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},d=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_;const{dragPropagation:x,dragDirectionLock:T,onDirectionLock:A,onDrag:R}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:V}=_;if(T&&this.currentDirection===null){this.currentDirection=cO(V),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",_.point,V),this.updateAxis("y",_.point,V),this.visualElement.render(),R&&R(y,_)},f=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_,this.stop(y,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>$t(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new CE(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:xE(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Le.postRender(()=>d(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!pl(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=nO(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Li(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=rO(i.layoutBox,e):this.constraints=!1,this.elastic=aO(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&$t(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=oO(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Li(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=dM(i,o.root,this.visualElement.getTransformPagePoint());let u=iO(o.layout.layoutBox,l);if(n){const d=n(lM(u));this.hasMutatedConstraints=!!d,d&&(u=lE(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=$t(g=>{if(!pl(g,n,this.currentDirection))return;let y=f&&f[g]||{};u&&(y={min:0,max:0});const _=o?200:1e6,x=o?40:1e7,T={type:"inertia",velocity:i?e[g]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,T)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Oh(this.visualElement,e),i.start(wp(e,i,0,n,this.visualElement,!1))}stopAnimation(){$t(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$t(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){$t(n=>{const{drag:i}=this.getProps();if(!pl(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n];l.set(e[n]-Ve(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Li(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};$t(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=sO({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),$t(u=>{if(!pl(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(Ve(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;lO.set(this.visualElement,this);const e=this.visualElement.current,n=go(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Li(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Le.read(i);const u=Oo(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&($t(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Fh,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function pl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dO extends Ir{constructor(e){super(e),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new uO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const E_=t=>(e,n)=>{t&&Le.postRender(()=>t(e,n))};class hO extends Ir{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(e){this.session=new CE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:E_(e),onStart:E_(n),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Le.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=go(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const xl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function x_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ro={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ie.test(t))t=parseFloat(t);else return t;const n=x_(t,e.target.x),i=x_(t,e.target.y);return`${n}% ${i}%`}},fO={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Sr.parse(t);if(o.length>5)return i;const l=Sr.createTransformer(t),u=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const p=Ve(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),l(o)}};let zd=!1;class pO extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;LD(mO),l&&(n.group&&n.group.add(l),i&&i.register&&o&&i.register(l),zd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),xl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,zd=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Le.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),cp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;zd=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function IE(t){const[e,n]=ND(),i=F.useContext(iS);return w.jsx(pO,{...t,layoutGroup:i,switchLayoutGroup:F.useContext(oE),isPresent:e,safeToRemove:n})}const mO={borderRadius:{...ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ro,borderTopRightRadius:ro,borderBottomLeftRadius:ro,borderBottomRightRadius:ro,boxShadow:fO};function gO(t,e,n){const i=gt(t)?t:Zi(t);return i.start(wp("",i,e,n)),i.animation}const yO=(t,e)=>t.depth-e.depth;class vO{constructor(){this.children=[],this.isDirty=!1}add(e){Hf(this.children,e),this.isDirty=!0}remove(e){Kf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(yO),this.isDirty=!1,this.children.forEach(e)}}function _O(t,e){const n=At.now(),i=({timestamp:o})=>{const l=o-n;l>=e&&(wr(i),t(l-e))};return Le.setup(i,!0),()=>wr(i)}const kE=["TopLeft","TopRight","BottomLeft","BottomRight"],wO=kE.length,C_=t=>typeof t=="string"?parseFloat(t):t,T_=t=>typeof t=="number"||ie.test(t);function SO(t,e,n,i,o,l){o?(t.opacity=Ve(0,n.opacity??1,EO(i)),t.opacityExit=Ve(e.opacity??1,0,xO(i))):l&&(t.opacity=Ve(e.opacity??1,n.opacity??1,i));for(let u=0;u<wO;u++){const d=`border${kE[u]}Radius`;let f=I_(e,d),p=I_(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||T_(f)===T_(p)?(t[d]=Math.max(Ve(C_(f),C_(p),i),0),(vn.test(p)||vn.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=Ve(e.rotate||0,n.rotate||0,i))}function I_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const EO=PE(0,.5,mS),xO=PE(.5,.95,Gt);function PE(t,e,n){return i=>i<t?0:i>e?1:n(Ro(t,e,i))}function k_(t,e){t.min=e.min,t.max=e.max}function Wt(t,e){k_(t.x,e.x),k_(t.y,e.y)}function P_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function N_(t,e,n,i,o){return t-=e,t=Jl(t,1/n,i),o!==void 0&&(t=Jl(t,1/o,i)),t}function CO(t,e=0,n=1,i=.5,o,l=t,u=t){if(vn.test(e)&&(e=parseFloat(e),e=Ve(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Ve(l.min,l.max,i);t===l&&(d-=e),t.min=N_(t.min,e,n,d,o),t.max=N_(t.max,e,n,d,o)}function R_(t,e,[n,i,o],l,u){CO(t,e[n],e[i],e[o],e.scale,l,u)}const TO=["x","scaleX","originX"],IO=["y","scaleY","originY"];function A_(t,e,n,i){R_(t.x,e,TO,n?n.x:void 0,i?i.x:void 0),R_(t.y,e,IO,n?n.y:void 0,i?i.y:void 0)}function b_(t){return t.translate===0&&t.scale===1}function NE(t){return b_(t.x)&&b_(t.y)}function D_(t,e){return t.min===e.min&&t.max===e.max}function kO(t,e){return D_(t.x,e.x)&&D_(t.y,e.y)}function M_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function RE(t,e){return M_(t.x,e.x)&&M_(t.y,e.y)}function O_(t){return wt(t.x)/wt(t.y)}function L_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class PO{constructor(){this.members=[]}add(e){Hf(this.members,e),e.scheduleRender()}remove(e){if(Kf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NO(t,e,n){let i="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:_,skewX:x,skewY:T}=n;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),x&&(i+=`skewX(${x}deg) `),T&&(i+=`skewY(${T}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(i+=`scale(${d}, ${f})`),i||"none"}const Wd=["","X","Y","Z"],RO=1e3;let AO=0;function $d(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function AE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Le,!(o||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&AE(i)}function bE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=AO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MO),this.nodes.forEach(jO),this.nodes.forEach(VO),this.nodes.forEach(OO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new vO)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Yf),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=GS(u)&&!ID(u),this.instance=u;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let g,y=0;const _=()=>this.root.updateBlockedByResize=!1;Le.read(()=>{y=window.innerWidth}),t(u,()=>{const x=window.innerWidth;x!==y&&(y=x,this.root.updateBlockedByResize=!0,g&&g(),g=_O(_,250),xl.hasAnimatedSinceResize&&(xl.hasAnimatedSinceResize=!1,this.nodes.forEach(V_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||$O,{onLayoutAnimationStart:A,onLayoutAnimationComplete:R}=p.getProps(),V=!this.targetLayout||!RE(this.targetLayout,x),H=!y&&_;if(this.options.layoutRoot||this.resumeFrom||H||y&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...lp(T,"layout"),onPlay:A,onComplete:R};(p.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(g,H)}else y||V_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(j_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FO),this.nodes.forEach(bO),this.nodes.forEach(DO)):this.nodes.forEach(j_),this.clearAllSnapshots();const d=At.now();lt.delta=jn(0,1e3/60,d-lt.timestamp),lt.timestamp=d,lt.isProcessing=!0,bd.update.process(lt),bd.preRender.process(lt),bd.render.process(lt),lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(LO),this.sharedNodes.forEach(BO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wt(this.snapshot.measuredBox.x)&&!wt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!NE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(d||Wr(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),HO(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ge();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(KO))){const{scroll:p}=this.root;p&&(Fi(d.x,p.offset.x),Fi(d.y,p.offset.y))}return d}removeElementScroll(u){const d=Ge();if(Wt(d,u),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Wt(d,u),Fi(d.x,g.offset.x),Fi(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const f=Ge();Wt(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ji(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Wr(g.latestValues)&&ji(f,g.latestValues)}return Wr(this.latestValues)&&ji(f,this.latestValues),f}removeTransform(u){const d=Ge();Wt(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Wr(p.latestValues))continue;Ah(p.latestValues)&&p.updateSnapshot();const g=Ge(),y=p.measurePageBox();Wt(g,y),A_(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Wr(this.latestValues)&&A_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=lt.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),vo(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wt(this.target,this.layout.layoutBox),cE(this.target,this.targetDelta)):Wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),vo(this.relativeTargetOrigin,this.target,_.target),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ah(this.parent.latestValues)||uE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===lt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Wt(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;cM(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ge());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(P_(this.prevProjectionDelta.x,this.projectionDelta.x),P_(this.prevProjectionDelta.y,this.projectionDelta.y)),yo(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!L_(this.projectionDelta.x,this.prevProjectionDelta.x)||!L_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vi(),this.projectionDelta=Vi(),this.projectionDeltaWithTransform=Vi()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},y=Vi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Ge(),x=f?f.source:void 0,T=this.layout?this.layout.source:void 0,A=x!==T,R=this.getStack(),V=!R||R.members.length<=1,H=!!(A&&!V&&this.options.crossfade===!0&&!this.path.some(WO));this.animationProgress=0;let b;this.mixTargetDelta=M=>{const U=M/1e3;U_(y.x,u.x,U),U_(y.y,u.y,U),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vo(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zO(this.relativeTarget,this.relativeTargetOrigin,_,U),b&&kO(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ge()),Wt(b,this.relativeTarget)),A&&(this.animationValues=g,SO(g,p,this.latestValues,U,H,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Le.update(()=>{xl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zi(0)),this.currentAnimation=gO(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(RO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&DE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Ge();const y=wt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const _=wt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+_}Wt(d,f),ji(d,g),yo(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new PO),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&$d("z",u,p,this.animationValues);for(let g=0;g<Wd.length;g++)$d(`rotate${Wd[g]}`,u,p,this.animationValues),$d(`skew${Wd[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=El(d?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=El(d?.pointerEvents)||""),this.hasProjected&&!Wr(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=NO(this.projectionDeltaWithTransform,this.treeScale,g);f&&(y=f(g,y)),u.transform=y;const{x:_,y:x}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in Mo){if(g[T]===void 0)continue;const{correct:A,applyTo:R,isCSSVariable:V}=Mo[T],H=y==="none"?g[T]:A(g[T],p);if(R){const b=R.length;for(let M=0;M<b;M++)u[R[M]]=H}else V?this.options.visualElement.renderState.vars[T]=H:u[T]=H}this.options.layoutId&&(u.pointerEvents=p===this?El(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(F_),this.root.sharedNodes.clear()}}}function bO(t){t.updateLayout()}function DO(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?$t(g=>{const y=l?e.measuredBox[g]:e.layoutBox[g],_=wt(y);y.min=n[g].min,y.max=y.min+_}):DE(o,e.layoutBox,n)&&$t(g=>{const y=l?e.measuredBox[g]:e.layoutBox[g],_=wt(n[g]);y.max=y.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const u=Vi();yo(u,n,e.layoutBox);const d=Vi();l?yo(d,t.applyTransform(i,!0),e.measuredBox):yo(d,n,e.layoutBox);const f=!NE(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:_}=g;if(y&&_){const x=Ge();vo(x,e.layoutBox,y.layoutBox);const T=Ge();vo(T,n,_.layoutBox),RE(x,T)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=T,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function MO(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function OO(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function LO(t){t.clearSnapshot()}function F_(t){t.clearMeasurements()}function j_(t){t.isLayoutDirty=!1}function FO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function V_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jO(t){t.resolveTargetDelta()}function VO(t){t.calcProjection()}function UO(t){t.resetSkewAndRotation()}function BO(t){t.removeLeadSnapshot()}function U_(t,e,n){t.translate=Ve(e.translate,0,n),t.scale=Ve(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function B_(t,e,n,i){t.min=Ve(e.min,n.min,i),t.max=Ve(e.max,n.max,i)}function zO(t,e,n,i){B_(t.x,e.x,n.x,i),B_(t.y,e.y,n.y,i)}function WO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $O={duration:.45,ease:[.4,0,.1,1]},z_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),W_=z_("applewebkit/")&&!z_("chrome/")?Math.round:Gt;function $_(t){t.min=W_(t.min),t.max=W_(t.max)}function HO(t){$_(t.x),$_(t.y)}function DE(t,e,n){return t==="position"||t==="preserve-aspect"&&!XM(O_(e),O_(n),.2)}function KO(t){return t!==t.root&&t.scroll?.wasRoot}const GO=bE({attachResizeListener:(t,e)=>Oo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hd={current:void 0},ME=bE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hd.current){const t=new GO({});t.mount(window),t.setOptions({layoutScroll:!0}),Hd.current=t}return Hd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qO={pan:{Feature:hO},drag:{Feature:dO,ProjectionNode:ME,MeasureLayout:IE}};function H_(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=i[o];l&&Le.postRender(()=>l(e,Xo(e)))}class YO extends Ir{mount(){const{current:e}=this.node;e&&(this.unmount=SD(e,(n,i)=>(H_(this.node,i,"Start"),o=>H_(this.node,o,"End"))))}unmount(){}}class QO extends Ir{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qo(Oo(this.node.current,"focus",()=>this.onFocus()),Oo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K_(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=i[o];l&&Le.postRender(()=>l(e,Xo(e)))}class XO extends Ir{mount(){const{current:e}=this.node;e&&(this.unmount=TD(e,(n,i)=>(K_(this.node,i,"Start"),(o,{success:l})=>K_(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jh=new WeakMap,Kd=new WeakMap,JO=t=>{const e=jh.get(t.target);e&&e(t)},ZO=t=>{t.forEach(JO)};function eL({root:t,...e}){const n=t||document;Kd.has(n)||Kd.set(n,{});const i=Kd.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(ZO,{root:t,...e})),i[o]}function tL(t,e,n){const i=eL(e);return jh.set(t,n),i.observe(t),()=>{jh.delete(t),i.unobserve(t)}}const nL={some:0,all:1};class rL extends Ir{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:nL[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=p?g:y;_&&_(f)};return tL(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(iL(e,n))&&this.startObserver()}unmount(){}}function iL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sL={inView:{Feature:rL},tap:{Feature:XO},focus:{Feature:QO},hover:{Feature:YO}},oL={layout:{ProjectionNode:ME,MeasureLayout:IE}},aL={...HM,...sL,...qO,...oL},pn=aM(aL,wM),lL=[{id:1,title:`AI  
 `,subtitle:"      .",color:"from-amber-400 via-orange-400 to-rose-400",accentColor:"text-amber-500",dotColor:"bg-amber-500"},{id:2,title:`
 `,subtitle:"      .",color:"from-slate-800 via-slate-700 to-slate-600",accentColor:"text-slate-700",dotColor:"bg-slate-700"},{id:3,title:` 
, Silk`,subtitle:"      .",color:"from-indigo-500 via-purple-500 to-pink-500",accentColor:"text-indigo-600",dotColor:"bg-indigo-600"}];function uL(){return w.jsxs("div",{className:"bg-neutral-50",children:[w.jsxs("section",{className:"min-h-screen flex flex-col justify-center items-center px-6 relative overflow-hidden bg-neutral-50",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-neutral-50 via-indigo-50/30 to-neutral-50"}),w.jsxs(pn.div,{initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:1.2,ease:[.22,1,.36,1]},className:"text-center max-w-5xl relative z-10",children:[w.jsx(pn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:1,delay:.2},className:"mb-12",children:w.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold text-neutral-900 leading-[1.1] mb-8 tracking-tight",children:[" ,",w.jsx("br",{}),w.jsx("span",{className:"inline-block bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Silk"}),w.jsx("span",{className:"text-neutral-900",children:""}),w.jsx("br",{}),w.jsx("span",{className:"text-neutral-900",children:""})]})}),w.jsx(pn.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.5},className:"text-lg sm:text-xl text-neutral-600 mb-14 font-light leading-relaxed max-w-2xl mx-auto",children:"        "}),w.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.7},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[w.jsx("button",{className:"group px-8 py-4 bg-neutral-900 text-white text-base font-medium rounded-full hover:bg-neutral-800 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-neutral-900/20 min-w-[200px]",children:w.jsx("span",{className:"inline-block transition-transform duration-500 group-hover:translate-x-1",children:"   "})}),w.jsx("button",{className:"px-8 py-4 bg-white text-neutral-900 text-base font-medium rounded-full border border-neutral-200 hover:border-neutral-300 hover:bg-neutral-50 transition-all duration-500 hover:scale-[1.02] hover:shadow-xl min-w-[200px]",children:"  "})]})]}),w.jsx(pn.div,{animate:{y:[0,-30,0],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 right-[10%] w-[500px] h-[500px] bg-gradient-to-br from-indigo-300/20 to-purple-300/20 rounded-full blur-3xl"}),w.jsx(pn.div,{animate:{y:[0,40,0],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-1/4 left-[10%] w-[400px] h-[400px] bg-gradient-to-br from-pink-300/20 to-rose-300/20 rounded-full blur-3xl"})]}),w.jsx("div",{className:"relative bg-neutral-50",children:lL.map((t,e)=>w.jsx("section",{className:"min-h-screen flex items-center justify-center px-6 py-20",children:w.jsxs("div",{className:"max-w-7xl w-full grid md:grid-cols-2 gap-16 items-center",children:[w.jsxs(pn.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6,ease:"easeOut"},viewport:{once:!0,amount:.3},className:e%2===0?"md:order-1":"md:order-2",children:[w.jsx("div",{className:"mb-6",children:w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:`w-2 h-2 rounded-full ${t.dotColor}`}),w.jsxs("span",{className:"text-xs font-semibold text-neutral-400 tracking-widest uppercase",children:["Step ",t.id]})]})}),w.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-neutral-900 leading-[1.1] mb-8 whitespace-pre-line tracking-tight",children:t.title}),w.jsx("p",{className:"text-xl text-neutral-500 font-light leading-relaxed",children:t.subtitle})]}),w.jsx(pn.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},viewport:{once:!0,amount:.3},className:`flex justify-center ${e%2===0?"md:order-2":"md:order-1"}`,children:w.jsx("div",{className:"relative",children:w.jsxs("div",{className:"w-[300px] h-[600px] bg-neutral-900 rounded-[48px] p-2 shadow-2xl shadow-neutral-900/30",children:[w.jsxs("div",{className:`w-full h-full bg-gradient-to-br ${t.color} rounded-[40px] flex items-center justify-center text-white overflow-hidden relative`,children:[w.jsx("div",{className:"absolute inset-0 bg-white/5"}),w.jsxs("div",{className:"relative z-10 text-center p-8",children:[w.jsx("div",{className:"text-7xl mb-6",children:e===0?"":e===1?"":""}),w.jsx("div",{className:"text-lg font-medium opacity-90"})]})]}),w.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 w-24 h-6 bg-neutral-900 rounded-full border-2 border-neutral-800"})]})})})]})},t.id))}),w.jsx("section",{className:"py-32 px-6 bg-neutral-50",children:w.jsxs("div",{className:"max-w-7xl mx-auto",children:[w.jsxs(pn.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-20",children:[w.jsx("div",{className:"inline-block mb-6 px-4 py-2 bg-neutral-100 rounded-full",children:w.jsx("span",{className:"text-sm font-semibold text-neutral-600 tracking-wide",children:" "})}),w.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-neutral-900 tracking-tight",children:"Silk  "})]}),w.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{title:"Sound",desc:"     .",icon:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:w.jsx("path",{d:"M12 3v18M6 17v-10M18 17v-10"})}),gradient:"from-indigo-500 to-purple-500"},{title:"Shape",desc:"       .",icon:w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.jsx("path",{d:"M12 18V6"}),w.jsx("path",{d:"M6 12h12"})]}),gradient:"from-pink-500 to-rose-500"},{title:"Color",desc:"       .",icon:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:w.jsx("path",{d:"M12 2L2 7l10 5 10-5L12 2zM2 17l10 5 10-5M2 12l10 5 10-5"})}),gradient:"from-teal-500 to-cyan-500"}].map((t,e)=>w.jsxs(pn.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:e*.15},viewport:{once:!0},whileHover:{y:-8,transition:{duration:.3}},className:"bg-neutral-50 rounded-3xl p-10 hover:shadow-xl hover:shadow-neutral-200/50 transition-all duration-500 cursor-pointer border border-neutral-200/50 group",children:[w.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${t.gradient} rounded-2xl flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-500 shadow-lg`,children:t.icon}),w.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-4 tracking-tight",children:t.title}),w.jsx("p",{className:"text-base text-neutral-600 leading-relaxed font-light",children:t.desc})]},e))})]})})]})}const G_=()=>{const t=(location.hash||"#home").slice(1);return["home","profile","explore","write","login","signup","history"].includes(t)?t:"home"},q_=t=>t==="home"||t==="profile"||t==="explore";function cL(){const[t,e]=F.useState(G_()),[n,i]=F.useState(null),[o,l]=F.useState(!1);F.useEffect(()=>{const g=Uo(Mn,y=>{i(y),l(!0)});return()=>g()},[]),F.useEffect(()=>{const g=()=>e(G_());return window.addEventListener("hashchange",g),()=>window.removeEventListener("hashchange",g)},[]);const u=o?n?t==="login"||t==="signup"?"#home":`#${t}`:t!=="login"&&t!=="signup"?"#login":`#${t}`:"#login";let d=null;o?n?d=w.jsxs(w.Fragment,{children:[t==="home"&&w.jsx(uL,{}),t==="profile"&&w.jsx(PA,{}),t==="explore"&&w.jsx(SA,{}),t==="write"&&w.jsx(hA,{}),t==="history"&&w.jsx(TA,{})]}):d=w.jsxs(w.Fragment,{children:[t==="login"&&w.jsx(EA,{}),t==="signup"&&w.jsx(xA,{}),t!=="login"&&t!=="signup"&&w.jsx("div",{className:"grid place-items-center h-[70vh] text-sm text-red-500",children:" ."})]}):d=w.jsx("div",{className:"grid place-items-center h-[70vh] text-sm text-gray-500",children:""});const f=o&&n&&q_(t),p=q_(t)?t:"home";return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx(NA,{mode:"auto",nextHash:u}),w.jsx("main",{className:"max-w-5xl mx-auto px-4 py-4",children:d}),f&&w.jsx(aA,{current:p})]})}BC.createRoot(document.getElementById("root")).render(w.jsx(MC.StrictMode,{children:w.jsx(cL,{})}));
