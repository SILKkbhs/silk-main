(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function n0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wd={exports:{}},Zs={},Sd={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function FC(){if(wy)return ce;wy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function A(k,F,ue){this.props=k,this.context=F,this.refs=I,this.updater=ue||E}A.prototype.isReactComponent={},A.prototype.setState=function(k,F){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,F,"setState")},A.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function V(){}V.prototype=A.prototype;function L(k,F,ue){this.props=k,this.context=F,this.refs=I,this.updater=ue||E}var R=L.prototype=new V;R.constructor=L,C(R,A.prototype),R.isPureReactComponent=!0;var O=Array.isArray,B=Object.prototype.hasOwnProperty,q={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function $(k,F,ue){var pe,ve={},_e=null,Pe=null;if(F!=null)for(pe in F.ref!==void 0&&(Pe=F.ref),F.key!==void 0&&(_e=""+F.key),F)B.call(F,pe)&&!Z.hasOwnProperty(pe)&&(ve[pe]=F[pe]);var Ce=arguments.length-2;if(Ce===1)ve.children=ue;else if(1<Ce){for(var Me=Array(Ce),At=0;At<Ce;At++)Me[At]=arguments[At+2];ve.children=Me}if(k&&k.defaultProps)for(pe in Ce=k.defaultProps,Ce)ve[pe]===void 0&&(ve[pe]=Ce[pe]);return{$$typeof:t,type:k,key:_e,ref:Pe,props:ve,_owner:q.current}}function ye(k,F){return{$$typeof:t,type:k.type,key:F,ref:k.ref,props:k.props,_owner:k._owner}}function me(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function Xe(k){var F={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ue){return F[ue]})}var X=/\/+/g;function Ee(k,F){return typeof k=="object"&&k!==null&&k.key!=null?Xe(""+k.key):F.toString(36)}function xe(k,F,ue,pe,ve){var _e=typeof k;(_e==="undefined"||_e==="boolean")&&(k=null);var Pe=!1;if(k===null)Pe=!0;else switch(_e){case"string":case"number":Pe=!0;break;case"object":switch(k.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=k,ve=ve(Pe),k=pe===""?"."+Ee(Pe,0):pe,O(ve)?(ue="",k!=null&&(ue=k.replace(X,"$&/")+"/"),xe(ve,F,ue,"",function(At){return At})):ve!=null&&(me(ve)&&(ve=ye(ve,ue+(!ve.key||Pe&&Pe.key===ve.key?"":(""+ve.key).replace(X,"$&/")+"/")+k)),F.push(ve)),1;if(Pe=0,pe=pe===""?".":pe+":",O(k))for(var Ce=0;Ce<k.length;Ce++){_e=k[Ce];var Me=pe+Ee(_e,Ce);Pe+=xe(_e,F,ue,Me,ve)}else if(Me=_(k),typeof Me=="function")for(k=Me.call(k),Ce=0;!(_e=k.next()).done;)_e=_e.value,Me=pe+Ee(_e,Ce++),Pe+=xe(_e,F,ue,Me,ve);else if(_e==="object")throw F=String(k),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Pe}function $e(k,F,ue){if(k==null)return k;var pe=[],ve=0;return xe(k,pe,"","",function(_e){return F.call(ue,_e,ve++)}),pe}function qe(k){if(k._status===-1){var F=k._result;F=F(),F.then(function(ue){(k._status===0||k._status===-1)&&(k._status=1,k._result=ue)},function(ue){(k._status===0||k._status===-1)&&(k._status=2,k._result=ue)}),k._status===-1&&(k._status=0,k._result=F)}if(k._status===1)return k._result.default;throw k._result}var le={current:null},H={transition:null},te={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:H,ReactCurrentOwner:q};function K(){throw Error("act(...) is not supported in production builds of React.")}return ce.Children={map:$e,forEach:function(k,F,ue){$e(k,function(){F.apply(this,arguments)},ue)},count:function(k){var F=0;return $e(k,function(){F++}),F},toArray:function(k){return $e(k,function(F){return F})||[]},only:function(k){if(!me(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ce.Component=A,ce.Fragment=n,ce.Profiler=o,ce.PureComponent=L,ce.StrictMode=i,ce.Suspense=h,ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,ce.act=K,ce.cloneElement=function(k,F,ue){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var pe=C({},k.props),ve=k.key,_e=k.ref,Pe=k._owner;if(F!=null){if(F.ref!==void 0&&(_e=F.ref,Pe=q.current),F.key!==void 0&&(ve=""+F.key),k.type&&k.type.defaultProps)var Ce=k.type.defaultProps;for(Me in F)B.call(F,Me)&&!Z.hasOwnProperty(Me)&&(pe[Me]=F[Me]===void 0&&Ce!==void 0?Ce[Me]:F[Me])}var Me=arguments.length-2;if(Me===1)pe.children=ue;else if(1<Me){Ce=Array(Me);for(var At=0;At<Me;At++)Ce[At]=arguments[At+2];pe.children=Ce}return{$$typeof:t,type:k.type,key:ve,ref:_e,props:pe,_owner:Pe}},ce.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},ce.createElement=$,ce.createFactory=function(k){var F=$.bind(null,k);return F.type=k,F},ce.createRef=function(){return{current:null}},ce.forwardRef=function(k){return{$$typeof:d,render:k}},ce.isValidElement=me,ce.lazy=function(k){return{$$typeof:g,_payload:{_status:-1,_result:k},_init:qe}},ce.memo=function(k,F){return{$$typeof:m,type:k,compare:F===void 0?null:F}},ce.startTransition=function(k){var F=H.transition;H.transition={};try{k()}finally{H.transition=F}},ce.unstable_act=K,ce.useCallback=function(k,F){return le.current.useCallback(k,F)},ce.useContext=function(k){return le.current.useContext(k)},ce.useDebugValue=function(){},ce.useDeferredValue=function(k){return le.current.useDeferredValue(k)},ce.useEffect=function(k,F){return le.current.useEffect(k,F)},ce.useId=function(){return le.current.useId()},ce.useImperativeHandle=function(k,F,ue){return le.current.useImperativeHandle(k,F,ue)},ce.useInsertionEffect=function(k,F){return le.current.useInsertionEffect(k,F)},ce.useLayoutEffect=function(k,F){return le.current.useLayoutEffect(k,F)},ce.useMemo=function(k,F){return le.current.useMemo(k,F)},ce.useReducer=function(k,F,ue){return le.current.useReducer(k,F,ue)},ce.useRef=function(k){return le.current.useRef(k)},ce.useState=function(k){return le.current.useState(k)},ce.useSyncExternalStore=function(k,F,ue){return le.current.useSyncExternalStore(k,F,ue)},ce.useTransition=function(){return le.current.useTransition()},ce.version="18.3.1",ce}var Sy;function Hh(){return Sy||(Sy=1,Sd.exports=FC()),Sd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function jC(){if(Ey)return Zs;Ey=1;var t=Hh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var g,y={},_=null,E=null;m!==void 0&&(_=""+m),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(E=h.ref);for(g in h)i.call(h,g)&&!l.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:_,ref:E,props:y,_owner:o.current}}return Zs.Fragment=n,Zs.jsx=u,Zs.jsxs=u,Zs}var xy;function VC(){return xy||(xy=1,wd.exports=jC()),wd.exports}var w=VC(),D=Hh();const UC=n0(D);var pl={},Ed={exports:{}},Pt={},xd={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function BC(){return Cy||(Cy=1,(function(t){function e(H,te){var K=H.length;H.push(te);e:for(;0<K;){var k=K-1>>>1,F=H[k];if(0<o(F,te))H[k]=te,H[K]=F,K=k;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var te=H[0],K=H.pop();if(K!==te){H[0]=K;e:for(var k=0,F=H.length,ue=F>>>1;k<ue;){var pe=2*(k+1)-1,ve=H[pe],_e=pe+1,Pe=H[_e];if(0>o(ve,K))_e<F&&0>o(Pe,ve)?(H[k]=Pe,H[_e]=K,k=_e):(H[k]=ve,H[pe]=K,k=pe);else if(_e<F&&0>o(Pe,K))H[k]=Pe,H[_e]=K,k=_e;else break e}}return te}function o(H,te){var K=H.sortIndex-te.sortIndex;return K!==0?K:H.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,y=null,_=3,E=!1,C=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(H){for(var te=n(m);te!==null;){if(te.callback===null)i(m);else if(te.startTime<=H)i(m),te.sortIndex=te.expirationTime,e(h,te);else break;te=n(m)}}function O(H){if(I=!1,R(H),!C)if(n(h)!==null)C=!0,qe(B);else{var te=n(m);te!==null&&le(O,te.startTime-H)}}function B(H,te){C=!1,I&&(I=!1,V($),$=-1),E=!0;var K=_;try{for(R(te),y=n(h);y!==null&&(!(y.expirationTime>te)||H&&!Xe());){var k=y.callback;if(typeof k=="function"){y.callback=null,_=y.priorityLevel;var F=k(y.expirationTime<=te);te=t.unstable_now(),typeof F=="function"?y.callback=F:y===n(h)&&i(h),R(te)}else i(h);y=n(h)}if(y!==null)var ue=!0;else{var pe=n(m);pe!==null&&le(O,pe.startTime-te),ue=!1}return ue}finally{y=null,_=K,E=!1}}var q=!1,Z=null,$=-1,ye=5,me=-1;function Xe(){return!(t.unstable_now()-me<ye)}function X(){if(Z!==null){var H=t.unstable_now();me=H;var te=!0;try{te=Z(!0,H)}finally{te?Ee():(q=!1,Z=null)}}else q=!1}var Ee;if(typeof L=="function")Ee=function(){L(X)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,$e=xe.port2;xe.port1.onmessage=X,Ee=function(){$e.postMessage(null)}}else Ee=function(){A(X,0)};function qe(H){Z=H,q||(q=!0,Ee())}function le(H,te){$=A(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){C||E||(C=!0,qe(B))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(H){switch(_){case 1:case 2:case 3:var te=3;break;default:te=_}var K=_;_=te;try{return H()}finally{_=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=_;_=H;try{return te()}finally{_=K}},t.unstable_scheduleCallback=function(H,te,K){var k=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?k+K:k):K=k,H){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=K+F,H={id:g++,callback:te,priorityLevel:H,startTime:K,expirationTime:F,sortIndex:-1},K>k?(H.sortIndex=K,e(m,H),n(h)===null&&H===n(m)&&(I?(V($),$=-1):I=!0,le(O,K-k))):(H.sortIndex=F,e(h,H),C||E||(C=!0,qe(B))),H},t.unstable_shouldYield=Xe,t.unstable_wrapCallback=function(H){var te=_;return function(){var K=_;_=te;try{return H.apply(this,arguments)}finally{_=K}}}})(Cd)),Cd}var Ty;function zC(){return Ty||(Ty=1,xd.exports=BC()),xd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function WC(){if(Iy)return Pt;Iy=1;var t=Hh(),e=zC();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function _(r){return h.call(y,r)?!0:h.call(g,r)?!1:m.test(r)?y[r]=!0:(g[r]=!0,!1)}function E(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,a,c){if(s===null||typeof s>"u"||E(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function I(r,s,a,c,f,p,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=p,this.removeEmptyString=v}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new I(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];A[s]=new I(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new I(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new I(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new I(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new I(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new I(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new I(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new I(r,5,!1,r.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function L(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(V,L);A[s]=new I(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(V,L);A[s]=new I(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(V,L);A[s]=new I(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new I(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new I(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,s,a,c){var f=A.hasOwnProperty(s)?A[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,a,f,c)&&(a=null),c||f===null?_(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,c=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),me=Symbol.for("react.provider"),Xe=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),H=Symbol.iterator;function te(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,k;function F(r){if(k===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);k=s&&s[1]||""}return`
`+k+r}var ue=!1;function pe(r,s){if(!r||ue)return"";ue=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(b){var c=b}Reflect.construct(r,[],s)}else{try{s.call()}catch(b){c=b}r.call(s.prototype)}else{try{throw Error()}catch(b){c=b}r()}}catch(b){if(b&&c&&typeof b.stack=="string"){for(var f=b.stack.split(`
`),p=c.stack.split(`
`),v=f.length-1,S=p.length-1;1<=v&&0<=S&&f[v]!==p[S];)S--;for(;1<=v&&0<=S;v--,S--)if(f[v]!==p[S]){if(v!==1||S!==1)do if(v--,S--,0>S||f[v]!==p[S]){var x=`
`+f[v].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=v&&0<=S);break}}}finally{ue=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?F(r):""}function ve(r){switch(r.tag){case 5:return F(r.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function _e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Z:return"Fragment";case q:return"Portal";case ye:return"Profiler";case $:return"StrictMode";case Ee:return"Suspense";case xe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Xe:return(r.displayName||"Context")+".Consumer";case me:return(r._context.displayName||"Context")+".Provider";case X:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case $e:return s=r.displayName||null,s!==null?s:_e(r.type)||"Memo";case qe:s=r._payload,r=r._init;try{return _e(r(s))}catch{}}return null}function Pe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(s);case 8:return s===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Me(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function At(r){var s=Me(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,p=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ia(r){r._valueTracker||(r._valueTracker=At(r))}function Ip(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Me(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function sa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function ku(r,s){var a=s.checked;return K({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function kp(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Ce(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pp(r,s){s=s.checked,s!=null&&R(r,"checked",s,!1)}function Pu(r,s){Pp(r,s);var a=Ce(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Nu(r,s.type,a):s.hasOwnProperty("defaultValue")&&Nu(r,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Np(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Nu(r,s,a){(s!=="number"||sa(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var ps=Array.isArray;function di(r,s,a,c){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Ce(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function Ru(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return K({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Rp(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(ps(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Ce(a)}}function bp(r,s){var a=Ce(s.value),c=Ce(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function Ap(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Dp(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bu(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Dp(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var oa,Mp=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,f)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=oa.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ms(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var gs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BE=["Webkit","ms","Moz","O"];Object.keys(gs).forEach(function(r){BE.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),gs[s]=gs[r]})});function Op(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||gs.hasOwnProperty(r)&&gs[r]?(""+s).trim():s+"px"}function Lp(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,f=Op(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,f):r[a]=f}}var zE=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(r,s){if(s){if(zE[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Du(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=null;function Ou(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Lu=null,hi=null,fi=null;function Fp(r){if(r=js(r)){if(typeof Lu!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Na(s),Lu(r.stateNode,r.type,s))}}function jp(r){hi?fi?fi.push(r):fi=[r]:hi=r}function Vp(){if(hi){var r=hi,s=fi;if(fi=hi=null,Fp(r),s)for(r=0;r<s.length;r++)Fp(s[r])}}function Up(r,s){return r(s)}function Bp(){}var Fu=!1;function zp(r,s,a){if(Fu)return r(s,a);Fu=!0;try{return Up(r,s,a)}finally{Fu=!1,(hi!==null||fi!==null)&&(Bp(),Vp())}}function ys(r,s){var a=r.stateNode;if(a===null)return null;var c=Na(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var ju=!1;if(d)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){ju=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{ju=!1}function WE(r,s,a,c,f,p,v,S,x){var b=Array.prototype.slice.call(arguments,3);try{s.apply(a,b)}catch(j){this.onError(j)}}var _s=!1,aa=null,la=!1,Vu=null,$E={onError:function(r){_s=!0,aa=r}};function HE(r,s,a,c,f,p,v,S,x){_s=!1,aa=null,WE.apply($E,arguments)}function KE(r,s,a,c,f,p,v,S,x){if(HE.apply(this,arguments),_s){if(_s){var b=aa;_s=!1,aa=null}else throw Error(n(198));la||(la=!0,Vu=b)}}function Nr(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Wp(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function $p(r){if(Nr(r)!==r)throw Error(n(188))}function GE(r){var s=r.alternate;if(!s){if(s=Nr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,c=s;;){var f=a.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===a)return $p(f),r;if(p===c)return $p(f),s;p=p.sibling}throw Error(n(188))}if(a.return!==c.return)a=f,c=p;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,c=p;break}if(S===c){v=!0,c=f,a=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===a){v=!0,a=p,c=f;break}if(S===c){v=!0,c=p,a=f;break}S=S.sibling}if(!v)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function Hp(r){return r=GE(r),r!==null?Kp(r):null}function Kp(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Kp(r);if(s!==null)return s;r=r.sibling}return null}var Gp=e.unstable_scheduleCallback,qp=e.unstable_cancelCallback,qE=e.unstable_shouldYield,YE=e.unstable_requestPaint,He=e.unstable_now,QE=e.unstable_getCurrentPriorityLevel,Uu=e.unstable_ImmediatePriority,Yp=e.unstable_UserBlockingPriority,ua=e.unstable_NormalPriority,XE=e.unstable_LowPriority,Qp=e.unstable_IdlePriority,ca=null,dn=null;function JE(r){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(ca,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:tx,ZE=Math.log,ex=Math.LN2;function tx(r){return r>>>=0,r===0?32:31-(ZE(r)/ex|0)|0}var da=64,ha=4194304;function ws(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function fa(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,f=r.suspendedLanes,p=r.pingedLanes,v=a&268435455;if(v!==0){var S=v&~f;S!==0?c=ws(S):(p&=v,p!==0&&(c=ws(p)))}else v=a&~f,v!==0?c=ws(v):p!==0&&(c=ws(p));if(c===0)return 0;if(s!==0&&s!==c&&(s&f)===0&&(f=c&-c,p=s&-s,f>=p||f===16&&(p&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-Qt(s),f=1<<a,c|=r[a],s&=~f;return c}function nx(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rx(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes;0<p;){var v=31-Qt(p),S=1<<v,x=f[v];x===-1?((S&a)===0||(S&c)!==0)&&(f[v]=nx(S,s)):x<=s&&(r.expiredLanes|=S),p&=~S}}function Bu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Xp(){var r=da;return da<<=1,(da&4194240)===0&&(da=64),r}function zu(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ss(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Qt(s),r[s]=a}function ix(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-Qt(a),p=1<<f;s[f]=0,c[f]=-1,r[f]=-1,a&=~p}}function Wu(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-Qt(a),f=1<<c;f&s|r[c]&s&&(r[c]|=s),a&=~f}}var Te=0;function Jp(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Zp,$u,em,tm,nm,Hu=!1,pa=[],Hn=null,Kn=null,Gn=null,Es=new Map,xs=new Map,qn=[],sx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rm(r,s){switch(r){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Es.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(s.pointerId)}}function Cs(r,s,a,c,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},s!==null&&(s=js(s),s!==null&&$u(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function ox(r,s,a,c,f){switch(s){case"focusin":return Hn=Cs(Hn,r,s,a,c,f),!0;case"dragenter":return Kn=Cs(Kn,r,s,a,c,f),!0;case"mouseover":return Gn=Cs(Gn,r,s,a,c,f),!0;case"pointerover":var p=f.pointerId;return Es.set(p,Cs(Es.get(p)||null,r,s,a,c,f)),!0;case"gotpointercapture":return p=f.pointerId,xs.set(p,Cs(xs.get(p)||null,r,s,a,c,f)),!0}return!1}function im(r){var s=Rr(r.target);if(s!==null){var a=Nr(s);if(a!==null){if(s=a.tag,s===13){if(s=Wp(a),s!==null){r.blockedOn=s,nm(r.priority,function(){em(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ma(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Gu(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Mu=c,a.target.dispatchEvent(c),Mu=null}else return s=js(a),s!==null&&$u(s),r.blockedOn=a,!1;s.shift()}return!0}function sm(r,s,a){ma(r)&&a.delete(s)}function ax(){Hu=!1,Hn!==null&&ma(Hn)&&(Hn=null),Kn!==null&&ma(Kn)&&(Kn=null),Gn!==null&&ma(Gn)&&(Gn=null),Es.forEach(sm),xs.forEach(sm)}function Ts(r,s){r.blockedOn===s&&(r.blockedOn=null,Hu||(Hu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ax)))}function Is(r){function s(f){return Ts(f,r)}if(0<pa.length){Ts(pa[0],r);for(var a=1;a<pa.length;a++){var c=pa[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Hn!==null&&Ts(Hn,r),Kn!==null&&Ts(Kn,r),Gn!==null&&Ts(Gn,r),Es.forEach(s),xs.forEach(s),a=0;a<qn.length;a++)c=qn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<qn.length&&(a=qn[0],a.blockedOn===null);)im(a),a.blockedOn===null&&qn.shift()}var pi=O.ReactCurrentBatchConfig,ga=!0;function lx(r,s,a,c){var f=Te,p=pi.transition;pi.transition=null;try{Te=1,Ku(r,s,a,c)}finally{Te=f,pi.transition=p}}function ux(r,s,a,c){var f=Te,p=pi.transition;pi.transition=null;try{Te=4,Ku(r,s,a,c)}finally{Te=f,pi.transition=p}}function Ku(r,s,a,c){if(ga){var f=Gu(r,s,a,c);if(f===null)cc(r,s,c,ya,a),rm(r,c);else if(ox(f,r,s,a,c))c.stopPropagation();else if(rm(r,c),s&4&&-1<sx.indexOf(r)){for(;f!==null;){var p=js(f);if(p!==null&&Zp(p),p=Gu(r,s,a,c),p===null&&cc(r,s,c,ya,a),p===f)break;f=p}f!==null&&c.stopPropagation()}else cc(r,s,c,null,a)}}var ya=null;function Gu(r,s,a,c){if(ya=null,r=Ou(c),r=Rr(r),r!==null)if(s=Nr(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Wp(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ya=r,null}function om(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QE()){case Uu:return 1;case Yp:return 4;case ua:case XE:return 16;case Qp:return 536870912;default:return 16}default:return 16}}var Yn=null,qu=null,va=null;function am(){if(va)return va;var r,s=qu,a=s.length,c,f="value"in Yn?Yn.value:Yn.textContent,p=f.length;for(r=0;r<a&&s[r]===f[r];r++);var v=a-r;for(c=1;c<=v&&s[a-c]===f[p-c];c++);return va=f.slice(r,1<c?1-c:void 0)}function _a(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function wa(){return!0}function lm(){return!1}function Dt(r){function s(a,c,f,p,v){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(a=r[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?wa:lm,this.isPropagationStopped=lm,this}return K(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),s}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=Dt(mi),ks=K({},mi,{view:0,detail:0}),cx=Dt(ks),Qu,Xu,Ps,Sa=K({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ps&&(Ps&&r.type==="mousemove"?(Qu=r.screenX-Ps.screenX,Xu=r.screenY-Ps.screenY):Xu=Qu=0,Ps=r),Qu)},movementY:function(r){return"movementY"in r?r.movementY:Xu}}),um=Dt(Sa),dx=K({},Sa,{dataTransfer:0}),hx=Dt(dx),fx=K({},ks,{relatedTarget:0}),Ju=Dt(fx),px=K({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),mx=Dt(px),gx=K({},mi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),yx=Dt(gx),vx=K({},mi,{data:0}),cm=Dt(vx),_x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ex(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Sx[r])?!!s[r]:!1}function Zu(){return Ex}var xx=K({},ks,{key:function(r){if(r.key){var s=_x[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=_a(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?wx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zu,charCode:function(r){return r.type==="keypress"?_a(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_a(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Cx=Dt(xx),Tx=K({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dm=Dt(Tx),Ix=K({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zu}),kx=Dt(Ix),Px=K({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nx=Dt(Px),Rx=K({},Sa,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),bx=Dt(Rx),Ax=[9,13,27,32],ec=d&&"CompositionEvent"in window,Ns=null;d&&"documentMode"in document&&(Ns=document.documentMode);var Dx=d&&"TextEvent"in window&&!Ns,hm=d&&(!ec||Ns&&8<Ns&&11>=Ns),fm=" ",pm=!1;function mm(r,s){switch(r){case"keyup":return Ax.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var gi=!1;function Mx(r,s){switch(r){case"compositionend":return gm(s);case"keypress":return s.which!==32?null:(pm=!0,fm);case"textInput":return r=s.data,r===fm&&pm?null:r;default:return null}}function Ox(r,s){if(gi)return r==="compositionend"||!ec&&mm(r,s)?(r=am(),va=qu=Yn=null,gi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hm&&s.locale!=="ko"?null:s.data;default:return null}}var Lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Lx[r.type]:s==="textarea"}function vm(r,s,a,c){jp(c),s=Ia(s,"onChange"),0<s.length&&(a=new Yu("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Rs=null,bs=null;function Fx(r){Lm(r,0)}function Ea(r){var s=Si(r);if(Ip(s))return r}function jx(r,s){if(r==="change")return s}var _m=!1;if(d){var tc;if(d){var nc="oninput"in document;if(!nc){var wm=document.createElement("div");wm.setAttribute("oninput","return;"),nc=typeof wm.oninput=="function"}tc=nc}else tc=!1;_m=tc&&(!document.documentMode||9<document.documentMode)}function Sm(){Rs&&(Rs.detachEvent("onpropertychange",Em),bs=Rs=null)}function Em(r){if(r.propertyName==="value"&&Ea(bs)){var s=[];vm(s,bs,r,Ou(r)),zp(Fx,s)}}function Vx(r,s,a){r==="focusin"?(Sm(),Rs=s,bs=a,Rs.attachEvent("onpropertychange",Em)):r==="focusout"&&Sm()}function Ux(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ea(bs)}function Bx(r,s){if(r==="click")return Ea(s)}function zx(r,s){if(r==="input"||r==="change")return Ea(s)}function Wx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Xt=typeof Object.is=="function"?Object.is:Wx;function As(r,s){if(Xt(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!h.call(s,f)||!Xt(r[f],s[f]))return!1}return!0}function xm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Cm(r,s){var a=xm(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xm(a)}}function Tm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Tm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Im(){for(var r=window,s=sa();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=sa(r.document)}return s}function rc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function $x(r){var s=Im(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Tm(a.ownerDocument.documentElement,a)){if(c!==null&&rc(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!r.extend&&p>c&&(f=c,c=p,p=f),f=Cm(a,p);var v=Cm(a,c);f&&v&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),p>c?(r.addRange(s),r.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Hx=d&&"documentMode"in document&&11>=document.documentMode,yi=null,ic=null,Ds=null,sc=!1;function km(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sc||yi==null||yi!==sa(c)||(c=yi,"selectionStart"in c&&rc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ds&&As(Ds,c)||(Ds=c,c=Ia(ic,"onSelect"),0<c.length&&(s=new Yu("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=yi)))}function xa(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var vi={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},oc={},Pm={};d&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function Ca(r){if(oc[r])return oc[r];if(!vi[r])return r;var s=vi[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Pm)return oc[r]=s[a];return r}var Nm=Ca("animationend"),Rm=Ca("animationiteration"),bm=Ca("animationstart"),Am=Ca("transitionend"),Dm=new Map,Mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(r,s){Dm.set(r,s),l(s,[r])}for(var ac=0;ac<Mm.length;ac++){var lc=Mm[ac],Kx=lc.toLowerCase(),Gx=lc[0].toUpperCase()+lc.slice(1);Qn(Kx,"on"+Gx)}Qn(Nm,"onAnimationEnd"),Qn(Rm,"onAnimationIteration"),Qn(bm,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(Am,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function Om(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,KE(c,s,void 0,r),r.currentTarget=null}function Lm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],f=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var v=c.length-1;0<=v;v--){var S=c[v],x=S.instance,b=S.currentTarget;if(S=S.listener,x!==p&&f.isPropagationStopped())break e;Om(f,S,b),p=x}else for(v=0;v<c.length;v++){if(S=c[v],x=S.instance,b=S.currentTarget,S=S.listener,x!==p&&f.isPropagationStopped())break e;Om(f,S,b),p=x}}}if(la)throw r=Vu,la=!1,Vu=null,r}function Ae(r,s){var a=s[gc];a===void 0&&(a=s[gc]=new Set);var c=r+"__bubble";a.has(c)||(Fm(s,r,2,!1),a.add(c))}function uc(r,s,a){var c=0;s&&(c|=4),Fm(a,r,c,s)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Os(r){if(!r[Ta]){r[Ta]=!0,i.forEach(function(a){a!=="selectionchange"&&(qx.has(a)||uc(a,!1,r),uc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Ta]||(s[Ta]=!0,uc("selectionchange",!1,s))}}function Fm(r,s,a,c){switch(om(s)){case 1:var f=lx;break;case 4:f=ux;break;default:f=Ku}a=f.bind(null,s,a,r),f=void 0,!ju||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function cc(r,s,a,c,f){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var S=c.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var x=v.tag;if((x===3||x===4)&&(x=v.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;v=v.return}for(;S!==null;){if(v=Rr(S),v===null)return;if(x=v.tag,x===5||x===6){c=p=v;continue e}S=S.parentNode}}c=c.return}zp(function(){var b=p,j=Ou(a),U=[];e:{var M=Dm.get(r);if(M!==void 0){var G=Yu,Q=r;switch(r){case"keypress":if(_a(a)===0)break e;case"keydown":case"keyup":G=Cx;break;case"focusin":Q="focus",G=Ju;break;case"focusout":Q="blur",G=Ju;break;case"beforeblur":case"afterblur":G=Ju;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=kx;break;case Nm:case Rm:case bm:G=mx;break;case Am:G=Nx;break;case"scroll":G=cx;break;case"wheel":G=bx;break;case"copy":case"cut":case"paste":G=yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=dm}var J=(s&4)!==0,Ke=!J&&r==="scroll",P=J?M!==null?M+"Capture":null:M;J=[];for(var T=b,N;T!==null;){N=T;var z=N.stateNode;if(N.tag===5&&z!==null&&(N=z,P!==null&&(z=ys(T,P),z!=null&&J.push(Ls(T,z,N)))),Ke)break;T=T.return}0<J.length&&(M=new G(M,Q,null,a,j),U.push({event:M,listeners:J}))}}if((s&7)===0){e:{if(M=r==="mouseover"||r==="pointerover",G=r==="mouseout"||r==="pointerout",M&&a!==Mu&&(Q=a.relatedTarget||a.fromElement)&&(Rr(Q)||Q[En]))break e;if((G||M)&&(M=j.window===j?j:(M=j.ownerDocument)?M.defaultView||M.parentWindow:window,G?(Q=a.relatedTarget||a.toElement,G=b,Q=Q?Rr(Q):null,Q!==null&&(Ke=Nr(Q),Q!==Ke||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(G=null,Q=b),G!==Q)){if(J=um,z="onMouseLeave",P="onMouseEnter",T="mouse",(r==="pointerout"||r==="pointerover")&&(J=dm,z="onPointerLeave",P="onPointerEnter",T="pointer"),Ke=G==null?M:Si(G),N=Q==null?M:Si(Q),M=new J(z,T+"leave",G,a,j),M.target=Ke,M.relatedTarget=N,z=null,Rr(j)===b&&(J=new J(P,T+"enter",Q,a,j),J.target=N,J.relatedTarget=Ke,z=J),Ke=z,G&&Q)t:{for(J=G,P=Q,T=0,N=J;N;N=_i(N))T++;for(N=0,z=P;z;z=_i(z))N++;for(;0<T-N;)J=_i(J),T--;for(;0<N-T;)P=_i(P),N--;for(;T--;){if(J===P||P!==null&&J===P.alternate)break t;J=_i(J),P=_i(P)}J=null}else J=null;G!==null&&jm(U,M,G,J,!1),Q!==null&&Ke!==null&&jm(U,Ke,Q,J,!0)}}e:{if(M=b?Si(b):window,G=M.nodeName&&M.nodeName.toLowerCase(),G==="select"||G==="input"&&M.type==="file")var ee=jx;else if(ym(M))if(_m)ee=zx;else{ee=Ux;var ne=Vx}else(G=M.nodeName)&&G.toLowerCase()==="input"&&(M.type==="checkbox"||M.type==="radio")&&(ee=Bx);if(ee&&(ee=ee(r,b))){vm(U,ee,a,j);break e}ne&&ne(r,M,b),r==="focusout"&&(ne=M._wrapperState)&&ne.controlled&&M.type==="number"&&Nu(M,"number",M.value)}switch(ne=b?Si(b):window,r){case"focusin":(ym(ne)||ne.contentEditable==="true")&&(yi=ne,ic=b,Ds=null);break;case"focusout":Ds=ic=yi=null;break;case"mousedown":sc=!0;break;case"contextmenu":case"mouseup":case"dragend":sc=!1,km(U,a,j);break;case"selectionchange":if(Hx)break;case"keydown":case"keyup":km(U,a,j)}var re;if(ec)e:{switch(r){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else gi?mm(r,a)&&(ae="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(ae="onCompositionStart");ae&&(hm&&a.locale!=="ko"&&(gi||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&gi&&(re=am()):(Yn=j,qu="value"in Yn?Yn.value:Yn.textContent,gi=!0)),ne=Ia(b,ae),0<ne.length&&(ae=new cm(ae,r,null,a,j),U.push({event:ae,listeners:ne}),re?ae.data=re:(re=gm(a),re!==null&&(ae.data=re)))),(re=Dx?Mx(r,a):Ox(r,a))&&(b=Ia(b,"onBeforeInput"),0<b.length&&(j=new cm("onBeforeInput","beforeinput",null,a,j),U.push({event:j,listeners:b}),j.data=re))}Lm(U,s)})}function Ls(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Ia(r,s){for(var a=s+"Capture",c=[];r!==null;){var f=r,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=ys(r,a),p!=null&&c.unshift(Ls(r,p,f)),p=ys(r,s),p!=null&&c.push(Ls(r,p,f))),r=r.return}return c}function _i(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function jm(r,s,a,c,f){for(var p=s._reactName,v=[];a!==null&&a!==c;){var S=a,x=S.alternate,b=S.stateNode;if(x!==null&&x===c)break;S.tag===5&&b!==null&&(S=b,f?(x=ys(a,p),x!=null&&v.unshift(Ls(a,x,S))):f||(x=ys(a,p),x!=null&&v.push(Ls(a,x,S)))),a=a.return}v.length!==0&&r.push({event:s,listeners:v})}var Yx=/\r\n?/g,Qx=/\u0000|\uFFFD/g;function Vm(r){return(typeof r=="string"?r:""+r).replace(Yx,`
`).replace(Qx,"")}function ka(r,s,a){if(s=Vm(s),Vm(r)!==s&&a)throw Error(n(425))}function Pa(){}var dc=null,hc=null;function fc(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,Xx=typeof clearTimeout=="function"?clearTimeout:void 0,Um=typeof Promise=="function"?Promise:void 0,Jx=typeof queueMicrotask=="function"?queueMicrotask:typeof Um<"u"?function(r){return Um.resolve(null).then(r).catch(Zx)}:pc;function Zx(r){setTimeout(function(){throw r})}function mc(r,s){var a=s,c=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(c===0){r.removeChild(f),Is(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=f}while(a);Is(s)}function Xn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Bm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var wi=Math.random().toString(36).slice(2),hn="__reactFiber$"+wi,Fs="__reactProps$"+wi,En="__reactContainer$"+wi,gc="__reactEvents$"+wi,eC="__reactListeners$"+wi,tC="__reactHandles$"+wi;function Rr(r){var s=r[hn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[En]||a[hn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Bm(r);r!==null;){if(a=r[hn])return a;r=Bm(r)}return s}r=a,a=r.parentNode}return null}function js(r){return r=r[hn]||r[En],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Si(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Na(r){return r[Fs]||null}var yc=[],Ei=-1;function Jn(r){return{current:r}}function De(r){0>Ei||(r.current=yc[Ei],yc[Ei]=null,Ei--)}function Ne(r,s){Ei++,yc[Ei]=r.current,r.current=s}var Zn={},ft=Jn(Zn),xt=Jn(!1),br=Zn;function xi(r,s){var a=r.type.contextTypes;if(!a)return Zn;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in a)f[p]=s[p];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Ct(r){return r=r.childContextTypes,r!=null}function Ra(){De(xt),De(ft)}function zm(r,s,a){if(ft.current!==Zn)throw Error(n(168));Ne(ft,s),Ne(xt,a)}function Wm(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(n(108,Pe(r)||"Unknown",f));return K({},a,c)}function ba(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Zn,br=ft.current,Ne(ft,r),Ne(xt,xt.current),!0}function $m(r,s,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=Wm(r,s,br),c.__reactInternalMemoizedMergedChildContext=r,De(xt),De(ft),Ne(ft,r)):De(xt),Ne(xt,a)}var xn=null,Aa=!1,vc=!1;function Hm(r){xn===null?xn=[r]:xn.push(r)}function nC(r){Aa=!0,Hm(r)}function er(){if(!vc&&xn!==null){vc=!0;var r=0,s=Te;try{var a=xn;for(Te=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}xn=null,Aa=!1}catch(f){throw xn!==null&&(xn=xn.slice(r+1)),Gp(Uu,er),f}finally{Te=s,vc=!1}}return null}var Ci=[],Ti=0,Da=null,Ma=0,Ft=[],jt=0,Ar=null,Cn=1,Tn="";function Dr(r,s){Ci[Ti++]=Ma,Ci[Ti++]=Da,Da=r,Ma=s}function Km(r,s,a){Ft[jt++]=Cn,Ft[jt++]=Tn,Ft[jt++]=Ar,Ar=r;var c=Cn;r=Tn;var f=32-Qt(c)-1;c&=~(1<<f),a+=1;var p=32-Qt(s)+f;if(30<p){var v=f-f%5;p=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Cn=1<<32-Qt(s)+f|a<<f|c,Tn=p+r}else Cn=1<<p|a<<f|c,Tn=r}function _c(r){r.return!==null&&(Dr(r,1),Km(r,1,0))}function wc(r){for(;r===Da;)Da=Ci[--Ti],Ci[Ti]=null,Ma=Ci[--Ti],Ci[Ti]=null;for(;r===Ar;)Ar=Ft[--jt],Ft[jt]=null,Tn=Ft[--jt],Ft[jt]=null,Cn=Ft[--jt],Ft[jt]=null}var Mt=null,Ot=null,Oe=!1,Jt=null;function Gm(r,s){var a=zt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function qm(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Mt=r,Ot=Xn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Mt=r,Ot=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ar!==null?{id:Cn,overflow:Tn}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=zt(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Mt=r,Ot=null,!0):!1;default:return!1}}function Sc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ec(r){if(Oe){var s=Ot;if(s){var a=s;if(!qm(r,s)){if(Sc(r))throw Error(n(418));s=Xn(a.nextSibling);var c=Mt;s&&qm(r,s)?Gm(c,a):(r.flags=r.flags&-4097|2,Oe=!1,Mt=r)}}else{if(Sc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Oe=!1,Mt=r}}}function Ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Mt=r}function Oa(r){if(r!==Mt)return!1;if(!Oe)return Ym(r),Oe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!fc(r.type,r.memoizedProps)),s&&(s=Ot)){if(Sc(r))throw Qm(),Error(n(418));for(;s;)Gm(r,s),s=Xn(s.nextSibling)}if(Ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Ot=Xn(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Ot=null}}else Ot=Mt?Xn(r.stateNode.nextSibling):null;return!0}function Qm(){for(var r=Ot;r;)r=Xn(r.nextSibling)}function Ii(){Ot=Mt=null,Oe=!1}function xc(r){Jt===null?Jt=[r]:Jt.push(r)}var rC=O.ReactCurrentBatchConfig;function Vs(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var f=c,p=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(v){var S=f.refs;v===null?delete S[p]:S[p]=v},s._stringRef=p,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function La(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Xm(r){var s=r._init;return s(r._payload)}function Jm(r){function s(P,T){if(r){var N=P.deletions;N===null?(P.deletions=[T],P.flags|=16):N.push(T)}}function a(P,T){if(!r)return null;for(;T!==null;)s(P,T),T=T.sibling;return null}function c(P,T){for(P=new Map;T!==null;)T.key!==null?P.set(T.key,T):P.set(T.index,T),T=T.sibling;return P}function f(P,T){return P=lr(P,T),P.index=0,P.sibling=null,P}function p(P,T,N){return P.index=N,r?(N=P.alternate,N!==null?(N=N.index,N<T?(P.flags|=2,T):N):(P.flags|=2,T)):(P.flags|=1048576,T)}function v(P){return r&&P.alternate===null&&(P.flags|=2),P}function S(P,T,N,z){return T===null||T.tag!==6?(T=pd(N,P.mode,z),T.return=P,T):(T=f(T,N),T.return=P,T)}function x(P,T,N,z){var ee=N.type;return ee===Z?j(P,T,N.props.children,z,N.key):T!==null&&(T.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===qe&&Xm(ee)===T.type)?(z=f(T,N.props),z.ref=Vs(P,T,N),z.return=P,z):(z=ol(N.type,N.key,N.props,null,P.mode,z),z.ref=Vs(P,T,N),z.return=P,z)}function b(P,T,N,z){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=md(N,P.mode,z),T.return=P,T):(T=f(T,N.children||[]),T.return=P,T)}function j(P,T,N,z,ee){return T===null||T.tag!==7?(T=Br(N,P.mode,z,ee),T.return=P,T):(T=f(T,N),T.return=P,T)}function U(P,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return T=pd(""+T,P.mode,N),T.return=P,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case B:return N=ol(T.type,T.key,T.props,null,P.mode,N),N.ref=Vs(P,null,T),N.return=P,N;case q:return T=md(T,P.mode,N),T.return=P,T;case qe:var z=T._init;return U(P,z(T._payload),N)}if(ps(T)||te(T))return T=Br(T,P.mode,N,null),T.return=P,T;La(P,T)}return null}function M(P,T,N,z){var ee=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return ee!==null?null:S(P,T,""+N,z);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case B:return N.key===ee?x(P,T,N,z):null;case q:return N.key===ee?b(P,T,N,z):null;case qe:return ee=N._init,M(P,T,ee(N._payload),z)}if(ps(N)||te(N))return ee!==null?null:j(P,T,N,z,null);La(P,N)}return null}function G(P,T,N,z,ee){if(typeof z=="string"&&z!==""||typeof z=="number")return P=P.get(N)||null,S(T,P,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case B:return P=P.get(z.key===null?N:z.key)||null,x(T,P,z,ee);case q:return P=P.get(z.key===null?N:z.key)||null,b(T,P,z,ee);case qe:var ne=z._init;return G(P,T,N,ne(z._payload),ee)}if(ps(z)||te(z))return P=P.get(N)||null,j(T,P,z,ee,null);La(T,z)}return null}function Q(P,T,N,z){for(var ee=null,ne=null,re=T,ae=T=0,it=null;re!==null&&ae<N.length;ae++){re.index>ae?(it=re,re=null):it=re.sibling;var we=M(P,re,N[ae],z);if(we===null){re===null&&(re=it);break}r&&re&&we.alternate===null&&s(P,re),T=p(we,T,ae),ne===null?ee=we:ne.sibling=we,ne=we,re=it}if(ae===N.length)return a(P,re),Oe&&Dr(P,ae),ee;if(re===null){for(;ae<N.length;ae++)re=U(P,N[ae],z),re!==null&&(T=p(re,T,ae),ne===null?ee=re:ne.sibling=re,ne=re);return Oe&&Dr(P,ae),ee}for(re=c(P,re);ae<N.length;ae++)it=G(re,P,ae,N[ae],z),it!==null&&(r&&it.alternate!==null&&re.delete(it.key===null?ae:it.key),T=p(it,T,ae),ne===null?ee=it:ne.sibling=it,ne=it);return r&&re.forEach(function(ur){return s(P,ur)}),Oe&&Dr(P,ae),ee}function J(P,T,N,z){var ee=te(N);if(typeof ee!="function")throw Error(n(150));if(N=ee.call(N),N==null)throw Error(n(151));for(var ne=ee=null,re=T,ae=T=0,it=null,we=N.next();re!==null&&!we.done;ae++,we=N.next()){re.index>ae?(it=re,re=null):it=re.sibling;var ur=M(P,re,we.value,z);if(ur===null){re===null&&(re=it);break}r&&re&&ur.alternate===null&&s(P,re),T=p(ur,T,ae),ne===null?ee=ur:ne.sibling=ur,ne=ur,re=it}if(we.done)return a(P,re),Oe&&Dr(P,ae),ee;if(re===null){for(;!we.done;ae++,we=N.next())we=U(P,we.value,z),we!==null&&(T=p(we,T,ae),ne===null?ee=we:ne.sibling=we,ne=we);return Oe&&Dr(P,ae),ee}for(re=c(P,re);!we.done;ae++,we=N.next())we=G(re,P,ae,we.value,z),we!==null&&(r&&we.alternate!==null&&re.delete(we.key===null?ae:we.key),T=p(we,T,ae),ne===null?ee=we:ne.sibling=we,ne=we);return r&&re.forEach(function(LC){return s(P,LC)}),Oe&&Dr(P,ae),ee}function Ke(P,T,N,z){if(typeof N=="object"&&N!==null&&N.type===Z&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case B:e:{for(var ee=N.key,ne=T;ne!==null;){if(ne.key===ee){if(ee=N.type,ee===Z){if(ne.tag===7){a(P,ne.sibling),T=f(ne,N.props.children),T.return=P,P=T;break e}}else if(ne.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===qe&&Xm(ee)===ne.type){a(P,ne.sibling),T=f(ne,N.props),T.ref=Vs(P,ne,N),T.return=P,P=T;break e}a(P,ne);break}else s(P,ne);ne=ne.sibling}N.type===Z?(T=Br(N.props.children,P.mode,z,N.key),T.return=P,P=T):(z=ol(N.type,N.key,N.props,null,P.mode,z),z.ref=Vs(P,T,N),z.return=P,P=z)}return v(P);case q:e:{for(ne=N.key;T!==null;){if(T.key===ne)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){a(P,T.sibling),T=f(T,N.children||[]),T.return=P,P=T;break e}else{a(P,T);break}else s(P,T);T=T.sibling}T=md(N,P.mode,z),T.return=P,P=T}return v(P);case qe:return ne=N._init,Ke(P,T,ne(N._payload),z)}if(ps(N))return Q(P,T,N,z);if(te(N))return J(P,T,N,z);La(P,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,T!==null&&T.tag===6?(a(P,T.sibling),T=f(T,N),T.return=P,P=T):(a(P,T),T=pd(N,P.mode,z),T.return=P,P=T),v(P)):a(P,T)}return Ke}var ki=Jm(!0),Zm=Jm(!1),Fa=Jn(null),ja=null,Pi=null,Cc=null;function Tc(){Cc=Pi=ja=null}function Ic(r){var s=Fa.current;De(Fa),r._currentValue=s}function kc(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Ni(r,s){ja=r,Cc=Pi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Tt=!0),r.firstContext=null)}function Vt(r){var s=r._currentValue;if(Cc!==r)if(r={context:r,memoizedValue:s,next:null},Pi===null){if(ja===null)throw Error(n(308));Pi=r,ja.dependencies={lanes:0,firstContext:r}}else Pi=Pi.next=r;return s}var Mr=null;function Pc(r){Mr===null?Mr=[r]:Mr.push(r)}function eg(r,s,a,c){var f=s.interleaved;return f===null?(a.next=a,Pc(s)):(a.next=f.next,f.next=a),s.interleaved=a,In(r,c)}function In(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var tr=!1;function Nc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function kn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function nr(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ge&2)!==0){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,In(r,a)}return f=c.interleaved,f===null?(s.next=s,Pc(c)):(s.next=f.next,f.next=s),c.interleaved=s,In(r,a)}function Va(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Wu(r,a)}}function ng(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};p===null?f=p=v:p=p.next=v,a=a.next}while(a!==null);p===null?f=p=s:p=p.next=s}else f=p=s;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Ua(r,s,a,c){var f=r.updateQueue;tr=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var x=S,b=x.next;x.next=null,v===null?p=b:v.next=b,v=x;var j=r.alternate;j!==null&&(j=j.updateQueue,S=j.lastBaseUpdate,S!==v&&(S===null?j.firstBaseUpdate=b:S.next=b,j.lastBaseUpdate=x))}if(p!==null){var U=f.baseState;v=0,j=b=x=null,S=p;do{var M=S.lane,G=S.eventTime;if((c&M)===M){j!==null&&(j=j.next={eventTime:G,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var Q=r,J=S;switch(M=s,G=a,J.tag){case 1:if(Q=J.payload,typeof Q=="function"){U=Q.call(G,U,M);break e}U=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=J.payload,M=typeof Q=="function"?Q.call(G,U,M):Q,M==null)break e;U=K({},U,M);break e;case 2:tr=!0}}S.callback!==null&&S.lane!==0&&(r.flags|=64,M=f.effects,M===null?f.effects=[S]:M.push(S))}else G={eventTime:G,lane:M,tag:S.tag,payload:S.payload,callback:S.callback,next:null},j===null?(b=j=G,x=U):j=j.next=G,v|=M;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;M=S,S=M.next,M.next=null,f.lastBaseUpdate=M,f.shared.pending=null}}while(!0);if(j===null&&(x=U),f.baseState=x,f.firstBaseUpdate=b,f.lastBaseUpdate=j,s=f.shared.interleaved,s!==null){f=s;do v|=f.lane,f=f.next;while(f!==s)}else p===null&&(f.shared.lanes=0);Fr|=v,r.lanes=v,r.memoizedState=U}}function rg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=a,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Us={},fn=Jn(Us),Bs=Jn(Us),zs=Jn(Us);function Or(r){if(r===Us)throw Error(n(174));return r}function Rc(r,s){switch(Ne(zs,s),Ne(Bs,r),Ne(fn,Us),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:bu(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=bu(s,r)}De(fn),Ne(fn,s)}function Ri(){De(fn),De(Bs),De(zs)}function ig(r){Or(zs.current);var s=Or(fn.current),a=bu(s,r.type);s!==a&&(Ne(Bs,r),Ne(fn,a))}function bc(r){Bs.current===r&&(De(fn),De(Bs))}var je=Jn(0);function Ba(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ac=[];function Dc(){for(var r=0;r<Ac.length;r++)Ac[r]._workInProgressVersionPrimary=null;Ac.length=0}var za=O.ReactCurrentDispatcher,Mc=O.ReactCurrentBatchConfig,Lr=0,Ve=null,Je=null,nt=null,Wa=!1,Ws=!1,$s=0,iC=0;function pt(){throw Error(n(321))}function Oc(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Xt(r[a],s[a]))return!1;return!0}function Lc(r,s,a,c,f,p){if(Lr=p,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,za.current=r===null||r.memoizedState===null?lC:uC,r=a(c,f),Ws){p=0;do{if(Ws=!1,$s=0,25<=p)throw Error(n(301));p+=1,nt=Je=null,s.updateQueue=null,za.current=cC,r=a(c,f)}while(Ws)}if(za.current=Ka,s=Je!==null&&Je.next!==null,Lr=0,nt=Je=Ve=null,Wa=!1,s)throw Error(n(300));return r}function Fc(){var r=$s!==0;return $s=0,r}function pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Ve.memoizedState=nt=r:nt=nt.next=r,nt}function Ut(){if(Je===null){var r=Ve.alternate;r=r!==null?r.memoizedState:null}else r=Je.next;var s=nt===null?Ve.memoizedState:nt.next;if(s!==null)nt=s,Je=r;else{if(r===null)throw Error(n(310));Je=r,r={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?Ve.memoizedState=nt=r:nt=nt.next=r}return nt}function Hs(r,s){return typeof s=="function"?s(r):s}function jc(r){var s=Ut(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=Je,f=c.baseQueue,p=a.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}c.baseQueue=f=p,a.pending=null}if(f!==null){p=f.next,c=c.baseState;var S=v=null,x=null,b=p;do{var j=b.lane;if((Lr&j)===j)x!==null&&(x=x.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),c=b.hasEagerState?b.eagerState:r(c,b.action);else{var U={lane:j,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};x===null?(S=x=U,v=c):x=x.next=U,Ve.lanes|=j,Fr|=j}b=b.next}while(b!==null&&b!==p);x===null?v=c:x.next=S,Xt(c,s.memoizedState)||(Tt=!0),s.memoizedState=c,s.baseState=v,s.baseQueue=x,a.lastRenderedState=c}if(r=a.interleaved,r!==null){f=r;do p=f.lane,Ve.lanes|=p,Fr|=p,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Vc(r){var s=Ut(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,f=a.pending,p=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do p=r(p,v.action),v=v.next;while(v!==f);Xt(p,s.memoizedState)||(Tt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,c]}function sg(){}function og(r,s){var a=Ve,c=Ut(),f=s(),p=!Xt(c.memoizedState,f);if(p&&(c.memoizedState=f,Tt=!0),c=c.queue,Uc(ug.bind(null,a,c,r),[r]),c.getSnapshot!==s||p||nt!==null&&nt.memoizedState.tag&1){if(a.flags|=2048,Ks(9,lg.bind(null,a,c,f,s),void 0,null),rt===null)throw Error(n(349));(Lr&30)!==0||ag(a,s,f)}return f}function ag(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Ve.updateQueue,s===null?(s={lastEffect:null,stores:null},Ve.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function lg(r,s,a,c){s.value=a,s.getSnapshot=c,cg(s)&&dg(r)}function ug(r,s,a){return a(function(){cg(s)&&dg(r)})}function cg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Xt(r,a)}catch{return!0}}function dg(r){var s=In(r,1);s!==null&&nn(s,r,1,-1)}function hg(r){var s=pn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:r},s.queue=r,r=r.dispatch=aC.bind(null,Ve,r),[s.memoizedState,r]}function Ks(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=Ve.updateQueue,s===null?(s={lastEffect:null,stores:null},Ve.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function fg(){return Ut().memoizedState}function $a(r,s,a,c){var f=pn();Ve.flags|=r,f.memoizedState=Ks(1|s,a,void 0,c===void 0?null:c)}function Ha(r,s,a,c){var f=Ut();c=c===void 0?null:c;var p=void 0;if(Je!==null){var v=Je.memoizedState;if(p=v.destroy,c!==null&&Oc(c,v.deps)){f.memoizedState=Ks(s,a,p,c);return}}Ve.flags|=r,f.memoizedState=Ks(1|s,a,p,c)}function pg(r,s){return $a(8390656,8,r,s)}function Uc(r,s){return Ha(2048,8,r,s)}function mg(r,s){return Ha(4,2,r,s)}function gg(r,s){return Ha(4,4,r,s)}function yg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function vg(r,s,a){return a=a!=null?a.concat([r]):null,Ha(4,4,yg.bind(null,s,r),a)}function Bc(){}function _g(r,s){var a=Ut();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Oc(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function wg(r,s){var a=Ut();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Oc(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function Sg(r,s,a){return(Lr&21)===0?(r.baseState&&(r.baseState=!1,Tt=!0),r.memoizedState=a):(Xt(a,s)||(a=Xp(),Ve.lanes|=a,Fr|=a,r.baseState=!0),s)}function sC(r,s){var a=Te;Te=a!==0&&4>a?a:4,r(!0);var c=Mc.transition;Mc.transition={};try{r(!1),s()}finally{Te=a,Mc.transition=c}}function Eg(){return Ut().memoizedState}function oC(r,s,a){var c=or(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},xg(r))Cg(s,a);else if(a=eg(r,s,a,c),a!==null){var f=_t();nn(a,r,c,f),Tg(a,s,c)}}function aC(r,s,a){var c=or(r),f={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(xg(r))Cg(s,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var v=s.lastRenderedState,S=p(v,a);if(f.hasEagerState=!0,f.eagerState=S,Xt(S,v)){var x=s.interleaved;x===null?(f.next=f,Pc(s)):(f.next=x.next,x.next=f),s.interleaved=f;return}}catch{}finally{}a=eg(r,s,f,c),a!==null&&(f=_t(),nn(a,r,c,f),Tg(a,s,c))}}function xg(r){var s=r.alternate;return r===Ve||s!==null&&s===Ve}function Cg(r,s){Ws=Wa=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Tg(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Wu(r,a)}}var Ka={readContext:Vt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},lC={readContext:Vt,useCallback:function(r,s){return pn().memoizedState=[r,s===void 0?null:s],r},useContext:Vt,useEffect:pg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,$a(4194308,4,yg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return $a(4194308,4,r,s)},useInsertionEffect:function(r,s){return $a(4,2,r,s)},useMemo:function(r,s){var a=pn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=pn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=oC.bind(null,Ve,r),[c.memoizedState,r]},useRef:function(r){var s=pn();return r={current:r},s.memoizedState=r},useState:hg,useDebugValue:Bc,useDeferredValue:function(r){return pn().memoizedState=r},useTransition:function(){var r=hg(!1),s=r[0];return r=sC.bind(null,r[1]),pn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=Ve,f=pn();if(Oe){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),rt===null)throw Error(n(349));(Lr&30)!==0||ag(c,s,a)}f.memoizedState=a;var p={value:a,getSnapshot:s};return f.queue=p,pg(ug.bind(null,c,p,r),[r]),c.flags|=2048,Ks(9,lg.bind(null,c,p,a,s),void 0,null),a},useId:function(){var r=pn(),s=rt.identifierPrefix;if(Oe){var a=Tn,c=Cn;a=(c&~(1<<32-Qt(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=$s++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=iC++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},uC={readContext:Vt,useCallback:_g,useContext:Vt,useEffect:Uc,useImperativeHandle:vg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:wg,useReducer:jc,useRef:fg,useState:function(){return jc(Hs)},useDebugValue:Bc,useDeferredValue:function(r){var s=Ut();return Sg(s,Je.memoizedState,r)},useTransition:function(){var r=jc(Hs)[0],s=Ut().memoizedState;return[r,s]},useMutableSource:sg,useSyncExternalStore:og,useId:Eg,unstable_isNewReconciler:!1},cC={readContext:Vt,useCallback:_g,useContext:Vt,useEffect:Uc,useImperativeHandle:vg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:wg,useReducer:Vc,useRef:fg,useState:function(){return Vc(Hs)},useDebugValue:Bc,useDeferredValue:function(r){var s=Ut();return Je===null?s.memoizedState=r:Sg(s,Je.memoizedState,r)},useTransition:function(){var r=Vc(Hs)[0],s=Ut().memoizedState;return[r,s]},useMutableSource:sg,useSyncExternalStore:og,useId:Eg,unstable_isNewReconciler:!1};function Zt(r,s){if(r&&r.defaultProps){s=K({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function zc(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:K({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ga={isMounted:function(r){return(r=r._reactInternals)?Nr(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=_t(),f=or(r),p=kn(c,f);p.payload=s,a!=null&&(p.callback=a),s=nr(r,p,f),s!==null&&(nn(s,r,f,c),Va(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=_t(),f=or(r),p=kn(c,f);p.tag=1,p.payload=s,a!=null&&(p.callback=a),s=nr(r,p,f),s!==null&&(nn(s,r,f,c),Va(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=_t(),c=or(r),f=kn(a,c);f.tag=2,s!=null&&(f.callback=s),s=nr(r,f,c),s!==null&&(nn(s,r,c,a),Va(s,r,c))}};function Ig(r,s,a,c,f,p,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,v):s.prototype&&s.prototype.isPureReactComponent?!As(a,c)||!As(f,p):!0}function kg(r,s,a){var c=!1,f=Zn,p=s.contextType;return typeof p=="object"&&p!==null?p=Vt(p):(f=Ct(s)?br:ft.current,c=s.contextTypes,p=(c=c!=null)?xi(r,f):Zn),s=new s(a,p),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ga,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=p),s}function Pg(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Ga.enqueueReplaceState(s,s.state,null)}function Wc(r,s,a,c){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Nc(r);var p=s.contextType;typeof p=="object"&&p!==null?f.context=Vt(p):(p=Ct(s)?br:ft.current,f.context=xi(r,p)),f.state=r.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(zc(r,s,p,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Ga.enqueueReplaceState(f,f.state,null),Ua(r,a,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function bi(r,s){try{var a="",c=s;do a+=ve(c),c=c.return;while(c);var f=a}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:s,stack:f,digest:null}}function $c(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Hc(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var dC=typeof WeakMap=="function"?WeakMap:Map;function Ng(r,s,a){a=kn(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){el||(el=!0,od=c),Hc(r,s)},a}function Rg(r,s,a){a=kn(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;a.payload=function(){return c(f)},a.callback=function(){Hc(r,s)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(a.callback=function(){Hc(r,s),typeof c!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function bg(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new dC;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(a)||(f.add(a),r=TC.bind(null,r,s,a),s.then(r,r))}function Ag(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Dg(r,s,a,c,f){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=kn(-1,1),s.tag=2,nr(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var hC=O.ReactCurrentOwner,Tt=!1;function vt(r,s,a,c){s.child=r===null?Zm(s,null,a,c):ki(s,r.child,a,c)}function Mg(r,s,a,c,f){a=a.render;var p=s.ref;return Ni(s,f),c=Lc(r,s,a,c,p,f),a=Fc(),r!==null&&!Tt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Pn(r,s,f)):(Oe&&a&&_c(s),s.flags|=1,vt(r,s,c,f),s.child)}function Og(r,s,a,c,f){if(r===null){var p=a.type;return typeof p=="function"&&!fd(p)&&p.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=p,Lg(r,s,p,c,f)):(r=ol(a.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,(r.lanes&f)===0){var v=p.memoizedProps;if(a=a.compare,a=a!==null?a:As,a(v,c)&&r.ref===s.ref)return Pn(r,s,f)}return s.flags|=1,r=lr(p,c),r.ref=s.ref,r.return=s,s.child=r}function Lg(r,s,a,c,f){if(r!==null){var p=r.memoizedProps;if(As(p,c)&&r.ref===s.ref)if(Tt=!1,s.pendingProps=c=p,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Tt=!0);else return s.lanes=r.lanes,Pn(r,s,f)}return Kc(r,s,a,c,f)}function Fg(r,s,a){var c=s.pendingProps,f=c.children,p=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Di,Lt),Lt|=a;else{if((a&1073741824)===0)return r=p!==null?p.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ne(Di,Lt),Lt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:a,Ne(Di,Lt),Lt|=c}else p!==null?(c=p.baseLanes|a,s.memoizedState=null):c=a,Ne(Di,Lt),Lt|=c;return vt(r,s,f,a),s.child}function jg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Kc(r,s,a,c,f){var p=Ct(a)?br:ft.current;return p=xi(s,p),Ni(s,f),a=Lc(r,s,a,c,p,f),c=Fc(),r!==null&&!Tt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Pn(r,s,f)):(Oe&&c&&_c(s),s.flags|=1,vt(r,s,a,f),s.child)}function Vg(r,s,a,c,f){if(Ct(a)){var p=!0;ba(s)}else p=!1;if(Ni(s,f),s.stateNode===null)Ya(r,s),kg(s,a,c),Wc(s,a,c,f),c=!0;else if(r===null){var v=s.stateNode,S=s.memoizedProps;v.props=S;var x=v.context,b=a.contextType;typeof b=="object"&&b!==null?b=Vt(b):(b=Ct(a)?br:ft.current,b=xi(s,b));var j=a.getDerivedStateFromProps,U=typeof j=="function"||typeof v.getSnapshotBeforeUpdate=="function";U||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==c||x!==b)&&Pg(s,v,c,b),tr=!1;var M=s.memoizedState;v.state=M,Ua(s,c,v,f),x=s.memoizedState,S!==c||M!==x||xt.current||tr?(typeof j=="function"&&(zc(s,a,j,c),x=s.memoizedState),(S=tr||Ig(s,a,S,c,M,x,b))?(U||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=x),v.props=c,v.state=x,v.context=b,c=S):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,tg(r,s),S=s.memoizedProps,b=s.type===s.elementType?S:Zt(s.type,S),v.props=b,U=s.pendingProps,M=v.context,x=a.contextType,typeof x=="object"&&x!==null?x=Vt(x):(x=Ct(a)?br:ft.current,x=xi(s,x));var G=a.getDerivedStateFromProps;(j=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==U||M!==x)&&Pg(s,v,c,x),tr=!1,M=s.memoizedState,v.state=M,Ua(s,c,v,f);var Q=s.memoizedState;S!==U||M!==Q||xt.current||tr?(typeof G=="function"&&(zc(s,a,G,c),Q=s.memoizedState),(b=tr||Ig(s,a,b,c,M,Q,x)||!1)?(j||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,Q,x),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,Q,x)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&M===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&M===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),v.props=c,v.state=Q,v.context=x,c=b):(typeof v.componentDidUpdate!="function"||S===r.memoizedProps&&M===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===r.memoizedProps&&M===r.memoizedState||(s.flags|=1024),c=!1)}return Gc(r,s,a,c,p,f)}function Gc(r,s,a,c,f,p){jg(r,s);var v=(s.flags&128)!==0;if(!c&&!v)return f&&$m(s,a,!1),Pn(r,s,p);c=s.stateNode,hC.current=s;var S=v&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&v?(s.child=ki(s,r.child,null,p),s.child=ki(s,null,S,p)):vt(r,s,S,p),s.memoizedState=c.state,f&&$m(s,a,!0),s.child}function Ug(r){var s=r.stateNode;s.pendingContext?zm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&zm(r,s.context,!1),Rc(r,s.containerInfo)}function Bg(r,s,a,c,f){return Ii(),xc(f),s.flags|=256,vt(r,s,a,c),s.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Yc(r){return{baseLanes:r,cachePool:null,transitions:null}}function zg(r,s,a){var c=s.pendingProps,f=je.current,p=!1,v=(s.flags&128)!==0,S;if((S=v)||(S=r!==null&&r.memoizedState===null?!1:(f&2)!==0),S?(p=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ne(je,f&1),r===null)return Ec(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(v=c.children,r=c.fallback,p?(c=s.mode,p=s.child,v={mode:"hidden",children:v},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=al(v,c,0,null),r=Br(r,c,a,null),p.return=s,r.return=s,p.sibling=r,s.child=p,s.child.memoizedState=Yc(a),s.memoizedState=qc,r):Qc(s,v));if(f=r.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return fC(r,s,v,c,S,f,a);if(p){p=c.fallback,v=s.mode,f=r.child,S=f.sibling;var x={mode:"hidden",children:c.children};return(v&1)===0&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=x,s.deletions=null):(c=lr(f,x),c.subtreeFlags=f.subtreeFlags&14680064),S!==null?p=lr(S,p):(p=Br(p,v,a,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,v=r.child.memoizedState,v=v===null?Yc(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=r.childLanes&~a,s.memoizedState=qc,c}return p=r.child,r=p.sibling,c=lr(p,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function Qc(r,s){return s=al({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function qa(r,s,a,c){return c!==null&&xc(c),ki(s,r.child,null,a),r=Qc(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function fC(r,s,a,c,f,p,v){if(a)return s.flags&256?(s.flags&=-257,c=$c(Error(n(422))),qa(r,s,v,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(p=c.fallback,f=s.mode,c=al({mode:"visible",children:c.children},f,0,null),p=Br(p,f,v,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,(s.mode&1)!==0&&ki(s,r.child,null,v),s.child.memoizedState=Yc(v),s.memoizedState=qc,p);if((s.mode&1)===0)return qa(r,s,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var S=c.dgst;return c=S,p=Error(n(419)),c=$c(p,c,void 0),qa(r,s,v,c)}if(S=(v&r.childLanes)!==0,Tt||S){if(c=rt,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|v))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,In(r,f),nn(c,r,f,-1))}return hd(),c=$c(Error(n(421))),qa(r,s,v,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=IC.bind(null,r),f._reactRetry=s,null):(r=p.treeContext,Ot=Xn(f.nextSibling),Mt=s,Oe=!0,Jt=null,r!==null&&(Ft[jt++]=Cn,Ft[jt++]=Tn,Ft[jt++]=Ar,Cn=r.id,Tn=r.overflow,Ar=s),s=Qc(s,c.children),s.flags|=4096,s)}function Wg(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),kc(r.return,s,a)}function Xc(r,s,a,c,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=a,p.tailMode=f)}function $g(r,s,a){var c=s.pendingProps,f=c.revealOrder,p=c.tail;if(vt(r,s,c.children,a),c=je.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Wg(r,a,s);else if(r.tag===19)Wg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(Ne(je,c),(s.mode&1)===0)s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Ba(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),Xc(s,!1,f,a,p);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Ba(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}Xc(s,!0,a,null,p);break;case"together":Xc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ya(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Pn(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Fr|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=lr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=lr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function pC(r,s,a){switch(s.tag){case 3:Ug(s),Ii();break;case 5:ig(s);break;case 1:Ct(s.type)&&ba(s);break;case 4:Rc(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;Ne(Fa,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Ne(je,je.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?zg(r,s,a):(Ne(je,je.current&1),r=Pn(r,s,a),r!==null?r.sibling:null);Ne(je,je.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return $g(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ne(je,je.current),c)break;return null;case 22:case 23:return s.lanes=0,Fg(r,s,a)}return Pn(r,s,a)}var Hg,Jc,Kg,Gg;Hg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Jc=function(){},Kg=function(r,s,a,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,Or(fn.current);var p=null;switch(a){case"input":f=ku(r,f),c=ku(r,c),p=[];break;case"select":f=K({},f,{value:void 0}),c=K({},c,{value:void 0}),p=[];break;case"textarea":f=Ru(r,f),c=Ru(r,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Pa)}Au(a,c);var v;a=null;for(b in f)if(!c.hasOwnProperty(b)&&f.hasOwnProperty(b)&&f[b]!=null)if(b==="style"){var S=f[b];for(v in S)S.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(o.hasOwnProperty(b)?p||(p=[]):(p=p||[]).push(b,null));for(b in c){var x=c[b];if(S=f?.[b],c.hasOwnProperty(b)&&x!==S&&(x!=null||S!=null))if(b==="style")if(S){for(v in S)!S.hasOwnProperty(v)||x&&x.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in x)x.hasOwnProperty(v)&&S[v]!==x[v]&&(a||(a={}),a[v]=x[v])}else a||(p||(p=[]),p.push(b,a)),a=x;else b==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,S=S?S.__html:void 0,x!=null&&S!==x&&(p=p||[]).push(b,x)):b==="children"?typeof x!="string"&&typeof x!="number"||(p=p||[]).push(b,""+x):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(o.hasOwnProperty(b)?(x!=null&&b==="onScroll"&&Ae("scroll",r),p||S===x||(p=[])):(p=p||[]).push(b,x))}a&&(p=p||[]).push("style",a);var b=p;(s.updateQueue=b)&&(s.flags|=4)}},Gg=function(r,s,a,c){a!==c&&(s.flags|=4)};function Gs(r,s){if(!Oe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function mt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function mC(r,s,a){var c=s.pendingProps;switch(wc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return Ct(s.type)&&Ra(),mt(s),null;case 3:return c=s.stateNode,Ri(),De(xt),De(ft),Dc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Oa(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jt!==null&&(ud(Jt),Jt=null))),Jc(r,s),mt(s),null;case 5:bc(s);var f=Or(zs.current);if(a=s.type,r!==null&&s.stateNode!=null)Kg(r,s,a,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return mt(s),null}if(r=Or(fn.current),Oa(s)){c=s.stateNode,a=s.type;var p=s.memoizedProps;switch(c[hn]=s,c[Fs]=p,r=(s.mode&1)!==0,a){case"dialog":Ae("cancel",c),Ae("close",c);break;case"iframe":case"object":case"embed":Ae("load",c);break;case"video":case"audio":for(f=0;f<Ms.length;f++)Ae(Ms[f],c);break;case"source":Ae("error",c);break;case"img":case"image":case"link":Ae("error",c),Ae("load",c);break;case"details":Ae("toggle",c);break;case"input":kp(c,p),Ae("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ae("invalid",c);break;case"textarea":Rp(c,p),Ae("invalid",c)}Au(a,p),f=null;for(var v in p)if(p.hasOwnProperty(v)){var S=p[v];v==="children"?typeof S=="string"?c.textContent!==S&&(p.suppressHydrationWarning!==!0&&ka(c.textContent,S,r),f=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&ka(c.textContent,S,r),f=["children",""+S]):o.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&Ae("scroll",c)}switch(a){case"input":ia(c),Np(c,p,!0);break;case"textarea":ia(c),Ap(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Pa)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Dp(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=v.createElement(a,{is:c.is}):(r=v.createElement(a),a==="select"&&(v=r,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):r=v.createElementNS(r,a),r[hn]=s,r[Fs]=c,Hg(r,s,!1,!1),s.stateNode=r;e:{switch(v=Du(a,c),a){case"dialog":Ae("cancel",r),Ae("close",r),f=c;break;case"iframe":case"object":case"embed":Ae("load",r),f=c;break;case"video":case"audio":for(f=0;f<Ms.length;f++)Ae(Ms[f],r);f=c;break;case"source":Ae("error",r),f=c;break;case"img":case"image":case"link":Ae("error",r),Ae("load",r),f=c;break;case"details":Ae("toggle",r),f=c;break;case"input":kp(r,c),f=ku(r,c),Ae("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=K({},c,{value:void 0}),Ae("invalid",r);break;case"textarea":Rp(r,c),f=Ru(r,c),Ae("invalid",r);break;default:f=c}Au(a,f),S=f;for(p in S)if(S.hasOwnProperty(p)){var x=S[p];p==="style"?Lp(r,x):p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Mp(r,x)):p==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&ms(r,x):typeof x=="number"&&ms(r,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?x!=null&&p==="onScroll"&&Ae("scroll",r):x!=null&&R(r,p,x,v))}switch(a){case"input":ia(r),Np(r,c,!1);break;case"textarea":ia(r),Ap(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Ce(c.value));break;case"select":r.multiple=!!c.multiple,p=c.value,p!=null?di(r,!!c.multiple,p,!1):c.defaultValue!=null&&di(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Pa)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return mt(s),null;case 6:if(r&&s.stateNode!=null)Gg(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(a=Or(zs.current),Or(fn.current),Oa(s)){if(c=s.stateNode,a=s.memoizedProps,c[hn]=s,(p=c.nodeValue!==a)&&(r=Mt,r!==null))switch(r.tag){case 3:ka(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ka(c.nodeValue,a,(r.mode&1)!==0)}p&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[hn]=s,s.stateNode=c}return mt(s),null;case 13:if(De(je),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Oe&&Ot!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Qm(),Ii(),s.flags|=98560,p=!1;else if(p=Oa(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[hn]=s}else Ii(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),p=!1}else Jt!==null&&(ud(Jt),Jt=null),p=!0;if(!p)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(je.current&1)!==0?Ze===0&&(Ze=3):hd())),s.updateQueue!==null&&(s.flags|=4),mt(s),null);case 4:return Ri(),Jc(r,s),r===null&&Os(s.stateNode.containerInfo),mt(s),null;case 10:return Ic(s.type._context),mt(s),null;case 17:return Ct(s.type)&&Ra(),mt(s),null;case 19:if(De(je),p=s.memoizedState,p===null)return mt(s),null;if(c=(s.flags&128)!==0,v=p.rendering,v===null)if(c)Gs(p,!1);else{if(Ze!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(v=Ba(r),v!==null){for(s.flags|=128,Gs(p,!1),c=v.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)p=a,r=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,r=v.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ne(je,je.current&1|2),s.child}r=r.sibling}p.tail!==null&&He()>Mi&&(s.flags|=128,c=!0,Gs(p,!1),s.lanes=4194304)}else{if(!c)if(r=Ba(v),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Gs(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Oe)return mt(s),null}else 2*He()-p.renderingStartTime>Mi&&a!==1073741824&&(s.flags|=128,c=!0,Gs(p,!1),s.lanes=4194304);p.isBackwards?(v.sibling=s.child,s.child=v):(a=p.last,a!==null?a.sibling=v:s.child=v,p.last=v)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=He(),s.sibling=null,a=je.current,Ne(je,c?a&1|2:a&1),s):(mt(s),null);case 22:case 23:return dd(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(Lt&1073741824)!==0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function gC(r,s){switch(wc(s),s.tag){case 1:return Ct(s.type)&&Ra(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ri(),De(xt),De(ft),Dc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return bc(s),null;case 13:if(De(je),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ii()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return De(je),null;case 4:return Ri(),null;case 10:return Ic(s.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Qa=!1,gt=!1,yC=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ai(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Be(r,s,c)}else a.current=null}function Zc(r,s,a){try{a()}catch(c){Be(r,s,c)}}var qg=!1;function vC(r,s){if(dc=ga,r=Im(),rc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break e}var v=0,S=-1,x=-1,b=0,j=0,U=r,M=null;t:for(;;){for(var G;U!==a||f!==0&&U.nodeType!==3||(S=v+f),U!==p||c!==0&&U.nodeType!==3||(x=v+c),U.nodeType===3&&(v+=U.nodeValue.length),(G=U.firstChild)!==null;)M=U,U=G;for(;;){if(U===r)break t;if(M===a&&++b===f&&(S=v),M===p&&++j===c&&(x=v),(G=U.nextSibling)!==null)break;U=M,M=U.parentNode}U=G}a=S===-1||x===-1?null:{start:S,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(hc={focusedElem:r,selectionRange:a},ga=!1,Y=s;Y!==null;)if(s=Y,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Y=r;else for(;Y!==null;){s=Y;try{var Q=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var J=Q.memoizedProps,Ke=Q.memoizedState,P=s.stateNode,T=P.getSnapshotBeforeUpdate(s.elementType===s.type?J:Zt(s.type,J),Ke);P.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var N=s.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(z){Be(s,s.return,z)}if(r=s.sibling,r!==null){r.return=s.return,Y=r;break}Y=s.return}return Q=qg,qg=!1,Q}function qs(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var p=f.destroy;f.destroy=void 0,p!==void 0&&Zc(s,a,p)}f=f.next}while(f!==c)}}function Xa(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function ed(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Yg(r){var s=r.alternate;s!==null&&(r.alternate=null,Yg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[hn],delete s[Fs],delete s[gc],delete s[eC],delete s[tC])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Qg(r){return r.tag===5||r.tag===3||r.tag===4}function Xg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Qg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function td(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Pa));else if(c!==4&&(r=r.child,r!==null))for(td(r,s,a),r=r.sibling;r!==null;)td(r,s,a),r=r.sibling}function nd(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(nd(r,s,a),r=r.sibling;r!==null;)nd(r,s,a),r=r.sibling}var lt=null,en=!1;function rr(r,s,a){for(a=a.child;a!==null;)Jg(r,s,a),a=a.sibling}function Jg(r,s,a){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(ca,a)}catch{}switch(a.tag){case 5:gt||Ai(a,s);case 6:var c=lt,f=en;lt=null,rr(r,s,a),lt=c,en=f,lt!==null&&(en?(r=lt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):lt.removeChild(a.stateNode));break;case 18:lt!==null&&(en?(r=lt,a=a.stateNode,r.nodeType===8?mc(r.parentNode,a):r.nodeType===1&&mc(r,a),Is(r)):mc(lt,a.stateNode));break;case 4:c=lt,f=en,lt=a.stateNode.containerInfo,en=!0,rr(r,s,a),lt=c,en=f;break;case 0:case 11:case 14:case 15:if(!gt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&Zc(a,s,v),f=f.next}while(f!==c)}rr(r,s,a);break;case 1:if(!gt&&(Ai(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(S){Be(a,s,S)}rr(r,s,a);break;case 21:rr(r,s,a);break;case 22:a.mode&1?(gt=(c=gt)||a.memoizedState!==null,rr(r,s,a),gt=c):rr(r,s,a);break;default:rr(r,s,a)}}function Zg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new yC),s.forEach(function(c){var f=kC.bind(null,r,c);a.has(c)||(a.add(c),c.then(f,f))})}}function tn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c];try{var p=r,v=s,S=v;e:for(;S!==null;){switch(S.tag){case 5:lt=S.stateNode,en=!1;break e;case 3:lt=S.stateNode.containerInfo,en=!0;break e;case 4:lt=S.stateNode.containerInfo,en=!0;break e}S=S.return}if(lt===null)throw Error(n(160));Jg(p,v,f),lt=null,en=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch(b){Be(f,s,b)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ey(s,r),s=s.sibling}function ey(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(tn(s,r),mn(r),c&4){try{qs(3,r,r.return),Xa(3,r)}catch(J){Be(r,r.return,J)}try{qs(5,r,r.return)}catch(J){Be(r,r.return,J)}}break;case 1:tn(s,r),mn(r),c&512&&a!==null&&Ai(a,a.return);break;case 5:if(tn(s,r),mn(r),c&512&&a!==null&&Ai(a,a.return),r.flags&32){var f=r.stateNode;try{ms(f,"")}catch(J){Be(r,r.return,J)}}if(c&4&&(f=r.stateNode,f!=null)){var p=r.memoizedProps,v=a!==null?a.memoizedProps:p,S=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Pp(f,p),Du(S,v);var b=Du(S,p);for(v=0;v<x.length;v+=2){var j=x[v],U=x[v+1];j==="style"?Lp(f,U):j==="dangerouslySetInnerHTML"?Mp(f,U):j==="children"?ms(f,U):R(f,j,U,b)}switch(S){case"input":Pu(f,p);break;case"textarea":bp(f,p);break;case"select":var M=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var G=p.value;G!=null?di(f,!!p.multiple,G,!1):M!==!!p.multiple&&(p.defaultValue!=null?di(f,!!p.multiple,p.defaultValue,!0):di(f,!!p.multiple,p.multiple?[]:"",!1))}f[Fs]=p}catch(J){Be(r,r.return,J)}}break;case 6:if(tn(s,r),mn(r),c&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,p=r.memoizedProps;try{f.nodeValue=p}catch(J){Be(r,r.return,J)}}break;case 3:if(tn(s,r),mn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Is(s.containerInfo)}catch(J){Be(r,r.return,J)}break;case 4:tn(s,r),mn(r);break;case 13:tn(s,r),mn(r),f=r.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(sd=He())),c&4&&Zg(r);break;case 22:if(j=a!==null&&a.memoizedState!==null,r.mode&1?(gt=(b=gt)||j,tn(s,r),gt=b):tn(s,r),mn(r),c&8192){if(b=r.memoizedState!==null,(r.stateNode.isHidden=b)&&!j&&(r.mode&1)!==0)for(Y=r,j=r.child;j!==null;){for(U=Y=j;Y!==null;){switch(M=Y,G=M.child,M.tag){case 0:case 11:case 14:case 15:qs(4,M,M.return);break;case 1:Ai(M,M.return);var Q=M.stateNode;if(typeof Q.componentWillUnmount=="function"){c=M,a=M.return;try{s=c,Q.props=s.memoizedProps,Q.state=s.memoizedState,Q.componentWillUnmount()}catch(J){Be(c,a,J)}}break;case 5:Ai(M,M.return);break;case 22:if(M.memoizedState!==null){ry(U);continue}}G!==null?(G.return=M,Y=G):ry(U)}j=j.sibling}e:for(j=null,U=r;;){if(U.tag===5){if(j===null){j=U;try{f=U.stateNode,b?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=U.stateNode,x=U.memoizedProps.style,v=x!=null&&x.hasOwnProperty("display")?x.display:null,S.style.display=Op("display",v))}catch(J){Be(r,r.return,J)}}}else if(U.tag===6){if(j===null)try{U.stateNode.nodeValue=b?"":U.memoizedProps}catch(J){Be(r,r.return,J)}}else if((U.tag!==22&&U.tag!==23||U.memoizedState===null||U===r)&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===r)break e;for(;U.sibling===null;){if(U.return===null||U.return===r)break e;j===U&&(j=null),U=U.return}j===U&&(j=null),U.sibling.return=U.return,U=U.sibling}}break;case 19:tn(s,r),mn(r),c&4&&Zg(r);break;case 21:break;default:tn(s,r),mn(r)}}function mn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Qg(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(ms(f,""),c.flags&=-33);var p=Xg(r);nd(r,p,f);break;case 3:case 4:var v=c.stateNode.containerInfo,S=Xg(r);td(r,S,v);break;default:throw Error(n(161))}}catch(x){Be(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function _C(r,s,a){Y=r,ty(r)}function ty(r,s,a){for(var c=(r.mode&1)!==0;Y!==null;){var f=Y,p=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||Qa;if(!v){var S=f.alternate,x=S!==null&&S.memoizedState!==null||gt;S=Qa;var b=gt;if(Qa=v,(gt=x)&&!b)for(Y=f;Y!==null;)v=Y,x=v.child,v.tag===22&&v.memoizedState!==null?iy(f):x!==null?(x.return=v,Y=x):iy(f);for(;p!==null;)Y=p,ty(p),p=p.sibling;Y=f,Qa=S,gt=b}ny(r)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,Y=p):ny(r)}}function ny(r){for(;Y!==null;){var s=Y;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:gt||Xa(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!gt)if(a===null)c.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Zt(s.type,a.memoizedProps);c.componentDidUpdate(f,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&rg(s,p,c);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}rg(s,v,a)}break;case 5:var S=s.stateNode;if(a===null&&s.flags&4){a=S;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var b=s.alternate;if(b!==null){var j=b.memoizedState;if(j!==null){var U=j.dehydrated;U!==null&&Is(U)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}gt||s.flags&512&&ed(s)}catch(M){Be(s,s.return,M)}}if(s===r){Y=null;break}if(a=s.sibling,a!==null){a.return=s.return,Y=a;break}Y=s.return}}function ry(r){for(;Y!==null;){var s=Y;if(s===r){Y=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Y=a;break}Y=s.return}}function iy(r){for(;Y!==null;){var s=Y;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Xa(4,s)}catch(x){Be(s,a,x)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(x){Be(s,f,x)}}var p=s.return;try{ed(s)}catch(x){Be(s,p,x)}break;case 5:var v=s.return;try{ed(s)}catch(x){Be(s,v,x)}}}catch(x){Be(s,s.return,x)}if(s===r){Y=null;break}var S=s.sibling;if(S!==null){S.return=s.return,Y=S;break}Y=s.return}}var wC=Math.ceil,Ja=O.ReactCurrentDispatcher,rd=O.ReactCurrentOwner,Bt=O.ReactCurrentBatchConfig,ge=0,rt=null,Ye=null,ut=0,Lt=0,Di=Jn(0),Ze=0,Ys=null,Fr=0,Za=0,id=0,Qs=null,It=null,sd=0,Mi=1/0,Nn=null,el=!1,od=null,ir=null,tl=!1,sr=null,nl=0,Xs=0,ad=null,rl=-1,il=0;function _t(){return(ge&6)!==0?He():rl!==-1?rl:rl=He()}function or(r){return(r.mode&1)===0?1:(ge&2)!==0&&ut!==0?ut&-ut:rC.transition!==null?(il===0&&(il=Xp()),il):(r=Te,r!==0||(r=window.event,r=r===void 0?16:om(r.type)),r)}function nn(r,s,a,c){if(50<Xs)throw Xs=0,ad=null,Error(n(185));Ss(r,a,c),((ge&2)===0||r!==rt)&&(r===rt&&((ge&2)===0&&(Za|=a),Ze===4&&ar(r,ut)),kt(r,c),a===1&&ge===0&&(s.mode&1)===0&&(Mi=He()+500,Aa&&er()))}function kt(r,s){var a=r.callbackNode;rx(r,s);var c=fa(r,r===rt?ut:0);if(c===0)a!==null&&qp(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&qp(a),s===1)r.tag===0?nC(oy.bind(null,r)):Hm(oy.bind(null,r)),Jx(function(){(ge&6)===0&&er()}),a=null;else{switch(Jp(c)){case 1:a=Uu;break;case 4:a=Yp;break;case 16:a=ua;break;case 536870912:a=Qp;break;default:a=ua}a=py(a,sy.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function sy(r,s){if(rl=-1,il=0,(ge&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Oi()&&r.callbackNode!==a)return null;var c=fa(r,r===rt?ut:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=sl(r,c);else{s=c;var f=ge;ge|=2;var p=ly();(rt!==r||ut!==s)&&(Nn=null,Mi=He()+500,Vr(r,s));do try{xC();break}catch(S){ay(r,S)}while(!0);Tc(),Ja.current=p,ge=f,Ye!==null?s=0:(rt=null,ut=0,s=Ze)}if(s!==0){if(s===2&&(f=Bu(r),f!==0&&(c=f,s=ld(r,f))),s===1)throw a=Ys,Vr(r,0),ar(r,c),kt(r,He()),a;if(s===6)ar(r,c);else{if(f=r.current.alternate,(c&30)===0&&!SC(f)&&(s=sl(r,c),s===2&&(p=Bu(r),p!==0&&(c=p,s=ld(r,p))),s===1))throw a=Ys,Vr(r,0),ar(r,c),kt(r,He()),a;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Ur(r,It,Nn);break;case 3:if(ar(r,c),(c&130023424)===c&&(s=sd+500-He(),10<s)){if(fa(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){_t(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=pc(Ur.bind(null,r,It,Nn),s);break}Ur(r,It,Nn);break;case 4:if(ar(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var v=31-Qt(c);p=1<<v,v=s[v],v>f&&(f=v),c&=~p}if(c=f,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*wC(c/1960))-c,10<c){r.timeoutHandle=pc(Ur.bind(null,r,It,Nn),c);break}Ur(r,It,Nn);break;case 5:Ur(r,It,Nn);break;default:throw Error(n(329))}}}return kt(r,He()),r.callbackNode===a?sy.bind(null,r):null}function ld(r,s){var a=Qs;return r.current.memoizedState.isDehydrated&&(Vr(r,s).flags|=256),r=sl(r,s),r!==2&&(s=It,It=a,s!==null&&ud(s)),r}function ud(r){It===null?It=r:It.push.apply(It,r)}function SC(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var f=a[c],p=f.getSnapshot;f=f.value;try{if(!Xt(p(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ar(r,s){for(s&=~id,s&=~Za,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Qt(s),c=1<<a;r[a]=-1,s&=~c}}function oy(r){if((ge&6)!==0)throw Error(n(327));Oi();var s=fa(r,0);if((s&1)===0)return kt(r,He()),null;var a=sl(r,s);if(r.tag!==0&&a===2){var c=Bu(r);c!==0&&(s=c,a=ld(r,c))}if(a===1)throw a=Ys,Vr(r,0),ar(r,s),kt(r,He()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ur(r,It,Nn),kt(r,He()),null}function cd(r,s){var a=ge;ge|=1;try{return r(s)}finally{ge=a,ge===0&&(Mi=He()+500,Aa&&er())}}function jr(r){sr!==null&&sr.tag===0&&(ge&6)===0&&Oi();var s=ge;ge|=1;var a=Bt.transition,c=Te;try{if(Bt.transition=null,Te=1,r)return r()}finally{Te=c,Bt.transition=a,ge=s,(ge&6)===0&&er()}}function dd(){Lt=Di.current,De(Di)}function Vr(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Xx(a)),Ye!==null)for(a=Ye.return;a!==null;){var c=a;switch(wc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ra();break;case 3:Ri(),De(xt),De(ft),Dc();break;case 5:bc(c);break;case 4:Ri();break;case 13:De(je);break;case 19:De(je);break;case 10:Ic(c.type._context);break;case 22:case 23:dd()}a=a.return}if(rt=r,Ye=r=lr(r.current,null),ut=Lt=s,Ze=0,Ys=null,id=Za=Fr=0,It=Qs=null,Mr!==null){for(s=0;s<Mr.length;s++)if(a=Mr[s],c=a.interleaved,c!==null){a.interleaved=null;var f=c.next,p=a.pending;if(p!==null){var v=p.next;p.next=f,c.next=v}a.pending=c}Mr=null}return r}function ay(r,s){do{var a=Ye;try{if(Tc(),za.current=Ka,Wa){for(var c=Ve.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Wa=!1}if(Lr=0,nt=Je=Ve=null,Ws=!1,$s=0,rd.current=null,a===null||a.return===null){Ze=1,Ys=s,Ye=null;break}e:{var p=r,v=a.return,S=a,x=s;if(s=ut,S.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var b=x,j=S,U=j.tag;if((j.mode&1)===0&&(U===0||U===11||U===15)){var M=j.alternate;M?(j.updateQueue=M.updateQueue,j.memoizedState=M.memoizedState,j.lanes=M.lanes):(j.updateQueue=null,j.memoizedState=null)}var G=Ag(v);if(G!==null){G.flags&=-257,Dg(G,v,S,p,s),G.mode&1&&bg(p,b,s),s=G,x=b;var Q=s.updateQueue;if(Q===null){var J=new Set;J.add(x),s.updateQueue=J}else Q.add(x);break e}else{if((s&1)===0){bg(p,b,s),hd();break e}x=Error(n(426))}}else if(Oe&&S.mode&1){var Ke=Ag(v);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),Dg(Ke,v,S,p,s),xc(bi(x,S));break e}}p=x=bi(x,S),Ze!==4&&(Ze=2),Qs===null?Qs=[p]:Qs.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var P=Ng(p,x,s);ng(p,P);break e;case 1:S=x;var T=p.type,N=p.stateNode;if((p.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ir===null||!ir.has(N)))){p.flags|=65536,s&=-s,p.lanes|=s;var z=Rg(p,S,s);ng(p,z);break e}}p=p.return}while(p!==null)}cy(a)}catch(ee){s=ee,Ye===a&&a!==null&&(Ye=a=a.return);continue}break}while(!0)}function ly(){var r=Ja.current;return Ja.current=Ka,r===null?Ka:r}function hd(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),rt===null||(Fr&268435455)===0&&(Za&268435455)===0||ar(rt,ut)}function sl(r,s){var a=ge;ge|=2;var c=ly();(rt!==r||ut!==s)&&(Nn=null,Vr(r,s));do try{EC();break}catch(f){ay(r,f)}while(!0);if(Tc(),ge=a,Ja.current=c,Ye!==null)throw Error(n(261));return rt=null,ut=0,Ze}function EC(){for(;Ye!==null;)uy(Ye)}function xC(){for(;Ye!==null&&!qE();)uy(Ye)}function uy(r){var s=fy(r.alternate,r,Lt);r.memoizedProps=r.pendingProps,s===null?cy(r):Ye=s,rd.current=null}function cy(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=mC(a,s,Lt),a!==null){Ye=a;return}}else{if(a=gC(a,s),a!==null){a.flags&=32767,Ye=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ze=6,Ye=null;return}}if(s=s.sibling,s!==null){Ye=s;return}Ye=s=r}while(s!==null);Ze===0&&(Ze=5)}function Ur(r,s,a){var c=Te,f=Bt.transition;try{Bt.transition=null,Te=1,CC(r,s,a,c)}finally{Bt.transition=f,Te=c}return null}function CC(r,s,a,c){do Oi();while(sr!==null);if((ge&6)!==0)throw Error(n(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var p=a.lanes|a.childLanes;if(ix(r,p),r===rt&&(Ye=rt=null,ut=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||tl||(tl=!0,py(ua,function(){return Oi(),null})),p=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||p){p=Bt.transition,Bt.transition=null;var v=Te;Te=1;var S=ge;ge|=4,rd.current=null,vC(r,a),ey(a,r),$x(hc),ga=!!dc,hc=dc=null,r.current=a,_C(a),YE(),ge=S,Te=v,Bt.transition=p}else r.current=a;if(tl&&(tl=!1,sr=r,nl=f),p=r.pendingLanes,p===0&&(ir=null),JE(a.stateNode),kt(r,He()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],c(f.value,{componentStack:f.stack,digest:f.digest});if(el)throw el=!1,r=od,od=null,r;return(nl&1)!==0&&r.tag!==0&&Oi(),p=r.pendingLanes,(p&1)!==0?r===ad?Xs++:(Xs=0,ad=r):Xs=0,er(),null}function Oi(){if(sr!==null){var r=Jp(nl),s=Bt.transition,a=Te;try{if(Bt.transition=null,Te=16>r?16:r,sr===null)var c=!1;else{if(r=sr,sr=null,nl=0,(ge&6)!==0)throw Error(n(331));var f=ge;for(ge|=4,Y=r.current;Y!==null;){var p=Y,v=p.child;if((Y.flags&16)!==0){var S=p.deletions;if(S!==null){for(var x=0;x<S.length;x++){var b=S[x];for(Y=b;Y!==null;){var j=Y;switch(j.tag){case 0:case 11:case 15:qs(8,j,p)}var U=j.child;if(U!==null)U.return=j,Y=U;else for(;Y!==null;){j=Y;var M=j.sibling,G=j.return;if(Yg(j),j===b){Y=null;break}if(M!==null){M.return=G,Y=M;break}Y=G}}}var Q=p.alternate;if(Q!==null){var J=Q.child;if(J!==null){Q.child=null;do{var Ke=J.sibling;J.sibling=null,J=Ke}while(J!==null)}}Y=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,Y=v;else e:for(;Y!==null;){if(p=Y,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:qs(9,p,p.return)}var P=p.sibling;if(P!==null){P.return=p.return,Y=P;break e}Y=p.return}}var T=r.current;for(Y=T;Y!==null;){v=Y;var N=v.child;if((v.subtreeFlags&2064)!==0&&N!==null)N.return=v,Y=N;else e:for(v=T;Y!==null;){if(S=Y,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Xa(9,S)}}catch(ee){Be(S,S.return,ee)}if(S===v){Y=null;break e}var z=S.sibling;if(z!==null){z.return=S.return,Y=z;break e}Y=S.return}}if(ge=f,er(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(ca,r)}catch{}c=!0}return c}finally{Te=a,Bt.transition=s}}return!1}function dy(r,s,a){s=bi(a,s),s=Ng(r,s,1),r=nr(r,s,1),s=_t(),r!==null&&(Ss(r,1,s),kt(r,s))}function Be(r,s,a){if(r.tag===3)dy(r,r,a);else for(;s!==null;){if(s.tag===3){dy(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ir===null||!ir.has(c))){r=bi(a,r),r=Rg(s,r,1),s=nr(s,r,1),r=_t(),s!==null&&(Ss(s,1,r),kt(s,r));break}}s=s.return}}function TC(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=_t(),r.pingedLanes|=r.suspendedLanes&a,rt===r&&(ut&a)===a&&(Ze===4||Ze===3&&(ut&130023424)===ut&&500>He()-sd?Vr(r,0):id|=a),kt(r,s)}function hy(r,s){s===0&&((r.mode&1)===0?s=1:(s=ha,ha<<=1,(ha&130023424)===0&&(ha=4194304)));var a=_t();r=In(r,s),r!==null&&(Ss(r,s,a),kt(r,a))}function IC(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),hy(r,a)}function kC(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),hy(r,a)}var fy;fy=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||xt.current)Tt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Tt=!1,pC(r,s,a);Tt=(r.flags&131072)!==0}else Tt=!1,Oe&&(s.flags&1048576)!==0&&Km(s,Ma,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Ya(r,s),r=s.pendingProps;var f=xi(s,ft.current);Ni(s,a),f=Lc(null,s,c,r,f,a);var p=Fc();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ct(c)?(p=!0,ba(s)):p=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Nc(s),f.updater=Ga,s.stateNode=f,f._reactInternals=s,Wc(s,c,r,a),s=Gc(null,s,c,!0,p,a)):(s.tag=0,Oe&&p&&_c(s),vt(null,s,f,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Ya(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=NC(c),r=Zt(c,r),f){case 0:s=Kc(null,s,c,r,a);break e;case 1:s=Vg(null,s,c,r,a);break e;case 11:s=Mg(null,s,c,r,a);break e;case 14:s=Og(null,s,c,Zt(c.type,r),a);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Zt(c,f),Kc(r,s,c,f,a);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Zt(c,f),Vg(r,s,c,f,a);case 3:e:{if(Ug(s),r===null)throw Error(n(387));c=s.pendingProps,p=s.memoizedState,f=p.element,tg(r,s),Ua(s,c,null,a);var v=s.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){f=bi(Error(n(423)),s),s=Bg(r,s,c,a,f);break e}else if(c!==f){f=bi(Error(n(424)),s),s=Bg(r,s,c,a,f);break e}else for(Ot=Xn(s.stateNode.containerInfo.firstChild),Mt=s,Oe=!0,Jt=null,a=Zm(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ii(),c===f){s=Pn(r,s,a);break e}vt(r,s,c,a)}s=s.child}return s;case 5:return ig(s),r===null&&Ec(s),c=s.type,f=s.pendingProps,p=r!==null?r.memoizedProps:null,v=f.children,fc(c,f)?v=null:p!==null&&fc(c,p)&&(s.flags|=32),jg(r,s),vt(r,s,v,a),s.child;case 6:return r===null&&Ec(s),null;case 13:return zg(r,s,a);case 4:return Rc(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ki(s,null,c,a):vt(r,s,c,a),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Zt(c,f),Mg(r,s,c,f,a);case 7:return vt(r,s,s.pendingProps,a),s.child;case 8:return vt(r,s,s.pendingProps.children,a),s.child;case 12:return vt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,p=s.memoizedProps,v=f.value,Ne(Fa,c._currentValue),c._currentValue=v,p!==null)if(Xt(p.value,v)){if(p.children===f.children&&!xt.current){s=Pn(r,s,a);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var S=p.dependencies;if(S!==null){v=p.child;for(var x=S.firstContext;x!==null;){if(x.context===c){if(p.tag===1){x=kn(-1,a&-a),x.tag=2;var b=p.updateQueue;if(b!==null){b=b.shared;var j=b.pending;j===null?x.next=x:(x.next=j.next,j.next=x),b.pending=x}}p.lanes|=a,x=p.alternate,x!==null&&(x.lanes|=a),kc(p.return,a,s),S.lanes|=a;break}x=x.next}}else if(p.tag===10)v=p.type===s.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=a,S=v.alternate,S!==null&&(S.lanes|=a),kc(v,a,s),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===s){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}vt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,Ni(s,a),f=Vt(f),c=c(f),s.flags|=1,vt(r,s,c,a),s.child;case 14:return c=s.type,f=Zt(c,s.pendingProps),f=Zt(c.type,f),Og(r,s,c,f,a);case 15:return Lg(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Zt(c,f),Ya(r,s),s.tag=1,Ct(c)?(r=!0,ba(s)):r=!1,Ni(s,a),kg(s,c,f),Wc(s,c,f,a),Gc(null,s,c,!0,r,a);case 19:return $g(r,s,a);case 22:return Fg(r,s,a)}throw Error(n(156,s.tag))};function py(r,s){return Gp(r,s)}function PC(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(r,s,a,c){return new PC(r,s,a,c)}function fd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function NC(r){if(typeof r=="function")return fd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===X)return 11;if(r===$e)return 14}return 2}function lr(r,s){var a=r.alternate;return a===null?(a=zt(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function ol(r,s,a,c,f,p){var v=2;if(c=r,typeof r=="function")fd(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case Z:return Br(a.children,f,p,s);case $:v=8,f|=8;break;case ye:return r=zt(12,a,s,f|2),r.elementType=ye,r.lanes=p,r;case Ee:return r=zt(13,a,s,f),r.elementType=Ee,r.lanes=p,r;case xe:return r=zt(19,a,s,f),r.elementType=xe,r.lanes=p,r;case le:return al(a,f,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case me:v=10;break e;case Xe:v=9;break e;case X:v=11;break e;case $e:v=14;break e;case qe:v=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=zt(v,a,s,f),s.elementType=r,s.type=c,s.lanes=p,s}function Br(r,s,a,c){return r=zt(7,r,c,s),r.lanes=a,r}function al(r,s,a,c){return r=zt(22,r,c,s),r.elementType=le,r.lanes=a,r.stateNode={isHidden:!1},r}function pd(r,s,a){return r=zt(6,r,null,s),r.lanes=a,r}function md(r,s,a){return s=zt(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function RC(r,s,a,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function gd(r,s,a,c,f,p,v,S,x){return r=new RC(r,s,a,S,x),s===1?(s=1,p===!0&&(s|=8)):s=0,p=zt(3,null,null,s),r.current=p,p.stateNode=r,p.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nc(p),r}function bC(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function my(r){if(!r)return Zn;r=r._reactInternals;e:{if(Nr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ct(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Ct(a))return Wm(r,a,s)}return s}function gy(r,s,a,c,f,p,v,S,x){return r=gd(a,c,!0,r,f,p,v,S,x),r.context=my(null),a=r.current,c=_t(),f=or(a),p=kn(c,f),p.callback=s??null,nr(a,p,f),r.current.lanes=f,Ss(r,f,c),kt(r,c),r}function ll(r,s,a,c){var f=s.current,p=_t(),v=or(f);return a=my(a),s.context===null?s.context=a:s.pendingContext=a,s=kn(p,v),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=nr(f,s,v),r!==null&&(nn(r,f,v,p),Va(r,f,v)),v}function ul(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function yy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function yd(r,s){yy(r,s),(r=r.alternate)&&yy(r,s)}function AC(){return null}var vy=typeof reportError=="function"?reportError:function(r){console.error(r)};function vd(r){this._internalRoot=r}cl.prototype.render=vd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));ll(r,s,null,null)},cl.prototype.unmount=vd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;jr(function(){ll(null,r,null,null)}),s[En]=null}};function cl(r){this._internalRoot=r}cl.prototype.unstable_scheduleHydration=function(r){if(r){var s=tm();r={blockedOn:null,target:r,priority:s};for(var a=0;a<qn.length&&s!==0&&s<qn[a].priority;a++);qn.splice(a,0,r),a===0&&im(r)}};function _d(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function _y(){}function DC(r,s,a,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var b=ul(v);p.call(b)}}var v=gy(s,c,r,0,null,!1,!1,"",_y);return r._reactRootContainer=v,r[En]=v.current,Os(r.nodeType===8?r.parentNode:r),jr(),v}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var S=c;c=function(){var b=ul(x);S.call(b)}}var x=gd(r,0,!1,null,null,!1,!1,"",_y);return r._reactRootContainer=x,r[En]=x.current,Os(r.nodeType===8?r.parentNode:r),jr(function(){ll(s,x,a,c)}),x}function hl(r,s,a,c,f){var p=a._reactRootContainer;if(p){var v=p;if(typeof f=="function"){var S=f;f=function(){var x=ul(v);S.call(x)}}ll(s,v,r,f)}else v=DC(a,s,r,f,c);return ul(v)}Zp=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ws(s.pendingLanes);a!==0&&(Wu(s,a|1),kt(s,He()),(ge&6)===0&&(Mi=He()+500,er()))}break;case 13:jr(function(){var c=In(r,1);if(c!==null){var f=_t();nn(c,r,1,f)}}),yd(r,1)}},$u=function(r){if(r.tag===13){var s=In(r,134217728);if(s!==null){var a=_t();nn(s,r,134217728,a)}yd(r,134217728)}},em=function(r){if(r.tag===13){var s=or(r),a=In(r,s);if(a!==null){var c=_t();nn(a,r,s,c)}yd(r,s)}},tm=function(){return Te},nm=function(r,s){var a=Te;try{return Te=r,s()}finally{Te=a}},Lu=function(r,s,a){switch(s){case"input":if(Pu(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var f=Na(c);if(!f)throw Error(n(90));Ip(c),Pu(c,f)}}}break;case"textarea":bp(r,a);break;case"select":s=a.value,s!=null&&di(r,!!a.multiple,s,!1)}},Up=cd,Bp=jr;var MC={usingClientEntryPoint:!1,Events:[js,Si,Na,jp,Vp,cd]},Js={findFiberByHostInstance:Rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OC={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Hp(r),r===null?null:r.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||AC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{ca=fl.inject(OC),dn=fl}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC,Pt.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(s))throw Error(n(200));return bC(r,s,null,a)},Pt.createRoot=function(r,s){if(!_d(r))throw Error(n(299));var a=!1,c="",f=vy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=gd(r,1,!1,null,null,a,!1,c,f),r[En]=s.current,Os(r.nodeType===8?r.parentNode:r),new vd(s)},Pt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Hp(s),r=r===null?null:r.stateNode,r},Pt.flushSync=function(r){return jr(r)},Pt.hydrate=function(r,s,a){if(!dl(s))throw Error(n(200));return hl(null,r,s,!0,a)},Pt.hydrateRoot=function(r,s,a){if(!_d(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,f=!1,p="",v=vy;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=gy(s,null,r,1,a??null,f,!1,p,v),r[En]=s.current,Os(r),c)for(r=0;r<c.length;r++)a=c[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new cl(s)},Pt.render=function(r,s,a){if(!dl(s))throw Error(n(200));return hl(null,r,s,!1,a)},Pt.unmountComponentAtNode=function(r){if(!dl(r))throw Error(n(40));return r._reactRootContainer?(jr(function(){hl(null,null,r,!1,function(){r._reactRootContainer=null,r[En]=null})}),!0):!1},Pt.unstable_batchedUpdates=cd,Pt.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!dl(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return hl(r,s,a,!1,c)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var ky;function $C(){if(ky)return Ed.exports;ky=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ed.exports=WC(),Ed.exports}var Py;function HC(){if(Py)return pl;Py=1;var t=$C();return pl.createRoot=t.createRoot,pl.hydrateRoot=t.hydrateRoot,pl}var KC=HC();const GC=n0(KC);var Ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw is(e)},is=function(t){return new Error("Firebase Database ("+r0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},qC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],d=t[n++],h=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Kh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,d=u?t[o+1]:0,h=o+2<t.length,m=h?t[o+2]:0,g=l>>2,y=(l&3)<<4|d>>4;let _=(d&15)<<2|m>>6,E=m&63;h||(E=64,u||(_=64)),i.push(n[g],n[y],n[_],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||d==null||m==null||y==null)throw new YC;const _=l<<2|d>>4;if(i.push(_),m!==64){const E=d<<4&240|m>>2;if(i.push(E),y!==64){const C=m<<6&192|y;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s0=function(t){const e=i0(t);return Kh.encodeByteArray(e,!0)},Rl=function(t){return s0(t).replace(/\./g,"")},bl=function(t){try{return Kh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){return o0(void 0,t)}function o0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!XC(n)||(t[n]=o0(t[n],e[n]));return t}function XC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=()=>JC().__FIREBASE_DEFAULTS__,eT=()=>{if(typeof process>"u"||typeof Ny>"u")return;const t=Ny.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bl(t[1]);return e&&JSON.parse(e)},Gh=()=>{try{return ZC()||eT()||tT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},a0=t=>{var e,n;return(n=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},nT=t=>{const e=a0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},l0=()=>{var t;return(t=Gh())===null||t===void 0?void 0:t.config},u0=t=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rl(JSON.stringify(n)),Rl(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function iT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oT(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aT(){return r0.NODE_ADMIN===!0}function lT(){try{return typeof indexedDB=="object"}catch{return!1}}function uT(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="FirebaseError";class kr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=cT,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?dT(l,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new kr(o,d,i)}}function dT(t,e){return t.replace(hT,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const hT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){return JSON.parse(t)}function at(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=function(t){let e={},n={},i={},o="";try{const l=t.split(".");e=Eo(bl(l[0])||""),n=Eo(bl(l[1])||""),o=l[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},fT=function(t){const e=d0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pT=function(t){const e=d0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function th(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Al(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function Dl(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(Ry(l)&&Ry(u)){if(!Dl(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Ry(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ao(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function lo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)i[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const _=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],l=this.chain_[1],u=this.chain_[2],d=this.chain_[3],h=this.chain_[4],m,g;for(let y=0;y<80;y++){y<40?y<20?(m=d^l&(u^d),g=1518500249):(m=l^u^d,g=1859775393):y<60?(m=l&u|d&(l|u),g=2400959708):(m=l^u^d,g=3395469782);const _=(o<<5|o>>>27)+m+h+g+i[y]&4294967295;h=d,d=u,u=(l<<30|l>>>2)&4294967295,l=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const l=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(l[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}else for(;o<n;)if(l[u]=e[o],++u,++o,u===this.blockSize){this.compress_(l),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let l=24;l>=0;l-=8)e[i]=this.chain_[o]>>l&255,++i;return e}}function gT(t,e){const n=new yT(t,e);return n.subscribe.bind(n)}class yT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");vT(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Td),o.error===void 0&&(o.error=Td),o.complete===void 0&&(o.complete=Td);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Td(){}function su(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const l=o-55296;i++,W(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;o=65536+(l<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ou=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return t&&t._delegate?t._delegate:t}class ei{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ss;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ET(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ST(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ST(t){return t===Wr?void 0:t}function ET(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const CT={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},TT=ke.INFO,IT={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},kT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=IT[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=TT,this._logHandler=kT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const PT=(t,e)=>e.some(n=>t instanceof n);let by,Ay;function NT(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RT(){return Ay||(Ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h0=new WeakMap,nh=new WeakMap,f0=new WeakMap,Id=new WeakMap,Qh=new WeakMap;function bT(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(gr(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&h0.set(n,t)}).catch(()=>{}),Qh.set(e,t),e}function AT(t){if(nh.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});nh.set(t,e)}let rh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||f0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DT(t){rh=t(rh)}function MT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(kd(this),e,...n);return f0.set(i,e.sort?e.sort():[e]),gr(i)}:RT().includes(t)?function(...e){return t.apply(kd(this),e),gr(h0.get(this))}:function(...e){return gr(t.apply(kd(this),e))}}function OT(t){return typeof t=="function"?MT(t):(t instanceof IDBTransaction&&AT(t),PT(t,NT())?new Proxy(t,rh):t)}function gr(t){if(t instanceof IDBRequest)return bT(t);if(Id.has(t))return Id.get(t);const e=OT(t);return e!==t&&(Id.set(t,e),Qh.set(e,t)),e}const kd=t=>Qh.get(t);function LT(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),d=gr(u);return i&&u.addEventListener("upgradeneeded",h=>{i(gr(u.result),h.oldVersion,h.newVersion,gr(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{l&&h.addEventListener("close",()=>l()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const FT=["get","getKey","getAll","getAllKeys","count"],jT=["put","add","delete","clear"],Pd=new Map;function Dy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=jT.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||FT.includes(n)))return;const l=async function(u,...d){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),o&&h.done]))[0]};return Pd.set(e,l),l}DT(t=>({...t,get:(e,n,i)=>Dy(e,n)||t.get(e,n,i),has:(e,n)=>!!Dy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UT(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function UT(t){const e=t.getComponent();return e?.type==="VERSION"}const ih="@firebase/app",My="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new Yh("@firebase/app"),BT="@firebase/app-compat",zT="@firebase/analytics-compat",WT="@firebase/analytics",$T="@firebase/app-check-compat",HT="@firebase/app-check",KT="@firebase/auth",GT="@firebase/auth-compat",qT="@firebase/database",YT="@firebase/data-connect",QT="@firebase/database-compat",XT="@firebase/functions",JT="@firebase/functions-compat",ZT="@firebase/installations",eI="@firebase/installations-compat",tI="@firebase/messaging",nI="@firebase/messaging-compat",rI="@firebase/performance",iI="@firebase/performance-compat",sI="@firebase/remote-config",oI="@firebase/remote-config-compat",aI="@firebase/storage",lI="@firebase/storage-compat",uI="@firebase/firestore",cI="@firebase/vertexai-preview",dI="@firebase/firestore-compat",hI="firebase",fI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="[DEFAULT]",pI={[ih]:"fire-core",[BT]:"fire-core-compat",[WT]:"fire-analytics",[zT]:"fire-analytics-compat",[HT]:"fire-app-check",[$T]:"fire-app-check-compat",[KT]:"fire-auth",[GT]:"fire-auth-compat",[qT]:"fire-rtdb",[YT]:"fire-data-connect",[QT]:"fire-rtdb-compat",[XT]:"fire-fn",[JT]:"fire-fn-compat",[ZT]:"fire-iid",[eI]:"fire-iid-compat",[tI]:"fire-fcm",[nI]:"fire-fcm-compat",[rI]:"fire-perf",[iI]:"fire-perf-compat",[sI]:"fire-rc",[oI]:"fire-rc-compat",[aI]:"fire-gcs",[lI]:"fire-gcs-compat",[uI]:"fire-fst",[dI]:"fire-fst-compat",[cI]:"fire-vertex","fire-js":"fire-js",[hI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=new Map,mI=new Map,oh=new Map;function Oy(t,e){try{t.container.addComponent(e)}catch(n){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yi(t){const e=t.name;if(oh.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;oh.set(e,t);for(const n of Ml.values())Oy(n,t);for(const n of mI.values())Oy(n,t);return!0}function Xh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function on(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Vo("app","Firebase",gI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=fI;function p0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:sh,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw yr.create("bad-app-name",{appName:String(o)});if(n||(n=l0()),!n)throw yr.create("no-options");const l=Ml.get(o);if(l){if(Dl(n,l.options)&&Dl(i,l.config))return l;throw yr.create("duplicate-app",{appName:o})}const u=new xT(o);for(const h of oh.values())u.addComponent(h);const d=new yI(n,i,u);return Ml.set(o,d),d}function m0(t=sh){const e=Ml.get(t);if(!e&&t===sh&&l0())return p0();if(!e)throw yr.create("no-app",{appName:t});return e}function vr(t,e,n){var i;let o=(i=pI[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(d.join(" "));return}Yi(new ei(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firebase-heartbeat-database",_I=1,xo="firebase-heartbeat-store";let Nd=null;function g0(){return Nd||(Nd=LT(vI,_I,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),Nd}async function wI(t){try{const n=(await g0()).transaction(xo),i=await n.objectStore(xo).get(y0(t));return await n.done,i}catch(e){if(e instanceof kr)Fn.warn(e.message);else{const n=yr.create("idb-get",{originalErrorMessage:e?.message});Fn.warn(n.message)}}}async function Ly(t,e){try{const i=(await g0()).transaction(xo,"readwrite");await i.objectStore(xo).put(e,y0(t)),await i.done}catch(n){if(n instanceof kr)Fn.warn(n.message);else{const i=yr.create("idb-set",{originalErrorMessage:n?.message});Fn.warn(i.message)}}}function y0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1024,EI=720*60*60*1e3;class xI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Fy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=EI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Fn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fy(),{heartbeatsToSend:i,unsentEntries:o}=CI(this._heartbeatsCache.heartbeats),l=Rl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Fn.warn(n),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function CI(t,e=SI){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),jy(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),jy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class TI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lT()?uT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function jy(t){return Rl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){Yi(new ei("platform-logger",e=>new VT(e),"PRIVATE")),Yi(new ei("heartbeat",e=>new xI(e),"PRIVATE")),vr(ih,My,t),vr(ih,My,"esm2017"),vr("fire-js","")}II("");function Jh(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function v0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kI=v0,_0=new Vo("auth","Firebase",v0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Yh("@firebase/auth");function PI(t,...e){Ol.logLevel<=ke.WARN&&Ol.warn(`Auth (${as}): ${t}`,...e)}function Sl(t,...e){Ol.logLevel<=ke.ERROR&&Ol.error(`Auth (${as}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,...e){throw ef(t,...e)}function ln(t,...e){return ef(t,...e)}function Zh(t,e,n){const i=Object.assign(Object.assign({},kI()),{[e]:n});return new Vo("auth","Firebase",i).create(e,{appName:t.name})}function On(t){return Zh(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NI(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&qt(t,"argument-error"),Zh(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ef(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return _0.create(t,...e)}function oe(t,e,...n){if(!t)throw ef(e,...n)}function bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sl(e),new Error(e)}function jn(t,e){t||bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function RI(){return Vy()==="http:"||Vy()==="https:"}function Vy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RI()||sT()||"connection"in navigator)?navigator.onLine:!0}function AI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.shortDelay=e,this.longDelay=n,jn(n>e,"Short delay should be less than long delay!"),this.isMobile=qh()||c0()}get(){return bI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t,e){jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new Uo(3e4,6e4);function zn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sn(t,e,n,i,o={}){return S0(t,o,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const d=os(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},l);return iT()||(m.referrerPolicy="no-referrer"),w0.fetch()(E0(t,t.config.apiHost,n,d),m)})}async function S0(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},DI),e);try{const o=new LI(t),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ml(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ml(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw ml(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw ml(t,"user-disabled",u);const g=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Zh(t,g,m);qt(t,g)}}catch(o){if(o instanceof kr)throw o;qt(t,"network-request-failed",{message:String(o)})}}async function Bo(t,e,n,i,o={}){const l=await Sn(t,e,n,i,o);return"mfaPendingCredential"in l&&qt(t,"multi-factor-auth-required",{_serverResponse:l}),l}function E0(t,e,n,i){const o=`${e}${n}?${i}`;return t.config.emulator?tf(t.config,o):`${t.config.apiScheme}://${o}`}function OI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class LI{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ln(this.auth,"network-request-failed")),MI.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ml(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=ln(t,e,i);return o.customData._tokenResponse=n,o}function Uy(t){return t!==void 0&&t.enterprise!==void 0}class FI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return OI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function jI(t,e){return Sn(t,"GET","/v2/recaptchaConfig",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(t,e){return Sn(t,"POST","/v1/accounts:delete",e)}async function x0(t,e){return Sn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UI(t,e=!1){const n=tt(t),i=await n.getIdToken(e),o=nf(i);oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:i,authTime:co(Rd(o.auth_time)),issuedAtTime:co(Rd(o.iat)),expirationTime:co(Rd(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Rd(t){return Number(t)*1e3}function nf(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Sl("JWT malformed, contained fewer than 3 sections"),null;try{const o=bl(n);return o?JSON.parse(o):(Sl("Failed to decode base64 JWT payload"),null)}catch(o){return Sl("Caught error parsing JWT payload as JSON",o?.toString()),null}}function By(t){const e=nf(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof kr&&BI(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function BI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=co(this.lastLoginAt),this.creationTime=co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t){var e;const n=t.auth,i=await t.getIdToken(),o=await Qi(t,x0(n,{idToken:i}));oe(o?.users.length,n,"internal-error");const l=o.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?C0(l.providerUserInfo):[],d=$I(t.providerData,u),h=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!d?.length,g=h?m:!1,y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new lh(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,y)}async function WI(t){const e=tt(t);await Ll(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $I(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function C0(t){return t.map(e=>{var{providerId:n}=e,i=Jh(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(t,e){const n=await S0(t,{},async()=>{const i=os({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=t.config,u=E0(t,o,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",w0.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KI(t,e){return Sn(t,"POST","/v2/accounts:revokeToken",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):By(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=By(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:l}=await HI(e,n);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:l}=n,u=new Wi;return i&&(oe(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(oe(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(oe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wi,this.toJSON())}_performRefresh(){return bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class An{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,l=Jh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lh(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Qi(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UI(this,e)}reload(){return WI(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new An(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ll(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(On(this.auth));const e=await this.getIdToken();return await Qi(this,VI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,l,u,d,h,m,g;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,_=(o=n.email)!==null&&o!==void 0?o:void 0,E=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,I=(d=n.tenantId)!==null&&d!==void 0?d:void 0,A=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,V=(m=n.createdAt)!==null&&m!==void 0?m:void 0,L=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:R,emailVerified:O,isAnonymous:B,providerData:q,stsTokenManager:Z}=n;oe(R&&Z,e,"internal-error");const $=Wi.fromJSON(this.name,Z);oe(typeof R=="string",e,"internal-error"),cr(y,e.name),cr(_,e.name),oe(typeof O=="boolean",e,"internal-error"),oe(typeof B=="boolean",e,"internal-error"),cr(E,e.name),cr(C,e.name),cr(I,e.name),cr(A,e.name),cr(V,e.name),cr(L,e.name);const ye=new An({uid:R,auth:e,email:_,emailVerified:O,displayName:y,isAnonymous:B,photoURL:C,phoneNumber:E,tenantId:I,stsTokenManager:$,createdAt:V,lastLoginAt:L});return q&&Array.isArray(q)&&(ye.providerData=q.map(me=>Object.assign({},me))),A&&(ye._redirectEventId=A),ye}static async _fromIdTokenResponse(e,n,i=!1){const o=new Wi;o.updateFromServerResponse(n);const l=new An({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Ll(l),l}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];oe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?C0(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,d=new Wi;d.updateFromIdToken(i);const h=new An({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new lh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;function Dn(t){jn(t instanceof Function,"Expected a class definition");let e=zy.get(t);return e?(jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}T0.type="NONE";const Wy=T0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t,e,n){return`firebase:${t}:${e}:${n}`}class $i{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=El(this.userKey,o.apiKey,l),this.fullPersistenceKey=El("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?An._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new $i(Dn(Wy),e,i);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Dn(Wy);const u=El(i,e.config.apiKey,e.name);let d=null;for(const m of n)try{const g=await m._get(u);if(g){const y=An._fromJSON(e,g);m!==l&&(d=y),l=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new $i(l,e,i):(l=h[0],d&&await l._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new $i(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b0(e))return"Blackberry";if(A0(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||P0(e))&&!e.includes("edge/"))return"Chrome";if(R0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function I0(t=Et()){return/firefox\//i.test(t)}function k0(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P0(t=Et()){return/crios\//i.test(t)}function N0(t=Et()){return/iemobile/i.test(t)}function R0(t=Et()){return/android/i.test(t)}function b0(t=Et()){return/blackberry/i.test(t)}function A0(t=Et()){return/webos/i.test(t)}function rf(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GI(t=Et()){var e;return rf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qI(){return oT()&&document.documentMode===10}function D0(t=Et()){return rf(t)||R0(t)||A0(t)||b0(t)||/windows phone/i.test(t)||N0(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e=[]){let n;switch(t){case"Browser":n=$y(Et());break;case"Worker":n=`${$y(Et())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${as}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,d)=>{try{const h=e(l);u(h)}catch(h){d(h)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(t,e={}){return Sn(t,"GET","/v2/passwordPolicy",zn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6;class JI{constructor(e){var n,i,o,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:XI,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,l,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsUppercaseLetter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hy(this),this.idTokenSubscription=new Hy(this),this.beforeStateQueue=new YI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await $i.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await x0(this,{idToken:e}),i=await An._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(on(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o?._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&h?.user&&(o=h.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ll(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(On(this));const n=e?tt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(On(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(On(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QI(this),n=new JI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await KI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Dn(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await $i.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&PI(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Wn(t){return tt(t)}class Hy{constructor(e){this.auth=e,this.observer=null,this.addObserver=gT(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let au={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ek(t){au=t}function O0(t){return au.loadJS(t)}function tk(){return au.recaptchaEnterpriseScript}function nk(){return au.gapiScript}function rk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ik="recaptcha-enterprise",sk="NO_RECAPTCHA";class ok{constructor(e){this.type=ik,this.auth=Wn(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,d)=>{jI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new FI(h);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(h=>{d(h)})})}function o(l,u,d){const h=window.grecaptcha;Uy(h)?h.enterprise.ready(()=>{h.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(sk)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,u)=>{i(this.auth).then(d=>{if(!n&&Uy(window.grecaptcha))o(d,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=tk();h.length!==0&&(h+=d),O0(h).then(()=>{o(d,l,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function Ky(t,e,n,i=!1){const o=new ok(t);let l;try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u=Object.assign({},e);return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Fl(t,e,n,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Ky(t,e,n,n==="getOobCode");return i(t,l)}else return i(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Ky(t,e,n,n==="getOobCode");return i(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){const n=Xh(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Dl(l,e??{}))return o;qt(o,"already-initialized")}return n.initialize({options:e})}function lk(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Dn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function uk(t,e,n){const i=Wn(t);oe(i._canInitEmulator,i,"emulator-config-failed"),oe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=L0(e),{host:u,port:d}=ck(e),h=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${u}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),dk()}function L0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ck(t){const e=L0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Gy(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Gy(u)}}}function Gy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bn("not implemented")}_getIdTokenResponse(e){return bn("not implemented")}_linkToIdToken(e,n){return bn("not implemented")}_getReauthenticationResolver(e){return bn("not implemented")}}async function hk(t,e){return Sn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t,e){return Bo(t,"POST","/v1/accounts:signInWithPassword",zn(t,e))}async function F0(t,e){return Sn(t,"POST","/v1/accounts:sendOobCode",zn(t,e))}async function pk(t,e){return F0(t,e)}async function mk(t,e){return F0(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,e){return Bo(t,"POST","/v1/accounts:signInWithEmailLink",zn(t,e))}async function yk(t,e){return Bo(t,"POST","/v1/accounts:signInWithEmailLink",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends sf{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Co(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Co(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fl(e,n,"signInWithPassword",fk);case"emailLink":return gk(e,{email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fl(e,i,"signUpPassword",hk);case"emailLink":return yk(e,{idToken:n,email:this._email,oobCode:this._password});default:qt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hi(t,e){return Bo(t,"POST","/v1/accounts:signInWithIdp",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="http://localhost";class ti extends sf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ti(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,l=Jh(n,["providerId","signInMethod"]);if(!i||!o)return null;const u=new ti(i,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Hi(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Hi(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hi(e,n)}buildRequest(){const e={requestUri:vk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=os(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wk(t){const e=ao(lo(t)).link,n=e?ao(lo(e)).deep_link_id:null,i=ao(lo(t)).deep_link_id;return(i?ao(lo(i)).link:null)||i||n||e||t}class of{constructor(e){var n,i,o,l,u,d;const h=ao(lo(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(i=h.oobCode)!==null&&i!==void 0?i:null,y=_k((o=h.mode)!==null&&o!==void 0?o:null);oe(m&&g&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=g,this.continueUrl=(l=h.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=wk(e);try{return new of(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.providerId=ls.PROVIDER_ID}static credential(e,n){return Co._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=of.parseLink(n);return oe(i,"argument-error"),Co._fromEmailAndCode(e,i.code,i.tenantId)}}ls.PROVIDER_ID="password";ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends af{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends zo{constructor(){super("facebook.com")}static credential(e){return ti._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ti._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rn.credentialFromTaggedObject(e)}static credentialFromError(e){return Rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Rn.credential(n,i)}catch{return null}}}Rn.GOOGLE_SIGN_IN_METHOD="google.com";Rn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends zo{constructor(){super("github.com")}static credential(e){return ti._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends zo{constructor(){super("twitter.com")}static credential(e,n){return ti._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return pr.credential(n,i)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e){return Bo(t,"POST","/v1/accounts:signUp",zn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const l=await An._fromIdTokenResponse(e,i,o),u=qy(i);return new ni({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=qy(i);return new ni({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function qy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends kr{constructor(e,n,i,o){var l;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,jl.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new jl(e,n,i,o)}}function j0(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?jl._fromErrorAndOperation(t,l,e,i):l})}async function Ek(t,e,n=!1){const i=await Qi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ni._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t,e,n=!1){const{auth:i}=t;if(on(i.app))return Promise.reject(On(i));const o="reauthenticate";try{const l=await Qi(t,j0(i,o,e,t),n);oe(l.idToken,i,"internal-error");const u=nf(l.idToken);oe(u,i,"internal-error");const{sub:d}=u;return oe(t.uid===d,i,"user-mismatch"),ni._forOperation(t,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&qt(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(t,e,n=!1){if(on(t.app))return Promise.reject(On(t));const i="signIn",o=await j0(t,i,e),l=await ni._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(l.user),l}async function Ck(t,e){return V0(Wn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U0(t){const e=Wn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tk(t,e,n){const i=Wn(t);await Fl(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",mk)}async function Ik(t,e,n){if(on(t.app))return Promise.reject(On(t));const i=Wn(t),u=await Fl(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sk).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&U0(t),h}),d=await ni._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function kk(t,e,n){return on(t.app)?Promise.reject(On(t)):Ck(tt(t),ls.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&U0(t),i})}async function Pk(t,e){const n=tt(t),o={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:l}=await pk(n.auth,o);l!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e){return Sn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=tt(t),l={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Qi(i,Nk(i.auth,l));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const d=i.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function bk(t,e,n,i){return tt(t).onIdTokenChanged(e,n,i)}function Ak(t,e,n){return tt(t).beforeAuthStateChanged(e,n)}function Wo(t,e,n,i){return tt(t).onAuthStateChanged(e,n,i)}function Dk(t){return tt(t).signOut()}const Vl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vl,"1"),this.storage.removeItem(Vl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=1e3,Ok=10;class z0 extends B0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=D0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);qI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ok):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},Mk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}z0.type="LOCAL";const Lk=z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends B0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W0.type="SESSION";const $0=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new lu(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:l}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async m=>m(n.origin,l)),h=await Fk(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,h)=>{const m=lf("",20);o.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(y){const _=y;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(_.data.response);break;default:clearTimeout(g),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return window}function Vk(t){yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){return typeof yn().WorkerGlobalScope<"u"&&typeof yn().importScripts=="function"}async function Uk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bk(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zk(){return H0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="firebaseLocalStorageDb",Wk=1,Ul="firebaseLocalStorage",G0="fbase_key";class $o{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function uu(t,e){return t.transaction([Ul],e?"readwrite":"readonly").objectStore(Ul)}function $k(){const t=indexedDB.deleteDatabase(K0);return new $o(t).toPromise()}function uh(){const t=indexedDB.open(K0,Wk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ul,{keyPath:G0})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ul)?e(i):(i.close(),await $k(),e(await uh()))})})}async function Yy(t,e,n){const i=uu(t,!0).put({[G0]:e,value:n});return new $o(i).toPromise()}async function Hk(t,e){const n=uu(t,!1).get(e),i=await new $o(n).toPromise();return i===void 0?null:i.value}function Qy(t,e){const n=uu(t,!0).delete(e);return new $o(n).toPromise()}const Kk=800,Gk=3;class q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await uh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>Gk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lu._getInstance(zk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Uk(),!this.activeServiceWorker)return;this.sender=new jk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await uh();return await Yy(e,Vl,"1"),await Qy(e,Vl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Yy(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>Hk(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=uu(o,!1).getAll();return new $o(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q0.type="LOCAL";const qk=q0;new Uo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t,e){return e?Dn(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends sf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yk(t){return V0(t.auth,new uf(t),t.bypassAuthState)}function Qk(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),xk(n,new uf(t),t.bypassAuthState)}async function Xk(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),Ek(n,new uf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yk;case"linkViaPopup":case"linkViaRedirect":return Xk;case"reauthViaPopup":case"reauthViaRedirect":return Qk;default:qt(this.auth,"internal-error")}}resolve(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new Uo(2e3,1e4);async function Zk(t,e,n){if(on(t.app))return Promise.reject(ln(t,"operation-not-supported-in-this-environment"));const i=Wn(t);NI(t,e,af);const o=Y0(i,n);return new Kr(i,"signInViaPopup",e,o).executeNotNull()}class Kr extends Q0{constructor(e,n,i,o,l){super(e,n,o,l),this.provider=i,this.authWindow=null,this.pollId=null,Kr.currentPopupAction&&Kr.currentPopupAction.cancel(),Kr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){jn(this.filter.length===1,"Popup operations only handle one event");const e=lf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jk.get())};e()}}Kr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="pendingRedirect",xl=new Map;class t1 extends Q0{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=xl.get(this.auth._key());if(!e){try{const i=await n1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}xl.set(this.auth._key(),e)}return this.bypassAuthState||xl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n1(t,e){const n=s1(e),i=i1(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function r1(t,e){xl.set(t._key(),e)}function i1(t){return Dn(t._redirectPersistence)}function s1(t){return El(e1,t.config.apiKey,t.name)}async function o1(t,e,n=!1){if(on(t.app))return Promise.reject(On(t));const i=Wn(t),o=Y0(i,e),u=await new t1(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=600*1e3;class l1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!X0(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ln(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xy(e))}saveEventToCache(e){this.cachedEventUids.add(Xy(e)),this.lastProcessedEventTime=Date.now()}}function Xy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function u1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(t,e={}){return Sn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h1=/^https?/;async function f1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c1(t);for(const n of e)try{if(p1(n))return}catch{}qt(t,"unauthorized-domain")}function p1(t){const e=ah(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!h1.test(n))return!1;if(d1.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Uo(3e4,6e4);function Jy(){const t=yn().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g1(t){return new Promise((e,n)=>{var i,o,l;function u(){Jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jy(),n(ln(t,"network-request-failed"))},timeout:m1.get()})}if(!((o=(i=yn().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=yn().gapi)===null||l===void 0)&&l.load)u();else{const d=rk("iframefcb");return yn()[d]=()=>{gapi.load?u():n(ln(t,"network-request-failed"))},O0(`${nk()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw Cl=null,e})}let Cl=null;function y1(t){return Cl=Cl||g1(t),Cl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Uo(5e3,15e3),_1="__/auth/iframe",w1="emulator/auth/iframe",S1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function x1(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tf(e,w1):`https://${t.config.authDomain}/${_1}`,i={apiKey:e.apiKey,appName:t.name,v:as},o=E1.get(t.config.apiHost);o&&(i.eid=o);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${os(i).slice(1)}`}async function C1(t){const e=await y1(t),n=yn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:x1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S1,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const u=ln(t,"network-request-failed"),d=yn().setTimeout(()=>{l(u)},v1.get());function h(){yn().clearTimeout(d),o(i)}i.ping(h).then(h,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I1=500,k1=600,P1="_blank",N1="http://localhost";class Zy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R1(t,e,n,i=I1,o=k1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h=Object.assign(Object.assign({},T1),{width:i.toString(),height:o.toString(),top:l,left:u}),m=Et().toLowerCase();n&&(d=P0(m)?P1:n),I0(m)&&(e=e||N1,h.scrollbars="yes");const g=Object.entries(h).reduce((_,[E,C])=>`${_}${E}=${C},`,"");if(GI(m)&&d!=="_self")return b1(e||"",d),new Zy(null);const y=window.open(e||"",d,g);oe(y,t,"popup-blocked");try{y.focus()}catch{}return new Zy(y)}function b1(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="__/auth/handler",D1="emulator/auth/handler",M1=encodeURIComponent("fac");async function ev(t,e,n,i,o,l){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:as,eventId:o};if(e instanceof af){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",th(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))u[g]=y}if(e instanceof zo){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const h=await t._getAppCheckToken(),m=h?`#${M1}=${encodeURIComponent(h)}`:"";return`${O1(t)}?${os(d).slice(1)}${m}`}function O1({config:t}){return t.emulator?tf(t,D1):`https://${t.authDomain}/${A1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class L1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=o1,this._overrideRedirectResult=r1}async _openPopup(e,n,i,o){var l;jn((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await ev(e,n,i,ah(),o);return R1(e,u,lf())}async _openRedirect(e,n,i,o){await this._originValidation(e);const l=await ev(e,n,i,ah(),o);return Vk(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(jn(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await C1(e),i=new l1(e);return n.register("authEvent",o=>(oe(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bd,{type:bd},o=>{var l;const u=(l=o?.[0])===null||l===void 0?void 0:l[bd];u!==void 0&&n(!!u),qt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=f1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return D0()||k0()||rf()}}const F1=L1;var tv="@firebase/auth",nv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U1(t){Yi(new ei("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;oe(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M0(t)},m=new ZI(i,o,l,h);return lk(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Yi(new ei("auth-internal",e=>{const n=Wn(e.getProvider("auth").getImmediate());return(i=>new j1(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(tv,nv,V1(t)),vr(tv,nv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=300,z1=u0("authIdTokenMaxAge")||B1;let rv=null;const W1=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>z1)return;const o=n?.token;rv!==o&&(rv=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $1(t=m0()){const e=Xh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ak(t,{popupRedirectResolver:F1,persistence:[qk,Lk,$0]}),i=u0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=W1(l.toString());Ak(n,u,()=>u(n.currentUser)),bk(n,d=>u(d))}}const o=a0("auth");return o&&uk(n,`http://${o}`),n}function H1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ek({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const l=ln("internal-error");l.customData=o,n(l)},i.type="text/javascript",i.charset="UTF-8",H1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U1("Browser");var K1="firebase",G1="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(K1,G1,"app");var iv={};const sv="@firebase/database",ov="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let J0="";function q1(t){J0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),at(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Eo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Y1(e)}}catch{}return new Q1},Gr=Z0("localStorage"),X1=Z0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Yh("@firebase/database"),ew=(function(){let t=1;return function(){return t++}})(),tw=function(t){const e=_T(t),n=new mT;n.update(e);const i=n.digest();return Kh.encodeByteArray(i)},Ho=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ho.apply(null,i):typeof i=="object"?e+=at(i):e+=i,e+=" "}return e};let ho=null,av=!0;const J1=function(t,e){W(!0,"Can't turn on custom loggers persistently."),Ki.logLevel=ke.VERBOSE,ho=Ki.log.bind(Ki)},dt=function(...t){if(av===!0&&(av=!1,ho===null&&X1.get("logging_enabled")===!0&&J1()),ho){const e=Ho.apply(null,t);ho(e)}},Ko=function(t){return function(...e){dt(t,...e)}},ch=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ho(...t);Ki.error(e)},Vn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ho(...t)}`;throw Ki.error(e),new Error(e)},St=function(...t){const e="FIREBASE WARNING: "+Ho(...t);Ki.warn(e)},Z1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cf=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},eP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ri="[MIN_NAME]",Er="[MAX_NAME]",ai=function(t,e){if(t===e)return 0;if(t===ri||e===Er)return-1;if(e===ri||t===Er)return 1;{const n=lv(t),i=lv(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},tP=function(t,e){return t===e?0:t<e?-1:1},eo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+at(e))},df=function(t){if(typeof t!="object"||t===null)return at(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=at(e[i]),n+=":",n+=df(t[e[i]]);return n+="}",n},nw=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function ht(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const rw=function(t){W(!cf(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,l,u,d,h;t===0?(l=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),l=d+i,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(l=0,u=Math.round(t/Math.pow(2,1-i-n))));const m=[];for(h=n;h;h-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(h=e;h;h-=1)m.push(l%2?1:0),l=Math.floor(l/2);m.push(o?1:0),m.reverse();const g=m.join("");let y="";for(h=0;h<64;h+=8){let _=parseInt(g.substr(h,8),2).toString(16);_.length===1&&(_="0"+_),y=y+_}return y.toLowerCase()},nP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},rP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function iP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const sP=new RegExp("^-?(0*)\\d{1,10}$"),oP=-2147483648,aP=2147483647,lv=function(t){if(sP.test(t)){const e=Number(t);if(e>=oP&&e<=aP)return e}return null},us=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw St("Exception was thrown by user callback.",n),e},Math.floor(0))}},lP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}}class Tl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Tl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="5",iw="v",sw="s",ow="r",aw="f",lw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uw="ls",cw="p",dh="ac",dw="websocket",hw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,i,o,l=!1,u="",d=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=l,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Gr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function dP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function pw(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let i;if(e===dw)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===hw)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);dP(t)&&(n.ns=t.namespace);const o=[];return ht(n,(l,u)=>{o.push(l+"="+u)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.counters_={}}incrementCounter(e,n=1){cn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return QC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad={},Dd={};function ff(t){const e=t.toString();return Ad[e]||(Ad[e]=new hP),Ad[e]}function fP(t,e){const n=t.toString();return Dd[n]||(Dd[n]=e()),Dd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&us(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="start",mP="close",gP="pLPCommand",yP="pRTLPCB",mw="id",gw="pw",yw="ser",vP="cb",_P="seg",wP="ts",SP="d",EP="dframe",vw=1870,_w=30,xP=vw-_w,CP=25e3,TP=3e4;class Fi{constructor(e,n,i,o,l,u,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ko(e),this.stats_=ff(n),this.urlFn=h=>(this.appCheckToken&&(h[dh]=this.appCheckToken),pw(n,hw,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TP)),eP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new pf((...l)=>{const[u,d,h,m,g]=l;if(this.incrementIncomingBytes_(l),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===uv)this.id=d,this.password=h;else if(u===mP)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...l)=>{const[u,d]=l;this.incrementIncomingBytes_(l),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[uv]="t",i[yw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[vP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[iw]=hf,this.transportSessionId&&(i[sw]=this.transportSessionId),this.lastSessionId&&(i[uw]=this.lastSessionId),this.applicationId&&(i[cw]=this.applicationId),this.appCheckToken&&(i[dh]=this.appCheckToken),typeof location<"u"&&location.hostname&&lw.test(location.hostname)&&(i[ow]=aw);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fi.forceAllow_=!0}static forceDisallow(){Fi.forceDisallow_=!0}static isAvailable(){return Fi.forceAllow_?!0:!Fi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!nP()&&!rP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=at(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=s0(n),o=nw(i,xP);for(let l=0;l<o.length;l++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[l]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[EP]="t",i[mw]=e,i[gw]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=at(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class pf{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ew(),window[gP+this.uniqueCallbackIdentifier]=e,window[yP+this.uniqueCallbackIdentifier]=n,this.myIFrame=pf.createIFrame_();let l="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(l='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+l+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){dt("frame writing exception"),d.stack&&dt(d.stack),dt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mw]=this.myID,e[gw]=this.myPW,e[yw]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_w+i.length<=vw;){const u=this.pendingSegs.shift();i=i+"&"+_P+o+"="+u.seg+"&"+wP+o+"="+u.ts+"&"+SP+o+"="+u.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(CP)),l=()=>{clearTimeout(o),i()};this.addTag(e,l)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=16384,kP=45e3;let Bl=null;typeof MozWebSocket<"u"?Bl=MozWebSocket:typeof WebSocket<"u"&&(Bl=WebSocket);class sn{constructor(e,n,i,o,l,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ko(this.connId),this.stats_=ff(n),this.connURL=sn.connectionURL_(n,u,d,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,l){const u={};return u[iw]=hf,typeof location<"u"&&location.hostname&&lw.test(location.hostname)&&(u[ow]=aw),n&&(u[sw]=n),i&&(u[uw]=i),o&&(u[dh]=o),l&&(u[cw]=l),pw(e,dw,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gr.set("previous_websocket_failure",!0);try{let i;aT(),this.mySock=new Bl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Bl!==null&&!sn.forceDisallow_}static previouslyFailed(){return Gr.isInMemoryStorage||Gr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Eo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=at(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=nw(n,IP);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(kP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Fi,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=sn&&sn.isAvailable();let i=n&&!sn.previouslyFailed();if(e.webSocketOnly&&(n||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[sn];else{const o=this.transports_=[];for(const l of To.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);To.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}To.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=6e4,NP=5e3,RP=10*1024,bP=100*1024,Md="t",cv="d",AP="s",dv="r",DP="e",hv="o",fv="a",pv="n",mv="p",MP="h";class OP{constructor(e,n,i,o,l,u,d,h,m,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=l,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=h,this.onKill_=m,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ko("c:"+this.id+":"),this.transportManager_=new To(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=fo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>RP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Md in e){const n=e[Md];n===fv?this.upgradeIfSecondaryHealthy_():n===dv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===hv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=eo("t",e),i=eo("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:mv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:fv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=eo("t",e),i=eo("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=eo(Md,e);if(cv in e){const i=e[cv];if(n===MP){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===pv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===AP?this.onConnectionShutdown_(i):n===dv?this.onReset_(i):n===DP?ch("Server Error: "+i):n===hv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ch("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hf!==i&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),fo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(PP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(NP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:mv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let l=0;l<o.length;l++)if(o[l].callback===n&&(!i||i===o[l].context)){o.splice(l,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Sw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new zl}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=32,yv=768;class Ie{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Se(){return new Ie("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xr(t){return t.pieces_.length-t.pieceNum_}function be(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ie(t.pieces_,e)}function mf(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function LP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Io(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ew(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ie(e,0)}function We(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ie)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new Ie(n,0)}function he(t){return t.pieceNum_>=t.pieces_.length}function Nt(t,e){const n=de(t),i=de(e);if(n===null)return e;if(n===i)return Nt(be(t),be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function FP(t,e){const n=Io(t,0),i=Io(e,0);for(let o=0;o<n.length&&o<i.length;o++){const l=ai(n[o],i[o]);if(l!==0)return l}return n.length===i.length?0:n.length<i.length?-1:1}function gf(t,e){if(xr(t)!==xr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ht(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(xr(t)>xr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class jP{constructor(e,n){this.errorPrefix_=n,this.parts_=Io(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ou(this.parts_[i]);xw(this)}}function VP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ou(e),xw(t)}function UP(t){const e=t.parts_.pop();t.byteLength_-=ou(e),t.parts_.length>0&&(t.byteLength_-=1)}function xw(t){if(t.byteLength_>yv)throw new Error(t.errorPrefix_+"has a key path longer than "+yv+" bytes ("+t.byteLength_+").");if(t.parts_.length>gv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+gv+") or object contains a cycle "+$r(t))}function $r(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Sw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new yf}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=1e3,BP=300*1e3,vv=30*1e3,zP=1.3,WP=3e4,$P="server_kill",_v=3;class Ln extends ww{constructor(e,n,i,o,l,u,d,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=h,this.id=Ln.nextPersistentConnectionId_++,this.log_=Ko("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=to,this.maxReconnectDelay_=BP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&zl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,l={r:o,a:e,b:n};this.log_(at(l)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new ss,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const l=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(l),n.promise}listen(e,n,i,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(u).set(l,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const l={p:i},u="q";e.tag&&(l.q=n._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest(u,l,d=>{const h=d.d,m=d.s;Ln.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(m,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cn(e,"w")){const i=Zr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',l=n._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||pT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=vv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=fT(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&(l==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const l={p:e},u="n";o&&(l.q=i,l.t=o),this.sendRequest(u,l)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const l={p:n,d:i};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,l){this.initConnection_();const u={p:n,d:i};l!==void 0&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,l=>{this.log_(n+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const l=i.d;this.log_("reportStats","Error sending stats: "+l)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+at(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):ch("Unrecognized action received from server: "+at(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>WP&&(this.reconnectDelay_=to),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*zP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Ln.nextConnectionId_++,l=this.lastSessionId;let u=!1,d=null;const h=function(){d?d.close():(u=!0,i())},m=function(y){W(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:h,sendRequest:m};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);u?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,d=new OP(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,E=>{St(E+" ("+this.repoInfo_.toString()+")"),this.interrupt($P)},l))}catch(y){this.log_("Failed to get token: "+y),u||(this.repoInfo_.nodeAdmin&&St(y),h())}}}interrupt(e){dt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],th(this.interruptReasons_)&&(this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(l=>df(l)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new Ie(e).toString();let o;if(this.listens.has(i)){const l=this.listens.get(i);o=l.get(n),l.delete(n),l.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){dt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=_v&&(this.reconnectDelay_=vv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){dt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=_v&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+J0.replace(/\./g,"-")]=1,qh()?e["framework.cordova"]=1:c0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zl.getInstance().currentlyOnline();return th(this.interruptReasons_)&&e}}Ln.nextPersistentConnectionId_=0;Ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new fe(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new fe(ri,e),o=new fe(ri,n);return this.compare(i,o)!==0}minPost(){return fe.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl;class Cw extends cu{static get __EMPTY_NODE(){return gl}static set __EMPTY_NODE(e){gl=e}compare(e,n){return ai(e.name,n.name)}isDefinedOn(e){throw is("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return fe.MIN}maxPost(){return new fe(Er,gl)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new fe(e,gl)}toString(){return".key"}}const Qr=new Cw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,i,o,l=null){this.isReverse_=o,this.resultGenerator_=l,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??ot.RED,this.left=o??Rt.EMPTY_NODE,this.right=l??Rt.EMPTY_NODE}copy(e,n,i,o,l){return new ot(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return l<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Rt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class HP{copy(e,n,i,o,l){return this}insert(e,n,i){return new ot(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(e,n=Rt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new Rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new yl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new yl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new yl(this.root_,null,this.comparator_,!0,e)}}Rt.EMPTY_NODE=new HP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t,e){return ai(t.name,e.name)}function vf(t,e){return ai(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh;function GP(t){hh=t}const Tw=function(t){return typeof t=="number"?"number:"+rw(t):"string:"+t},Iw=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cn(e,".sv"),"Priority must be a string or number.")}else W(t===hh||t.isEmpty(),"priority of unexpected type.");W(t===hh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv;class st{constructor(e,n=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Iw(this.priorityNode_)}static set __childrenNodeConstructor(e){wv=e}static get __childrenNodeConstructor(){return wv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new st(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return he(e)?this:de(e)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=de(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(W(i!==".priority"||xr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Tw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=rw(this.value_):e+=this.value_,this.lazyHash_=tw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===st.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof st.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(n),l=st.VALUE_TYPE_ORDER.indexOf(i);return W(o>=0,"Unknown leaf type: "+n),W(l>=0,"Unknown leaf type: "+i),o===l?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kw,Pw;function qP(t){kw=t}function YP(t){Pw=t}class QP extends cu{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),l=i.compareTo(o);return l===0?ai(e.name,n.name):l}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return fe.MIN}maxPost(){return new fe(Er,new st("[PRIORITY-POST]",Pw))}makePost(e,n){const i=kw(e);return new fe(n,new st("[PRIORITY-POST]",i))}toString(){return".priority"}}const Le=new QP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=Math.log(2);class JP{constructor(e){const n=l=>parseInt(Math.log(l)/XP,10),i=l=>parseInt(Array(l+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Wl=function(t,e,n,i){t.sort(e);const o=function(h,m){const g=m-h;let y,_;if(g===0)return null;if(g===1)return y=t[h],_=n?n(y):y,new ot(_,y.node,ot.BLACK,null,null);{const E=parseInt(g/2,10)+h,C=o(h,E),I=o(E+1,m);return y=t[E],_=n?n(y):y,new ot(_,y.node,ot.BLACK,C,I)}},l=function(h){let m=null,g=null,y=t.length;const _=function(C,I){const A=y-C,V=y;y-=C;const L=o(A+1,V),R=t[A],O=n?n(R):R;E(new ot(O,R.node,I,null,L))},E=function(C){m?(m.left=C,m=C):(g=C,m=C)};for(let C=0;C<h.count;++C){const I=h.nextBitIsOne(),A=Math.pow(2,h.count-(C+1));I?_(A,ot.BLACK):(_(A,ot.BLACK),_(A,ot.RED))}return g},u=new JP(t.length),d=l(u);return new Rt(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Od;const Li={};class Mn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return W(Li&&Le,"ChildrenNode.ts has not been loaded"),Od=Od||new Mn({".priority":Li},{".priority":Le}),Od}get(e){const n=Zr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rt?n:null}hasIndex(e){return cn(this.indexSet_,e.toString())}addIndex(e,n){W(e!==Qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const l=n.getIterator(fe.Wrap);let u=l.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=l.getNext();let d;o?d=Wl(i,e.getCompare()):d=Li;const h=e.toString(),m=Object.assign({},this.indexSet_);m[h]=e;const g=Object.assign({},this.indexes_);return g[h]=d,new Mn(g,m)}addToIndexes(e,n){const i=Al(this.indexes_,(o,l)=>{const u=Zr(this.indexSet_,l);if(W(u,"Missing index implementation for "+l),o===Li)if(u.isDefinedOn(e.node)){const d=[],h=n.getIterator(fe.Wrap);let m=h.getNext();for(;m;)m.name!==e.name&&d.push(m),m=h.getNext();return d.push(e),Wl(d,u.getCompare())}else return Li;else{const d=n.get(e.name);let h=o;return d&&(h=h.remove(new fe(e.name,d))),h.insert(e,e.node)}});return new Mn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Al(this.indexes_,o=>{if(o===Li)return o;{const l=n.get(e.name);return l?o.remove(new fe(e.name,l)):o}});return new Mn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no;class ie{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Iw(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return no||(no=new ie(new Rt(vf),null,Mn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||no}updatePriority(e){return this.children_.isEmpty()?this:new ie(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?no:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new fe(e,n);let o,l;n.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),l=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?no:this.priorityNode_;return new ie(o,u,l)}}updateChild(e,n){const i=de(e);if(i===null)return n;{W(de(e)!==".priority"||xr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(be(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,l=!0;if(this.forEachChild(Le,(u,d)=>{n[u]=d.val(e),i++,l&&ie.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*i){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Tw(this.getPriority().val())+":"),this.forEachChild(Le,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":tw(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const l=o.getPredecessorKey(new fe(e,n));return l?l.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new fe(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new fe(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,fe.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,fe.Wrap);let l=o.peek();for(;l!=null&&n.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Go?-1:0}withIndex(e){if(e===Qr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ie(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Qr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Le),o=n.getIterator(Le);let l=i.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=i.getNext(),u=o.getNext()}return l===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Qr?null:this.indexMap_.get(e.toString())}}ie.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class ZP extends ie{constructor(){super(new Rt(vf),ie.EMPTY_NODE,Mn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ie.EMPTY_NODE}isEmpty(){return!1}}const Go=new ZP;Object.defineProperties(fe,{MIN:{value:new fe(ri,ie.EMPTY_NODE)},MAX:{value:new fe(Er,Go)}});Cw.__EMPTY_NODE=ie.EMPTY_NODE;st.__childrenNodeConstructor=ie;GP(Go);YP(Go);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=!0;function et(t,e=null){if(t===null)return ie.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new st(n,et(e))}if(!(t instanceof Array)&&eN){const n=[];let i=!1;if(ht(t,(u,d)=>{if(u.substring(0,1)!=="."){const h=et(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new fe(u,h)))}}),n.length===0)return ie.EMPTY_NODE;const l=Wl(n,KP,u=>u.name,vf);if(i){const u=Wl(n,Le.getCompare());return new ie(l,et(e),new Mn({".priority":u},{".priority":Le}))}else return new ie(l,et(e),Mn.Default)}else{let n=ie.EMPTY_NODE;return ht(t,(i,o)=>{if(cn(t,i)&&i.substring(0,1)!=="."){const l=et(o);(l.isLeafNode()||!l.isEmpty())&&(n=n.updateImmediateChild(i,l))}}),n.updatePriority(et(e))}}qP(et);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends cu{constructor(e){super(),this.indexPath_=e,W(!he(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),l=i.compareTo(o);return l===0?ai(e.name,n.name):l}makePost(e,n){const i=et(e),o=ie.EMPTY_NODE.updateChild(this.indexPath_,i);return new fe(n,o)}maxPost(){const e=ie.EMPTY_NODE.updateChild(this.indexPath_,Go);return new fe(Er,e)}toString(){return Io(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN extends cu{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ai(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return fe.MIN}maxPost(){return fe.MAX}makePost(e,n){const i=et(e);return new fe(n,i)}toString(){return".value"}}const Nw=new tN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){return{type:"value",snapshotNode:t}}function Xi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ko(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Po(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e){this.index_=e}updateChild(e,n,i,o,l,u){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(ko(n,d)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(Xi(n,i)):u.trackChildChange(Po(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Le,(o,l)=>{n.hasChild(o)||i.trackChildChange(ko(o,l))}),n.isLeafNode()||n.forEachChild(Le,(o,l)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(l)||i.trackChildChange(Po(o,l,u))}else i.trackChildChange(Xi(o,l))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ie.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.indexedFilter_=new wf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=No.getStartPost_(e),this.endPost_=No.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,l,u){return this.matches(new fe(n,i))||(i=ie.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,l,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ie.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ie.EMPTY_NODE);const l=this;return n.forEachChild(Le,(u,d)=>{l.matches(new fe(u,d))||(o=o.updateImmediateChild(u,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new No(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,l,u){return this.rangedFilter_.matches(new fe(n,i))||(i=ie.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,l,u):this.fullLimitUpdateChild_(e,n,i,l,u)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=ie.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ie.EMPTY_NODE.withIndex(this.index_);let l;this.reverse_?l=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):l=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;l.hasNext()&&u<this.limit_;){const d=l.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ie.EMPTY_NODE);let l;this.reverse_?l=o.getReverseIterator(this.index_):l=o.getIterator(this.index_);let u=0;for(;l.hasNext();){const d=l.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:o=o.updateImmediateChild(d.name,ie.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,l){let u;if(this.reverse_){const y=this.index_.getCompare();u=(_,E)=>y(E,_)}else u=this.index_.getCompare();const d=e;W(d.numChildren()===this.limit_,"");const h=new fe(n,i),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(d.hasChild(n)){const y=d.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,m,this.reverse_);for(;_!=null&&(_.name===n||d.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const E=_==null?1:u(_,h);if(g&&!i.isEmpty()&&E>=0)return l?.trackChildChange(Po(n,i,y)),d.updateImmediateChild(n,i);{l?.trackChildChange(ko(n,y));const I=d.updateImmediateChild(n,ie.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(l?.trackChildChange(Xi(_.name,_.node)),I.updateImmediateChild(_.name,_.node)):I}}else return i.isEmpty()?e:g&&u(m,h)>=0?(l!=null&&(l.trackChildChange(ko(m.name,m.node)),l.trackChildChange(Xi(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(m.name,ie.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ri}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Er}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const e=new Sf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function iN(t){return t.loadsAllData()?new wf(t.getIndex()):t.hasLimit()?new rN(t):new No(t)}function sN(t,e){const n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function oN(t,e,n){const i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function aN(t,e,n){const i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function lN(t,e){const n=t.copy();return n.index_=e,n}function Sv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Le?n="$priority":t.index_===Nw?n="$value":t.index_===Qr?n="$key":(W(t.index_ instanceof _f,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=at(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=at(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+at(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=at(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+at(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Ev(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Le&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends ww{constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Ko("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,o){const l=e._path.toString();this.log_("Listen called for "+l+" "+e._queryIdentifier);const u=$l.getListenId_(e,i),d={};this.listens_[u]=d;const h=Sv(e._queryParams);this.restRequest_(l+".json",h,(m,g)=>{let y=g;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(l,y,!1,i),Zr(this.listens_,u)===d){let _;m?m===401?_="permission_denied":_="rest_error:"+m:_="ok",o(_,null)}})}unlisten(e,n){const i=$l.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Sv(e._queryParams),i=e._path.toString(),o=new ss;return this.restRequest_(i+".json",n,(l,u)=>{let d=u;l===404&&(d=null,l=null),l===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,l])=>{o&&o.accessToken&&(n.auth=o.accessToken),l&&l.token&&(n.ac=l.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+os(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=Eo(d.responseText)}catch{St("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,h)}else d.status!==401&&d.status!==404&&St("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.rootNode_=ie.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(){return{value:null,children:new Map}}function bw(t,e,n){if(he(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=de(e);t.children.has(i)||t.children.set(i,Hl());const o=t.children.get(i);e=be(e),bw(o,e,n)}}function fh(t,e,n){t.value!==null?n(e,t.value):cN(t,(i,o)=>{const l=new Ie(e.toString()+"/"+i);fh(o,l,n)})}function cN(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ht(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=10*1e3,hN=30*1e3,fN=300*1e3;class pN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dN(e);const i=xv+(hN-xv)*Math.random();fo(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;ht(e,(o,l)=>{l>0&&cn(this.statsToReport_,o)&&(n[o]=l,i=!0)}),i&&this.server_.reportStats(n),fo(this.reportStats_.bind(this),Math.floor(Math.random()*2*fN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(an||(an={}));function Ef(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=an.ACK_USER_WRITE,this.source=Ef()}operationForChild(e){if(he(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ie(e));return new Kl(Se(),n,this.revert)}}else return W(de(this.path)===e,"operationForChild called for unrelated child."),new Kl(be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){this.source=e,this.path=n,this.type=an.LISTEN_COMPLETE}operationForChild(e){return he(this.path)?new Ro(this.source,Se()):new Ro(this.source,be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=an.OVERWRITE}operationForChild(e){return he(this.path)?new ii(this.source,Se(),this.snap.getImmediateChild(e)):new ii(this.source,be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=an.MERGE}operationForChild(e){if(he(this.path)){const n=this.children.subtree(new Ie(e));return n.isEmpty()?null:n.value?new ii(this.source,Se(),n.value):new Ji(this.source,Se(),n)}else return W(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ji(this.source,be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(he(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gN(t,e,n,i){const o=[],l=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&l.push(nN(u.childName,u.snapshotNode))}),ro(t,o,"child_removed",e,i,n),ro(t,o,"child_added",e,i,n),ro(t,o,"child_moved",l,i,n),ro(t,o,"child_changed",e,i,n),ro(t,o,"value",e,i,n),o}function ro(t,e,n,i,o,l){const u=i.filter(d=>d.type===n);u.sort((d,h)=>vN(t,d,h)),u.forEach(d=>{const h=yN(t,d,l);o.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(h,t.query_))})})}function yN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function vN(t,e,n){if(e.childName==null||n.childName==null)throw is("Should only compare child_ events.");const i=new fe(e.childName,e.snapshotNode),o=new fe(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t,e){return{eventCache:t,serverCache:e}}function po(t,e,n,i){return du(new si(e,n,i),t.serverCache)}function Aw(t,e,n,i){return du(t.eventCache,new si(e,n,i))}function ph(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function oi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld;const _N=()=>(Ld||(Ld=new Rt(tP)),Ld);class Re{constructor(e,n=_N()){this.value=e,this.children=n}static fromObject(e){let n=new Re(null);return ht(e,(i,o)=>{n=n.set(new Ie(i),o)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Se(),value:this.value};if(he(e))return null;{const i=de(e),o=this.children.get(i);if(o!==null){const l=o.findRootMostMatchingPathAndValue(be(e),n);return l!=null?{path:We(new Ie(i),l.path),value:l.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(he(e))return this;{const n=de(e),i=this.children.get(n);return i!==null?i.subtree(be(e)):new Re(null)}}set(e,n){if(he(e))return new Re(n,this.children);{const i=de(e),l=(this.children.get(i)||new Re(null)).set(be(e),n),u=this.children.insert(i,l);return new Re(this.value,u)}}remove(e){if(he(e))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=de(e),i=this.children.get(n);if(i){const o=i.remove(be(e));let l;return o.isEmpty()?l=this.children.remove(n):l=this.children.insert(n,o),this.value===null&&l.isEmpty()?new Re(null):new Re(this.value,l)}else return this}}get(e){if(he(e))return this.value;{const n=de(e),i=this.children.get(n);return i?i.get(be(e)):null}}setTree(e,n){if(he(e))return n;{const i=de(e),l=(this.children.get(i)||new Re(null)).setTree(be(e),n);let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),new Re(this.value,u)}}fold(e){return this.fold_(Se(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,l)=>{i[o]=l.fold_(We(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Se(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(he(e))return null;{const l=de(e),u=this.children.get(l);return u?u.findOnPath_(be(e),We(n,l),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Se(),n)}foreachOnPath_(e,n,i){if(he(e))return this;{this.value&&i(n,this.value);const o=de(e),l=this.children.get(o);return l?l.foreachOnPath_(be(e),We(n,o),i):new Re(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(We(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.writeTree_=e}static empty(){return new un(new Re(null))}}function mo(t,e,n){if(he(e))return new un(new Re(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let l=i.value;const u=Nt(o,e);return l=l.updateChild(u,n),new un(t.writeTree_.set(o,l))}else{const o=new Re(n),l=t.writeTree_.setTree(e,o);return new un(l)}}}function mh(t,e,n){let i=t;return ht(n,(o,l)=>{i=mo(i,We(e,o),l)}),i}function Cv(t,e){if(he(e))return un.empty();{const n=t.writeTree_.setTree(e,new Re(null));return new un(n)}}function gh(t,e){return li(t,e)!=null}function li(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Nt(n.path,e)):null}function Tv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Le,(i,o)=>{e.push(new fe(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new fe(i,o.value))}),e}function _r(t,e){if(he(e))return t;{const n=li(t,e);return n!=null?new un(new Re(n)):new un(t.writeTree_.subtree(e))}}function yh(t){return t.writeTree_.isEmpty()}function Zi(t,e){return Dw(Se(),t.writeTree_,e)}function Dw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,l)=>{o===".priority"?(W(l.value!==null,"Priority writes must always be leaf nodes"),i=l.value):n=Dw(We(t,o),l,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(We(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t,e){return Fw(e,t)}function wN(t,e,n,i,o){W(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=mo(t.visibleWrites,e,n)),t.lastWriteId=i}function SN(t,e,n,i){W(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=mh(t.visibleWrites,e,n),t.lastWriteId=i}function EN(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function xN(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,l=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&CN(d,i.path)?o=!1:Ht(i.path,d.path)&&(l=!0)),u--}if(o){if(l)return TN(t),!0;if(i.snap)t.visibleWrites=Cv(t.visibleWrites,i.path);else{const d=i.children;ht(d,h=>{t.visibleWrites=Cv(t.visibleWrites,We(i.path,h))})}return!0}else return!1}function CN(t,e){if(t.snap)return Ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ht(We(t.path,n),e))return!0;return!1}function TN(t){t.visibleWrites=Mw(t.allWrites,IN,Se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function IN(t){return t.visible}function Mw(t,e,n){let i=un.empty();for(let o=0;o<t.length;++o){const l=t[o];if(e(l)){const u=l.path;let d;if(l.snap)Ht(n,u)?(d=Nt(n,u),i=mo(i,d,l.snap)):Ht(u,n)&&(d=Nt(u,n),i=mo(i,Se(),l.snap.getChild(d)));else if(l.children){if(Ht(n,u))d=Nt(n,u),i=mh(i,d,l.children);else if(Ht(u,n))if(d=Nt(u,n),he(d))i=mh(i,Se(),l.children);else{const h=Zr(l.children,de(d));if(h){const m=h.getChild(be(d));i=mo(i,Se(),m)}}}else throw is("WriteRecord should have .snap or .children")}}return i}function Ow(t,e,n,i,o){if(!i&&!o){const l=li(t.visibleWrites,e);if(l!=null)return l;{const u=_r(t.visibleWrites,e);if(yh(u))return n;if(n==null&&!gh(u,Se()))return null;{const d=n||ie.EMPTY_NODE;return Zi(u,d)}}}else{const l=_r(t.visibleWrites,e);if(!o&&yh(l))return n;if(!o&&n==null&&!gh(l,Se()))return null;{const u=function(m){return(m.visible||o)&&(!i||!~i.indexOf(m.writeId))&&(Ht(m.path,e)||Ht(e,m.path))},d=Mw(t.allWrites,u,e),h=n||ie.EMPTY_NODE;return Zi(d,h)}}}function kN(t,e,n){let i=ie.EMPTY_NODE;const o=li(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Le,(l,u)=>{i=i.updateImmediateChild(l,u)}),i;if(n){const l=_r(t.visibleWrites,e);return n.forEachChild(Le,(u,d)=>{const h=Zi(_r(l,new Ie(u)),d);i=i.updateImmediateChild(u,h)}),Tv(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const l=_r(t.visibleWrites,e);return Tv(l).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function PN(t,e,n,i,o){W(i||o,"Either existingEventSnap or existingServerSnap must exist");const l=We(e,n);if(gh(t.visibleWrites,l))return null;{const u=_r(t.visibleWrites,l);return yh(u)?o.getChild(n):Zi(u,o.getChild(n))}}function NN(t,e,n,i){const o=We(e,n),l=li(t.visibleWrites,o);if(l!=null)return l;if(i.isCompleteForChild(n)){const u=_r(t.visibleWrites,o);return Zi(u,i.getNode().getImmediateChild(n))}else return null}function RN(t,e){return li(t.visibleWrites,e)}function bN(t,e,n,i,o,l,u){let d;const h=_r(t.visibleWrites,e),m=li(h,Se());if(m!=null)d=m;else if(n!=null)d=Zi(h,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const g=[],y=u.getCompare(),_=l?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let E=_.getNext();for(;E&&g.length<o;)y(E,i)!==0&&g.push(E),E=_.getNext();return g}else return[]}function AN(){return{visibleWrites:un.empty(),allWrites:[],lastWriteId:-1}}function Gl(t,e,n,i){return Ow(t.writeTree,t.treePath,e,n,i)}function If(t,e){return kN(t.writeTree,t.treePath,e)}function Iv(t,e,n,i){return PN(t.writeTree,t.treePath,e,n,i)}function ql(t,e){return RN(t.writeTree,We(t.treePath,e))}function DN(t,e,n,i,o,l){return bN(t.writeTree,t.treePath,e,n,i,o,l)}function kf(t,e,n){return NN(t.writeTree,t.treePath,e,n)}function Lw(t,e){return Fw(We(t.treePath,e),t.writeTree)}function Fw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const l=o.type;if(n==="child_added"&&l==="child_removed")this.changeMap.set(i,Po(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&l==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&l==="child_changed")this.changeMap.set(i,ko(i,o.oldSnap));else if(n==="child_changed"&&l==="child_added")this.changeMap.set(i,Xi(i,e.snapshotNode));else if(n==="child_changed"&&l==="child_changed")this.changeMap.set(i,Po(i,e.snapshotNode,o.oldSnap));else throw is("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const jw=new ON;class Pf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kf(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:oi(this.viewCache_),l=DN(this.writes_,o,n,1,i,e);return l.length===0?null:l[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){return{filter:t}}function FN(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function jN(t,e,n,i,o){const l=new MN;let u,d;if(n.type===an.OVERWRITE){const m=n;m.source.fromUser?u=vh(t,e,m.path,m.snap,i,o,l):(W(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!he(m.path),u=Yl(t,e,m.path,m.snap,i,o,d,l))}else if(n.type===an.MERGE){const m=n;m.source.fromUser?u=UN(t,e,m.path,m.children,i,o,l):(W(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),u=_h(t,e,m.path,m.children,i,o,d,l))}else if(n.type===an.ACK_USER_WRITE){const m=n;m.revert?u=WN(t,e,m.path,i,o,l):u=BN(t,e,m.path,m.affectedTree,i,o,l)}else if(n.type===an.LISTEN_COMPLETE)u=zN(t,e,n.path,i,l);else throw is("Unknown operation type: "+n.type);const h=l.getChanges();return VN(e,u,h),{viewCache:u,changes:h}}function VN(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),l=ph(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(l)||!i.getNode().getPriority().equals(l.getPriority()))&&n.push(Rw(ph(e)))}}function Vw(t,e,n,i,o,l){const u=e.eventCache;if(ql(i,n)!=null)return e;{let d,h;if(he(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=oi(e),g=m instanceof ie?m:ie.EMPTY_NODE,y=If(i,g);d=t.filter.updateFullNode(e.eventCache.getNode(),y,l)}else{const m=Gl(i,oi(e));d=t.filter.updateFullNode(e.eventCache.getNode(),m,l)}else{const m=de(n);if(m===".priority"){W(xr(n)===1,"Can't have a priority with additional path components");const g=u.getNode();h=e.serverCache.getNode();const y=Iv(i,n,g,h);y!=null?d=t.filter.updatePriority(g,y):d=u.getNode()}else{const g=be(n);let y;if(u.isCompleteForChild(m)){h=e.serverCache.getNode();const _=Iv(i,n,u.getNode(),h);_!=null?y=u.getNode().getImmediateChild(m).updateChild(g,_):y=u.getNode().getImmediateChild(m)}else y=kf(i,m,e.serverCache);y!=null?d=t.filter.updateChild(u.getNode(),m,y,g,o,l):d=u.getNode()}}return po(e,d,u.isFullyInitialized()||he(n),t.filter.filtersNodes())}}function Yl(t,e,n,i,o,l,u,d){const h=e.serverCache;let m;const g=u?t.filter:t.filter.getIndexedFilter();if(he(n))m=g.updateFullNode(h.getNode(),i,null);else if(g.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(n,i);m=g.updateFullNode(h.getNode(),E,null)}else{const E=de(n);if(!h.isCompleteForPath(n)&&xr(n)>1)return e;const C=be(n),A=h.getNode().getImmediateChild(E).updateChild(C,i);E===".priority"?m=g.updatePriority(h.getNode(),A):m=g.updateChild(h.getNode(),E,A,C,jw,null)}const y=Aw(e,m,h.isFullyInitialized()||he(n),g.filtersNodes()),_=new Pf(o,y,l);return Vw(t,y,n,o,_,d)}function vh(t,e,n,i,o,l,u){const d=e.eventCache;let h,m;const g=new Pf(o,e,l);if(he(n))m=t.filter.updateFullNode(e.eventCache.getNode(),i,u),h=po(e,m,!0,t.filter.filtersNodes());else{const y=de(n);if(y===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),i),h=po(e,m,d.isFullyInitialized(),d.isFiltered());else{const _=be(n),E=d.getNode().getImmediateChild(y);let C;if(he(_))C=i;else{const I=g.getCompleteChild(y);I!=null?mf(_)===".priority"&&I.getChild(Ew(_)).isEmpty()?C=I:C=I.updateChild(_,i):C=ie.EMPTY_NODE}if(E.equals(C))h=e;else{const I=t.filter.updateChild(d.getNode(),y,C,_,g,u);h=po(e,I,d.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function kv(t,e){return t.eventCache.isCompleteForChild(e)}function UN(t,e,n,i,o,l,u){let d=e;return i.foreach((h,m)=>{const g=We(n,h);kv(e,de(g))&&(d=vh(t,d,g,m,o,l,u))}),i.foreach((h,m)=>{const g=We(n,h);kv(e,de(g))||(d=vh(t,d,g,m,o,l,u))}),d}function Pv(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function _h(t,e,n,i,o,l,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,m;he(n)?m=i:m=new Re(null).setTree(n,i);const g=e.serverCache.getNode();return m.children.inorderTraversal((y,_)=>{if(g.hasChild(y)){const E=e.serverCache.getNode().getImmediateChild(y),C=Pv(t,E,_);h=Yl(t,h,new Ie(y),C,o,l,u,d)}}),m.children.inorderTraversal((y,_)=>{const E=!e.serverCache.isCompleteForChild(y)&&_.value===null;if(!g.hasChild(y)&&!E){const C=e.serverCache.getNode().getImmediateChild(y),I=Pv(t,C,_);h=Yl(t,h,new Ie(y),I,o,l,u,d)}}),h}function BN(t,e,n,i,o,l,u){if(ql(o,n)!=null)return e;const d=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(he(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Yl(t,e,n,h.getNode().getChild(n),o,l,d,u);if(he(n)){let m=new Re(null);return h.getNode().forEachChild(Qr,(g,y)=>{m=m.set(new Ie(g),y)}),_h(t,e,n,m,o,l,d,u)}else return e}else{let m=new Re(null);return i.foreach((g,y)=>{const _=We(n,g);h.isCompleteForPath(_)&&(m=m.set(g,h.getNode().getChild(_)))}),_h(t,e,n,m,o,l,d,u)}}function zN(t,e,n,i,o){const l=e.serverCache,u=Aw(e,l.getNode(),l.isFullyInitialized()||he(n),l.isFiltered());return Vw(t,u,n,i,jw,o)}function WN(t,e,n,i,o,l){let u;if(ql(i,n)!=null)return e;{const d=new Pf(i,e,o),h=e.eventCache.getNode();let m;if(he(n)||de(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Gl(i,oi(e));else{const y=e.serverCache.getNode();W(y instanceof ie,"serverChildren would be complete if leaf node"),g=If(i,y)}g=g,m=t.filter.updateFullNode(h,g,l)}else{const g=de(n);let y=kf(i,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=h.getImmediateChild(g)),y!=null?m=t.filter.updateChild(h,g,y,be(n),d,l):e.eventCache.getNode().hasChild(g)?m=t.filter.updateChild(h,g,ie.EMPTY_NODE,be(n),d,l):m=h,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Gl(i,oi(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,l)))}return u=e.serverCache.isFullyInitialized()||ql(i,Se())!=null,po(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new wf(i.getIndex()),l=iN(i);this.processor_=LN(l);const u=n.serverCache,d=n.eventCache,h=o.updateFullNode(ie.EMPTY_NODE,u.getNode(),null),m=l.updateFullNode(ie.EMPTY_NODE,d.getNode(),null),g=new si(h,u.isFullyInitialized(),o.filtersNodes()),y=new si(m,d.isFullyInitialized(),l.filtersNodes());this.viewCache_=du(y,g),this.eventGenerator_=new mN(this.query_)}get query(){return this.query_}}function HN(t){return t.viewCache_.serverCache.getNode()}function KN(t,e){const n=oi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!he(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function Nv(t){return t.eventRegistrations_.length===0}function GN(t,e){t.eventRegistrations_.push(e)}function Rv(t,e,n){const i=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(l=>{const u=l.createCancelEvent(n,o);u&&i.push(u)})}if(e){let o=[];for(let l=0;l<t.eventRegistrations_.length;++l){const u=t.eventRegistrations_[l];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(l+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function bv(t,e,n,i){e.type===an.MERGE&&e.source.queryId!==null&&(W(oi(t.viewCache_),"We should always have a full cache before handling merges"),W(ph(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,l=jN(t.processor_,o,e,n,i);return FN(t.processor_,l.viewCache),W(l.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,Uw(t,l.changes,l.viewCache.eventCache.getNode(),null)}function qN(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Le,(l,u)=>{i.push(Xi(l,u))}),n.isFullyInitialized()&&i.push(Rw(n.getNode())),Uw(t,i,n.getNode(),e)}function Uw(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return gN(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql;class YN{constructor(){this.views=new Map}}function QN(t){W(!Ql,"__referenceConstructor has already been defined"),Ql=t}function XN(){return W(Ql,"Reference.ts has not been loaded"),Ql}function JN(t){return t.views.size===0}function Nf(t,e,n,i){const o=e.source.queryId;if(o!==null){const l=t.views.get(o);return W(l!=null,"SyncTree gave us an op for an invalid query."),bv(l,e,n,i)}else{let l=[];for(const u of t.views.values())l=l.concat(bv(u,e,n,i));return l}}function ZN(t,e,n,i,o){const l=e._queryIdentifier,u=t.views.get(l);if(!u){let d=Gl(n,o?i:null),h=!1;d?h=!0:i instanceof ie?(d=If(n,i),h=!1):(d=ie.EMPTY_NODE,h=!1);const m=du(new si(d,h,!1),new si(i,o,!1));return new $N(e,m)}return u}function eR(t,e,n,i,o,l){const u=ZN(t,e,i,o,l);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),GN(u,n),qN(u,n)}function tR(t,e,n,i){const o=e._queryIdentifier,l=[];let u=[];const d=Cr(t);if(o==="default")for(const[h,m]of t.views.entries())u=u.concat(Rv(m,n,i)),Nv(m)&&(t.views.delete(h),m.query._queryParams.loadsAllData()||l.push(m.query));else{const h=t.views.get(o);h&&(u=u.concat(Rv(h,n,i)),Nv(h)&&(t.views.delete(o),h.query._queryParams.loadsAllData()||l.push(h.query)))}return d&&!Cr(t)&&l.push(new(XN())(e._repo,e._path)),{removed:l,events:u}}function Bw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Gi(t,e){let n=null;for(const i of t.views.values())n=n||KN(i,e);return n}function zw(t,e){if(e._queryParams.loadsAllData())return hu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function Ww(t,e){return zw(t,e)!=null}function Cr(t){return hu(t)!=null}function hu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl;function nR(t){W(!Xl,"__referenceConstructor has already been defined"),Xl=t}function rR(){return W(Xl,"Reference.ts has not been loaded"),Xl}let iR=1;class Av{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Re(null),this.pendingWriteTree_=AN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Rf(t,e,n,i,o){return wN(t.pendingWriteTree_,e,n,i,o),o?cs(t,new ii(Ef(),e,n)):[]}function sR(t,e,n,i){SN(t.pendingWriteTree_,e,n,i);const o=Re.fromObject(n);return cs(t,new Ji(Ef(),e,o))}function mr(t,e,n=!1){const i=EN(t.pendingWriteTree_,e);if(xN(t.pendingWriteTree_,e)){let l=new Re(null);return i.snap!=null?l=l.set(Se(),!0):ht(i.children,u=>{l=l.set(new Ie(u),!0)}),cs(t,new Kl(i.path,l,n))}else return[]}function fu(t,e,n){return cs(t,new ii(xf(),e,n))}function oR(t,e,n){const i=Re.fromObject(n);return cs(t,new Ji(xf(),e,i))}function aR(t,e){return cs(t,new Ro(xf(),e))}function lR(t,e,n){const i=bf(t,n);if(i){const o=Af(i),l=o.path,u=o.queryId,d=Nt(l,e),h=new Ro(Cf(u),d);return Df(t,l,h)}else return[]}function wh(t,e,n,i,o=!1){const l=e._path,u=t.syncPointTree_.get(l);let d=[];if(u&&(e._queryIdentifier==="default"||Ww(u,e))){const h=tR(u,e,n,i);JN(u)&&(t.syncPointTree_=t.syncPointTree_.remove(l));const m=h.removed;if(d=h.events,!o){const g=m.findIndex(_=>_._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(l,(_,E)=>Cr(E));if(g&&!y){const _=t.syncPointTree_.subtree(l);if(!_.isEmpty()){const E=dR(_);for(let C=0;C<E.length;++C){const I=E[C],A=I.query,V=Kw(t,I);t.listenProvider_.startListening(go(A),Jl(t,A),V.hashFn,V.onComplete)}}}!y&&m.length>0&&!i&&(g?t.listenProvider_.stopListening(go(e),null):m.forEach(_=>{const E=t.queryToTagMap.get(mu(_));t.listenProvider_.stopListening(go(_),E)}))}hR(t,m)}return d}function uR(t,e,n,i){const o=bf(t,i);if(o!=null){const l=Af(o),u=l.path,d=l.queryId,h=Nt(u,e),m=new ii(Cf(d),h,n);return Df(t,u,m)}else return[]}function cR(t,e,n,i){const o=bf(t,i);if(o){const l=Af(o),u=l.path,d=l.queryId,h=Nt(u,e),m=Re.fromObject(n),g=new Ji(Cf(d),h,m);return Df(t,u,g)}else return[]}function Dv(t,e,n,i=!1){const o=e._path;let l=null,u=!1;t.syncPointTree_.foreachOnPath(o,(_,E)=>{const C=Nt(_,o);l=l||Gi(E,C),u=u||Cr(E)});let d=t.syncPointTree_.get(o);d?(u=u||Cr(d),l=l||Gi(d,Se())):(d=new YN,t.syncPointTree_=t.syncPointTree_.set(o,d));let h;l!=null?h=!0:(h=!1,l=ie.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((E,C)=>{const I=Gi(C,Se());I&&(l=l.updateImmediateChild(E,I))}));const m=Ww(d,e);if(!m&&!e._queryParams.loadsAllData()){const _=mu(e);W(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const E=fR();t.queryToTagMap.set(_,E),t.tagToQueryMap.set(E,_)}const g=Tf(t.pendingWriteTree_,o);let y=eR(d,e,n,g,l,h);if(!m&&!u&&!i){const _=zw(d,e);y=y.concat(pR(t,e,_))}return y}function pu(t,e,n){const o=t.pendingWriteTree_,l=t.syncPointTree_.findOnPath(e,(u,d)=>{const h=Nt(u,e),m=Gi(d,h);if(m)return m});return Ow(o,e,l,n,!0)}function cs(t,e){return $w(e,t.syncPointTree_,null,Tf(t.pendingWriteTree_,Se()))}function $w(t,e,n,i){if(he(t.path))return Hw(t,e,n,i);{const o=e.get(Se());n==null&&o!=null&&(n=Gi(o,Se()));let l=[];const u=de(t.path),d=t.operationForChild(u),h=e.children.get(u);if(h&&d){const m=n?n.getImmediateChild(u):null,g=Lw(i,u);l=l.concat($w(d,h,m,g))}return o&&(l=l.concat(Nf(o,t,i,n))),l}}function Hw(t,e,n,i){const o=e.get(Se());n==null&&o!=null&&(n=Gi(o,Se()));let l=[];return e.children.inorderTraversal((u,d)=>{const h=n?n.getImmediateChild(u):null,m=Lw(i,u),g=t.operationForChild(u);g&&(l=l.concat(Hw(g,d,h,m)))}),o&&(l=l.concat(Nf(o,t,i,n))),l}function Kw(t,e){const n=e.query,i=Jl(t,n);return{hashFn:()=>(HN(e)||ie.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?lR(t,n._path,i):aR(t,n._path);{const l=iP(o,n);return wh(t,n,null,l)}}}}function Jl(t,e){const n=mu(e);return t.queryToTagMap.get(n)}function mu(t){return t._path.toString()+"$"+t._queryIdentifier}function bf(t,e){return t.tagToQueryMap.get(e)}function Af(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ie(t.substr(0,e))}}function Df(t,e,n){const i=t.syncPointTree_.get(e);W(i,"Missing sync point for query tag that we're tracking");const o=Tf(t.pendingWriteTree_,e);return Nf(i,n,o,null)}function dR(t){return t.fold((e,n,i)=>{if(n&&Cr(n))return[hu(n)];{let o=[];return n&&(o=Bw(n)),ht(i,(l,u)=>{o=o.concat(u)}),o}})}function go(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(rR())(t._repo,t._path):t}function hR(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=mu(i),l=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(l)}}}function fR(){return iR++}function pR(t,e,n){const i=e._path,o=Jl(t,e),l=Kw(t,n),u=t.listenProvider_.startListening(go(e),o,l.hashFn,l.onComplete),d=t.syncPointTree_.subtree(i);if(o)W(!Cr(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((m,g,y)=>{if(!he(m)&&g&&Cr(g))return[hu(g).query];{let _=[];return g&&(_=_.concat(Bw(g).map(E=>E.query))),ht(y,(E,C)=>{_=_.concat(C)}),_}});for(let m=0;m<h.length;++m){const g=h[m];t.listenProvider_.stopListening(go(g),Jl(t,g))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Mf(n)}node(){return this.node_}}class Of{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=We(this.path_,e);return new Of(this.syncTree_,n)}node(){return pu(this.syncTree_,this.path_)}}const mR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Mv=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return gR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return yR(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},gR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},yR=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&W(!1,"Unexpected increment value: "+i);const o=e.node();if(W(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},Gw=function(t,e,n,i){return Ff(e,new Of(n,t),i)},Lf=function(t,e,n){return Ff(t,new Mf(e),n)};function Ff(t,e,n){const i=t.getPriority().val(),o=Mv(i,e.getImmediateChild(".priority"),n);let l;if(t.isLeafNode()){const u=t,d=Mv(u.getValue(),e,n);return d!==u.getValue()||o!==u.getPriority().val()?new st(d,et(o)):t}else{const u=t;return l=u,o!==u.getPriority().val()&&(l=l.updatePriority(new st(o))),u.forEachChild(Le,(d,h)=>{const m=Ff(h,e.getImmediateChild(d),n);m!==h&&(l=l.updateImmediateChild(d,m))}),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function gu(t,e){let n=e instanceof Ie?e:new Ie(e),i=t,o=de(n);for(;o!==null;){const l=Zr(i.node.children,o)||{children:{},childCount:0};i=new jf(o,i,l),n=be(n),o=de(n)}return i}function ui(t){return t.node.value}function Vf(t,e){t.node.value=e,Sh(t)}function qw(t){return t.node.childCount>0}function vR(t){return ui(t)===void 0&&!qw(t)}function yu(t,e){ht(t.node.children,(n,i)=>{e(new jf(n,t,i))})}function Yw(t,e,n,i){n&&e(t),yu(t,o=>{Yw(o,e,!0)})}function _R(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function qo(t){return new Ie(t.parent===null?t.name:qo(t.parent)+"/"+t.name)}function Sh(t){t.parent!==null&&wR(t.parent,t.name,t)}function wR(t,e,n){const i=vR(n),o=cn(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,Sh(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Sh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=/[\[\].#$\/\u0000-\u001F\u007F]/,ER=/[\[\].#$\u0000-\u001F\u007F]/,Fd=10*1024*1024,Uf=function(t){return typeof t=="string"&&t.length!==0&&!SR.test(t)},Qw=function(t){return typeof t=="string"&&t.length!==0&&!ER.test(t)},xR=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Qw(t)},Zl=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!cf(t)||t&&typeof t=="object"&&cn(t,".sv")},Yo=function(t,e,n,i){i&&e===void 0||Qo(su(t,"value"),e,n)},Qo=function(t,e,n){const i=n instanceof Ie?new jP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+$r(i));if(typeof e=="function")throw new Error(t+"contains a function "+$r(i)+" with contents = "+e.toString());if(cf(e))throw new Error(t+"contains "+e.toString()+" "+$r(i));if(typeof e=="string"&&e.length>Fd/3&&ou(e)>Fd)throw new Error(t+"contains a string greater than "+Fd+" utf8 bytes "+$r(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,l=!1;if(ht(e,(u,d)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(l=!0,!Uf(u)))throw new Error(t+" contains an invalid key ("+u+") "+$r(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);VP(i,u),Qo(t,d,i),UP(i)}),o&&l)throw new Error(t+' contains ".value" child '+$r(i)+" in addition to actual children.")}},CR=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const l=Io(i);for(let u=0;u<l.length;u++)if(!(l[u]===".priority"&&u===l.length-1)){if(!Uf(l[u]))throw new Error(t+"contains an invalid key ("+l[u]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(FP);let o=null;for(n=0;n<e.length;n++){if(i=e[n],o!==null&&Ht(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},TR=function(t,e,n,i){const o=su(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const l=[];ht(e,(u,d)=>{const h=new Ie(u);if(Qo(o,d,We(n,h)),mf(h)===".priority"&&!Zl(d))throw new Error(o+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");l.push(h)}),CR(o,l)},Bf=function(t,e,n,i){if(!Qw(n))throw new Error(su(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IR=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Bf(t,e,n)},vu=function(t,e){if(de(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},kR=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Uf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!xR(n))throw new Error(su(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _u(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],l=o.getPath();n!==null&&!gf(l,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:l}),n.events.push(o)}n&&t.eventLists_.push(n)}function Xw(t,e,n){_u(t,n),Jw(t,i=>gf(i,e))}function Yt(t,e,n){_u(t,n),Jw(t,i=>Ht(i,e)||Ht(e,i))}function Jw(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const l=o.path;e(l)?(NR(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function NR(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ho&&dt("event: "+n.toString()),us(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="repo_interrupt",bR=25;class AR{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new PR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hl(),this.transactionQueueTree_=new jf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DR(t,e,n){if(t.stats_=ff(t.repoInfo_),t.forceRestClient_||lP())t.server_=new $l(t.repoInfo_,(i,o,l,u)=>{Ov(t,i,o,l,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Lv(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Ln(t.repoInfo_,e,(i,o,l,u)=>{Ov(t,i,o,l,u)},i=>{Lv(t,i)},i=>{MR(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=fP(t.repoInfo_,()=>new pN(t.stats_,t.server_)),t.infoData_=new uN,t.infoSyncTree_=new Av({startListening:(i,o,l,u)=>{let d=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(d=fu(t.infoSyncTree_,i._path,h),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),zf(t,"connected",!1),t.serverSyncTree_=new Av({startListening:(i,o,l,u)=>(t.server_.listen(i,l,o,(d,h)=>{const m=u(d,h);Yt(t.eventQueue_,i._path,m)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function Zw(t){const n=t.infoData_.getNode(new Ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Xo(t){return mR({timestamp:Zw(t)})}function Ov(t,e,n,i,o){t.dataUpdateCount++;const l=new Ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(i){const h=Al(n,m=>et(m));u=cR(t.serverSyncTree_,l,h,o)}else{const h=et(n);u=uR(t.serverSyncTree_,l,h,o)}else if(i){const h=Al(n,m=>et(m));u=oR(t.serverSyncTree_,l,h)}else{const h=et(n);u=fu(t.serverSyncTree_,l,h)}let d=l;u.length>0&&(d=es(t,l)),Yt(t.eventQueue_,d,u)}function Lv(t,e){zf(t,"connected",e),e===!1&&FR(t)}function MR(t,e){ht(e,(n,i)=>{zf(t,n,i)})}function zf(t,e,n){const i=new Ie("/.info/"+e),o=et(n);t.infoData_.updateSnapshot(i,o);const l=fu(t.infoSyncTree_,i,o);Yt(t.eventQueue_,i,l)}function wu(t){return t.nextWriteId_++}function OR(t,e,n,i,o){Jo(t,"set",{path:e.toString(),value:n,priority:i});const l=Xo(t),u=et(n,i),d=pu(t.serverSyncTree_,e),h=Lf(u,d,l),m=wu(t),g=Rf(t.serverSyncTree_,e,h,m,!0);_u(t.eventQueue_,g),t.server_.put(e.toString(),u.val(!0),(_,E)=>{const C=_==="ok";C||St("set at "+e+" failed: "+_);const I=mr(t.serverSyncTree_,m,!C);Yt(t.eventQueue_,e,I),Eh(t,o,_,E)});const y=$f(t,e);es(t,y),Yt(t.eventQueue_,y,[])}function LR(t,e,n,i){Jo(t,"update",{path:e.toString(),value:n});let o=!0;const l=Xo(t),u={};if(ht(n,(d,h)=>{o=!1,u[d]=Gw(We(e,d),et(h),t.serverSyncTree_,l)}),o)dt("update() called with empty data.  Don't do anything."),Eh(t,i,"ok",void 0);else{const d=wu(t),h=sR(t.serverSyncTree_,e,u,d);_u(t.eventQueue_,h),t.server_.merge(e.toString(),n,(m,g)=>{const y=m==="ok";y||St("update at "+e+" failed: "+m);const _=mr(t.serverSyncTree_,d,!y),E=_.length>0?es(t,e):e;Yt(t.eventQueue_,E,_),Eh(t,i,m,g)}),ht(n,m=>{const g=$f(t,We(e,m));es(t,g)}),Yt(t.eventQueue_,e,[])}}function FR(t){Jo(t,"onDisconnectEvents");const e=Xo(t),n=Hl();fh(t.onDisconnect_,Se(),(o,l)=>{const u=Gw(o,l,t.serverSyncTree_,e);bw(n,o,u)});let i=[];fh(n,Se(),(o,l)=>{i=i.concat(fu(t.serverSyncTree_,o,l));const u=$f(t,o);es(t,u)}),t.onDisconnect_=Hl(),Yt(t.eventQueue_,Se(),i)}function jR(t,e,n){let i;de(e._path)===".info"?i=Dv(t.infoSyncTree_,e,n):i=Dv(t.serverSyncTree_,e,n),Xw(t.eventQueue_,e._path,i)}function Fv(t,e,n){let i;de(e._path)===".info"?i=wh(t.infoSyncTree_,e,n):i=wh(t.serverSyncTree_,e,n),Xw(t.eventQueue_,e._path,i)}function VR(t){t.persistentConnection_&&t.persistentConnection_.interrupt(RR)}function Jo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dt(n,...e)}function Eh(t,e,n,i){e&&us(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let l=o;i&&(l+=": "+i);const u=new Error(l);u.code=o,e(u)}})}function UR(t,e,n,i,o,l){Jo(t,"transaction on "+e);const u={path:e,update:n,onComplete:i,status:null,order:ew(),applyLocally:l,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=Wf(t,e,void 0);u.currentInputSnapshot=d;const h=u.update(d.val());if(h===void 0)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Qo("transaction failed: Data returned ",h,u.path),u.status=0;const m=gu(t.transactionQueueTree_,e),g=ui(m)||[];g.push(u),Vf(m,g);let y;typeof h=="object"&&h!==null&&cn(h,".priority")?(y=Zr(h,".priority"),W(Zl(y),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):y=(pu(t.serverSyncTree_,e)||ie.EMPTY_NODE).getPriority().val();const _=Xo(t),E=et(h,y),C=Lf(E,d,_);u.currentOutputSnapshotRaw=E,u.currentOutputSnapshotResolved=C,u.currentWriteId=wu(t);const I=Rf(t.serverSyncTree_,e,C,u.currentWriteId,u.applyLocally);Yt(t.eventQueue_,e,I),Su(t,t.transactionQueueTree_)}}function Wf(t,e,n){return pu(t.serverSyncTree_,e,n)||ie.EMPTY_NODE}function Su(t,e=t.transactionQueueTree_){if(e||Eu(t,e),ui(e)){const n=tS(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&BR(t,qo(e),n)}else qw(e)&&yu(e,n=>{Su(t,n)})}function BR(t,e,n){const i=n.map(m=>m.currentWriteId),o=Wf(t,e,i);let l=o;const u=o.hash();for(let m=0;m<n.length;m++){const g=n[m];W(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Nt(e,g.path);l=l.updateChild(y,g.currentOutputSnapshotRaw)}const d=l.val(!0),h=e;t.server_.put(h.toString(),d,m=>{Jo(t,"transaction put response",{path:h.toString(),status:m});let g=[];if(m==="ok"){const y=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(mr(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&y.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Eu(t,gu(t.transactionQueueTree_,e)),Su(t,t.transactionQueueTree_),Yt(t.eventQueue_,e,g);for(let _=0;_<y.length;_++)us(y[_])}else{if(m==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{St("transaction at "+h.toString()+" failed: "+m);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=m}es(t,e)}},u)}function es(t,e){const n=eS(t,e),i=qo(n),o=tS(t,n);return zR(t,o,i),i}function zR(t,e,n){if(e.length===0)return;const i=[];let o=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const h=e[d],m=Nt(n,h.path);let g=!1,y;if(W(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,y=h.abortReason,o=o.concat(mr(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=bR)g=!0,y="maxretry",o=o.concat(mr(t.serverSyncTree_,h.currentWriteId,!0));else{const _=Wf(t,h.path,u);h.currentInputSnapshot=_;const E=e[d].update(_.val());if(E!==void 0){Qo("transaction failed: Data returned ",E,h.path);let C=et(E);typeof E=="object"&&E!=null&&cn(E,".priority")||(C=C.updatePriority(_.getPriority()));const A=h.currentWriteId,V=Xo(t),L=Lf(C,_,V);h.currentOutputSnapshotRaw=C,h.currentOutputSnapshotResolved=L,h.currentWriteId=wu(t),u.splice(u.indexOf(A),1),o=o.concat(Rf(t.serverSyncTree_,h.path,L,h.currentWriteId,h.applyLocally)),o=o.concat(mr(t.serverSyncTree_,A,!0))}else g=!0,y="nodata",o=o.concat(mr(t.serverSyncTree_,h.currentWriteId,!0))}Yt(t.eventQueue_,n,o),o=[],g&&(e[d].status=2,(function(_){setTimeout(_,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(y==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(y),!1,null))))}Eu(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)us(i[d]);Su(t,t.transactionQueueTree_)}function eS(t,e){let n,i=t.transactionQueueTree_;for(n=de(e);n!==null&&ui(i)===void 0;)i=gu(i,n),e=be(e),n=de(e);return i}function tS(t,e){const n=[];return nS(t,e,n),n.sort((i,o)=>i.order-o.order),n}function nS(t,e,n){const i=ui(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);yu(e,o=>{nS(t,o,n)})}function Eu(t,e){const n=ui(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,Vf(e,n.length>0?n:void 0)}yu(e,i=>{Eu(t,i)})}function $f(t,e){const n=qo(eS(t,e)),i=gu(t.transactionQueueTree_,e);return _R(i,o=>{jd(t,o)}),jd(t,i),Yw(i,o=>{jd(t,o)}),n}function jd(t,e){const n=ui(e);if(n){const i=[];let o=[],l=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(W(l===u-1,"All SENT items should be at beginning of queue."),l=u,n[u].status=3,n[u].abortReason="set"):(W(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(mr(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));l===-1?Vf(e,void 0):n.length=l+1,Yt(t.eventQueue_,qo(e),o);for(let u=0;u<i.length;u++)us(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function $R(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):St(`Invalid query segment '${n}' in query '${t}'`)}return e}const jv=function(t,e){const n=HR(t),i=n.namespace;n.domain==="firebase.com"&&Vn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Vn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Z1();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new fw(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new Ie(n.pathString)}},HR=function(t){let e="",n="",i="",o="",l="",u=!0,d="https",h=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(d=t.substring(0,m-1),t=t.substring(m+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(o=WR(t.substring(g,y)));const _=$R(t.substring(Math.min(t.length,y)));m=e.indexOf(":"),m>=0?(u=d==="https"||d==="wss",h=parseInt(e.substring(m+1),10)):m=e.length;const E=e.slice(0,m);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const C=e.indexOf(".");i=e.substring(0,C).toLowerCase(),n=e.substring(C+1),l=i}"ns"in _&&(l=_.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:u,scheme:d,pathString:o,namespace:l}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KR=(function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let o;const l=new Array(8);for(o=7;o>=0;o--)l[o]=Vv.charAt(n%64),n=Math.floor(n/64);W(n===0,"Cannot push at time == 0");let u=l.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)u+=Vv.charAt(e[o]);return W(u.length===20,"nextPushId: Length should be 20."),u}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class qR{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return he(this._path)?null:mf(this._path)}get ref(){return new $n(this._repo,this._path)}get _queryIdentifier(){const e=Ev(this._queryParams),n=df(e);return n==="{}"?"default":n}get _queryObject(){return Ev(this._queryParams)}isEqual(e){if(e=tt(e),!(e instanceof ci))return!1;const n=this._repo===e._repo,i=gf(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+LP(this._path)}}function QR(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Hf(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Qr){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ri)throw new Error(i);if(typeof e!="string")throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==Er)throw new Error(i);if(typeof n!="string")throw new Error(o)}}else if(t.getIndex()===Le){if(e!=null&&!Zl(e)||n!=null&&!Zl(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(W(t.getIndex()instanceof _f||t.getIndex()===Nw,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rS(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class $n extends ci{constructor(e,n){super(e,n,new Sf,!1)}get parent(){const e=Ew(this._path);return e===null?null:new $n(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bo{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ie(e),i=Ao(this.ref,e);return new bo(this._node.getChild(n),i,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new bo(o,Ao(this.ref,i),Le)))}hasChild(e){const n=new Ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function wr(t,e){return t=tt(t),t._checkNotDeleted("ref"),e!==void 0?Ao(t._root,e):t._root}function Ao(t,e){return t=tt(t),de(t._path)===null?IR("child","path",e):Bf("child","path",e),new $n(t._repo,We(t._path,e))}function XR(t,e){t=tt(t),vu("push",t._path),Yo("push",e,t._path,!0);const n=Zw(t._repo),i=KR(n),o=Ao(t,i),l=Ao(t,i);let u;return u=Promise.resolve(l),o.then=u.then.bind(u),o.catch=u.then.bind(u,void 0),o}function JR(t){return vu("remove",t._path),iS(t,null)}function iS(t,e){t=tt(t),vu("set",t._path),Yo("set",e,t._path,!1);const n=new ss;return OR(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ZR(t,e){TR("update",e,t._path);const n=new ss;return LR(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class Kf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new GR("value",this,new bo(e.snapshotNode,new $n(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new qR(this,e,n):null}matches(e){return e instanceof Kf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function eb(t,e,n,i,o){let l;if(typeof i=="object"&&(l=void 0,o=i),typeof i=="function"&&(l=i),o&&o.onlyOnce){const h=n,m=(g,y)=>{Fv(t._repo,t,d),h(g,y)};m.userCallback=n.userCallback,m.context=n.context,n=m}const u=new YR(n,l||void 0),d=new Kf(u);return jR(t._repo,t,d),()=>Fv(t._repo,t,d)}function xu(t,e,n,i){return eb(t,"value",e,n,i)}class Zo{}class tb extends Zo{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){Yo("endAt",this._value,e._path,!0);const n=aN(e._queryParams,this._value,this._key);if(rS(n),Hf(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ci(e._repo,e._path,n,e._orderByCalled)}}class nb extends Zo{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){Yo("startAt",this._value,e._path,!0);const n=oN(e._queryParams,this._value,this._key);if(rS(n),Hf(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ci(e._repo,e._path,n,e._orderByCalled)}}class rb extends Zo{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ci(e._repo,e._path,sN(e._queryParams,this._limit),e._orderByCalled)}}function sS(t){if(Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rb(t)}class ib extends Zo{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){QR(e,"orderByChild");const n=new Ie(this._path);if(he(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new _f(n),o=lN(e._queryParams,i);return Hf(o),new ci(e._repo,e._path,o,!0)}}function oS(t){return Bf("orderByChild","path",t),new ib(t)}class sb extends Zo{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(Yo("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new tb(this._value,this._key)._apply(new nb(this._value,this._key)._apply(e))}}function aS(t,e){return new sb(t,e)}function lS(t,...e){let n=tt(t);for(const i of e)n=i._apply(n);return n}QN($n);nR($n);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="FIREBASE_DATABASE_EMULATOR_HOST",xh={};let ab=!1;function lb(t,e,n,i){t.repoInfo_=new fw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function ub(t,e,n,i,o){let l=i||t.options.databaseURL;l===void 0&&(t.options.projectId||Vn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",t.options.projectId),l=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=jv(l,o),d=u.repoInfo,h;typeof process<"u"&&iv&&(h=iv[ob]),h?(l=`http://${h}?ns=${d.namespace}`,u=jv(l,o),d=u.repoInfo):u.repoInfo.secure;const m=new cP(t.name,t.options,e);kR("Invalid Firebase Database URL",u),he(u.path)||Vn("Database URL must point to the root of a Firebase Database (not including a child path).");const g=db(d,t,m,new uP(t.name,n));return new hb(g,t)}function cb(t,e){const n=xh[e];(!n||n[t.key]!==t)&&Vn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),VR(t),delete n[t.key]}function db(t,e,n,i){let o=xh[e.name];o||(o={},xh[e.name]=o);let l=o[t.toURLString()];return l&&Vn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new AR(t,ab,n,i),o[t.toURLString()]=l,l}class hb{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(DR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $n(this._repo,Se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(cb(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Vn("Cannot call "+e+" on a deleted database.")}}function fb(t=m0(),e){const n=Xh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=nT("database");i&&pb(n,...i)}return n}function pb(t,e,n,i={}){t=tt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Vn("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let l;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&Vn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),l=new Tl(Tl.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:rT(i.mockUserToken,t.app.options.projectId);l=new Tl(u)}lb(o,e,n,l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){q1(as),Yi(new ei("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),l=e.getProvider("app-check-internal");return ub(i,o,l,n)},"PUBLIC").setMultipleInstances(!0)),vr(sv,ov,t),vr(sv,ov,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}function yb(t,e,n){var i;if(t=tt(t),vu("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";const o=(i=void 0)!==null&&i!==void 0?i:!0,l=new ss,u=(h,m,g)=>{let y=null;h?l.reject(h):(y=new bo(g,new $n(t._repo,t._path),Le),l.resolve(new gb(m,y)))},d=xu(t,()=>{});return UR(t._repo,t._path,e,u,d,o),l.promise}Ln.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ln.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mb();const vb={apiKey:"AIzaSyBqPm_z-es3gBE7rkwKtjxqz1kVVJQnLHQ",authDomain:"silk-f4d35.firebaseapp.com",databaseURL:"https://silk-f4d35-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"silk-f4d35",storageBucket:"silk-f4d35.appspot.com",messagingSenderId:"385217886123",appId:"1:385217886123:web:8fc0ea599d59e1b19684ee",measurementId:"G-P6XL5EVE7N"},uS=p0(vb),vn=$1(uS),Sr=fb(uS);function _b({current:t}){const[e,n]=D.useState(null);D.useEffect(()=>{const d=Wo(vn,h=>{n(h)});return()=>d()},[]);const i=async()=>{await Dk(vn),n(null),alert(" .")},o=d=>d?d.split("@")[0]:"",l=()=>w.jsx("a",{href:"#home",className:"flex items-center space-x-3",children:w.jsx("img",{src:"/logo.png",alt:"Sensory Echo Logo",width:130,height:10})}),u=(d,h)=>{const m=t===d;return w.jsxs("a",{href:`#${d}`,className:`relative text-base font-medium py-2 transition-all duration-300
          ${m?"text-white border-b-2 border-indigo-400":"text-gray-400 hover:text-white"}`,children:[h,m&&w.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-[#8877E6] via-[#788AE6] to-[#77ACE6]"})]},d)};return w.jsx("nav",{className:"fixed top-0 inset-x-0 z-20 bg-[#4545f2] shadow-xl border-b border-gray-700/50",children:w.jsxs("div",{className:"max-w-5xl mx-auto h-16 px-6 flex items-center justify-between",children:[w.jsx(l,{}),w.jsxs("div",{className:"flex items-center space-x-8",children:[u("home","Home"),u("profile","Profile"),u("explore","Explore"),e?w.jsxs("div",{className:"flex items-center space-x-3 text-white",children:[w.jsx("span",{className:"text-sm font-medium",children:o(e.email)}),w.jsx("button",{onClick:i,className:"text-gray-400 hover:text-red-400 text-xs underline underline-offset-2",children:""})]}):u("login","Login")]})]})})}const ts=({shape:t="square",color:e="#7777ee",size:n=120,className:i=""})=>{const o=Math.max(40,n),l=o*.15,u="none",d=t==="wave"?"diamond":t;if(d==="square")return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"square",children:w.jsx("rect",{x:l,y:l,width:o-l*2,height:o-l*2,rx:8,ry:8,fill:e,stroke:u})});if(d==="circle"){const h=(o-l*2)/2;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"circle",children:w.jsx("circle",{cx:o/2,cy:o/2,r:h,fill:e,stroke:u})})}if(d==="triangle"){const h=`${o/2},${l}`,m=`${o-l},${o-l}`,g=`${l},${o-l}`;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"triangle",children:w.jsx("polygon",{points:`${h} ${m} ${g}`,fill:e,stroke:u})})}if(d==="diamond"){const h=o/2,m=o/2,g=(o-l*2)/2,y=`${h},${m-g} ${h+g},${m} ${h},${m+g} ${h-g},${m}`;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"diamond",children:w.jsx("polygon",{points:y,fill:e,stroke:u})})}if(d==="star"){const h=o/2,m=o/2,g=(o-l*2)/2,y=g*.5,_=[];for(let E=0;E<10;E++){const C=(-90+E*36)*(Math.PI/180),I=E%2===0?g:y,A=h+I*Math.cos(C),V=m+I*Math.sin(C);_.push(`${A},${V}`)}return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"star",children:w.jsx("polygon",{points:_.join(" "),fill:e,stroke:u})})}if(d==="heart"){const h=o,m=o,g=h/2,y=m/2,_=y-o*.12,E=`
      M ${g},${_}
      C ${g+o*.25},${_-o*.18} ${h-l},${y-o*.05} ${g},${m-l}
      C ${l},${y-o*.05} ${g-o*.25},${_-o*.18} ${g},${_}
      Z
    `;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"heart",children:w.jsx("path",{d:E,fill:e,stroke:u})})}if(d==="droplet"){const h=o/2,m=l,g=o-l,y=o*.28,_=`
      M ${h},${m}
      C ${h+y},${m+y} ${h+y},${g-y} ${h},${g}
      C ${h-y},${g-y} ${h-y},${m+y} ${h},${m}
      Z
    `;return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"droplet",children:w.jsx("path",{d:_,fill:e,stroke:u})})}return w.jsx("svg",{width:o,height:o,viewBox:`0 0 ${o} ${o}`,className:i,role:"img","aria-label":"square",children:w.jsx("rect",{x:l,y:l,width:o-l*2,height:o-l*2,rx:8,ry:8,fill:e,stroke:u})})},wb=["square","circle","triangle","diamond","star","heart","droplet"],Sb=["chime","rain","piano","drum"],Eb={chime:"/sounds/chime.mp3",rain:"/sounds/rain.mp3",piano:"/sounds/piano.mp3",drum:"/sounds/drum.mp3"},io=t=>{const e=typeof t=="number"?t:parseFloat(t);return Number.isFinite(e)?e:null};function xb(t){let e=null;try{e=JSON.parse(t)}catch{}if(e&&typeof e=="object"){const o=io(e?.confidence);if(typeof e?.prediction=="string"&&o!=null)return{label:String(e.prediction).toLowerCase(),score:o,scores:e?.probabilities};if(e?.probabilities&&typeof e.probabilities=="object"){const l=Object.entries(e.probabilities).map(([u,d])=>[String(u).toLowerCase(),io(d)]).filter(([,u])=>u!=null);if(l.length)return l.sort((u,d)=>d[1]-u[1]),{label:l[0][0],score:l[0][1],scores:e.probabilities}}}if(e&&typeof e=="object"){const o=io(e?.score);if(typeof e?.label=="string"&&o!=null)return{label:e.label,score:o,scores:e?.scores};if(e?.scores&&typeof e.scores=="object"){const l=Object.entries(e.scores).map(([u,d])=>[String(u).toLowerCase(),io(d)]).filter(([,u])=>u!=null);if(l.length)return l.sort((u,d)=>d[1]-u[1]),{label:l[0][0],score:l[0][1],scores:e.scores}}}const n=/"prediction"\s*:\s*"([A-Za-z_-]+)"/.exec(t)?.[1]||/"label"\s*:\s*"([A-Za-z_-]+)"/.exec(t)?.[1],i=/"confidence"\s*:\s*"?(1(?:\.0+)?|0?\.\d+)"?/.exec(t)?.[1]||/"score"\s*:\s*"?(1(?:\.0+)?|0?\.\d+)"?/.exec(t)?.[1];return n&&i?{label:n.toLowerCase(),score:io(i)}:{label:null,score:null}}function Cb(){const[t,e]=D.useState(""),[n,i]=D.useState("#7b7bf5"),[o,l]=D.useState("square"),[u,d]=D.useState("chime"),[h,m]=D.useState({}),[g,y]=D.useState(!1),_=D.useRef(null),[E,C]=D.useState(()=>localStorage.getItem("silk_authorName")||"");D.useEffect(()=>Wo(vn,R=>{R?e(R.uid):location.hash="#login"}),[]),D.useEffect(()=>(_.current||(_.current=new Audio),()=>{try{_.current?.pause()}catch{}}),[]);const I=R=>{C(R),localStorage.setItem("silk_authorName",R)},A=async()=>{if(_.current)try{if(!_.current.paused)_.current.pause(),_.current.currentTime=0;else{const R=Eb[u];_.current.src!==R&&(_.current.src=R),await _.current.play()}}catch{alert("  .    .")}},V=()=>{if(!navigator.geolocation)return alert("     .");navigator.geolocation.getCurrentPosition(R=>m({lat:R.coords.latitude,lng:R.coords.longitude}),()=>alert("  ."))},L=async()=>{if(!t)return alert("  .");y(!0);let R=null,O=null,B=null;try{const q="https://silk-ai-api-842161501725.asia-northeast3.run.app";if(q){const ye=String(q).replace(/\/+$/,"")+"/predict";try{const me=await fetch(ye,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({color_hex:n,shape:o,sound:u})}),Xe=await me.text();if(console.log("[AI write]",me.status,ye,Xe),me.ok){const X=xb(Xe);R=X.label,O=X.score,B=X.scores}}catch(me){console.warn("AI  ",me)}}const Z=XR(wr(Sr,"emotions")).key,$={id:Z,userId:t,color:n,shape:o,sound:u,timestamp:Date.now(),likes:0,authorName:(E||"").trim(),...h.lat!=null?{lat:h.lat}:{},...h.lng!=null?{lng:h.lng}:{},...R!=null?{label:R}:{},...O!=null?{score:O}:{},...B&&typeof B=="object"?{scores:B}:{}};await iS(wr(Sr,`emotions/${Z}`),$),alert(" ")}catch(q){alert(" "),console.error(q)}finally{y(!1)}};return w.jsxs("div",{className:"p-4 max-w-3xl mx-auto",children:[w.jsx("label",{className:"block text-sm font-medium",children:"  "}),w.jsx("input",{className:"w-full mt-2 mb-4 p-3 border rounded-lg",placeholder:") ",value:E,onChange:R=>I(R.target.value),maxLength:20}),w.jsx("div",{className:"flex justify-end mb-3",children:w.jsx("button",{onClick:()=>{location.hash="#profile"},className:"px-3 py-1.5 rounded-xl border border-gray-300 text-sm text-black/70 hover:bg-gray-100",children:" "})}),w.jsx("div",{className:"rounded-2xl bg-white shadow grid place-items-center h-56 mb-4",children:w.jsx(ts,{shape:o,color:n,size:140})}),w.jsxs("div",{className:"mb-4",children:[w.jsx("div",{className:"text-sm font-medium mb-2",children:""}),w.jsx("input",{type:"color",value:n,onChange:R=>i(R.target.value),className:"h-10 w-16 p-0 border rounded","aria-label":"color"})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("div",{className:"text-sm font-medium mb-2",children:""}),w.jsx("div",{className:"flex flex-wrap gap-3",children:wb.map(R=>w.jsx("button",{onClick:()=>l(R),className:`p-2 rounded-xl border grid place-items-center ${o===R?"bg-black/10 border-black":"bg-black border-gray-300"}`,"aria-label":R,children:w.jsx(ts,{shape:R,color:"#ffffff",size:36})},R))})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("div",{className:"text-sm font-medium mb-2",children:""}),w.jsx("div",{className:"flex flex-wrap gap-2",children:Sb.map(R=>w.jsx("button",{onClick:()=>d(R),className:`px-3 py-1.5 rounded-full border ${u===R?"bg-black text-white":"bg-white"}`,children:R},R))}),w.jsxs("div",{className:"mt-2",children:[w.jsx("button",{onClick:A,className:"px-3 py-1.5 rounded-xl bg-gray-800 text-white",children:" "}),w.jsx("audio",{ref:_,className:"hidden"})]})]}),w.jsxs("div",{className:"mb-4",children:[w.jsx("div",{className:"text-sm font-medium mb-2",children:""}),w.jsx("button",{onClick:V,className:"px-3 py-1.5 rounded-xl border",children:" "}),h.lat!=null&&h.lng!=null?w.jsxs("div",{className:"text-xs text-black/60 mt-2",children:["lat ",h.lat,", lng ",h.lng]}):null]}),w.jsx("div",{className:"flex items-center gap-2",children:w.jsx("button",{onClick:L,disabled:g,className:"px-4 py-2 rounded-xl bg-black text-white disabled:opacity-50",children:""})}),w.jsx("p",{className:"mt-3 text-xs text-black/50",children:"  AI    ."})]})}function Tb(t){document.querySelectorAll("audio").forEach(n=>{if(!(t&&n===t))try{n.pause()}catch{}})}const Ib={chime:"/sounds/chime.mp3",rain:"/sounds/rain.mp3",piano:"/sounds/piano.mp3",drum:"/sounds/drum.mp3"};function kb(t){if(!t)return null;const e=t.toLowerCase().trim();return Ib[e]??null}function Gf({open:t,item:e,onClose:n}){const i=D.useRef(null),[o,l]=D.useState(e?.likes??0),[u,d]=D.useState(!1);if(D.useEffect(()=>{l(e?.likes??0)},[e?.id,e?.likes]),D.useEffect(()=>{const y=i.current;y&&(y.pause(),y.currentTime=0,y.src=e?.sound?kb(e.sound)??"":"")},[t,e?.id,e?.sound]),D.useEffect(()=>{if(!t){const y=i.current;y&&(y.pause(),y.src="")}},[t]),!t||!e)return null;const h=e.timestamp?new Date(e.timestamp).toLocaleString("ko-KR"):"-",m=typeof e.score=="number"?` (${Math.round(e.score*100)}%)`:"",g=async y=>{if(y.stopPropagation(),!u){d(!0);try{const _=wr(Sr,`emotions/${e.id}/likes`);await yb(_,E=>typeof E=="number"?E+1:1),l(E=>(E??0)+1)}catch(_){alert("  "),console.error(_)}finally{d(!1)}}};return w.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 grid place-items-center p-4",role:"dialog","aria-modal":"true",children:w.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white shadow-2xl overflow-hidden",children:[w.jsxs("div",{className:"relative h-56 bg-white grid place-items-center",children:[w.jsx(ts,{shape:e.shape??"square",color:e.color??"#7777ee",size:140}),w.jsx("div",{className:"absolute top-3 left-3 text-xs px-2 py-1 rounded-full bg-black/30 text-white",children:h}),w.jsx("div",{className:"absolute top-3 right-3 text-black/80 text-lg",children:e.lat&&e.lng?"":""})]}),w.jsxs("div",{className:"p-4 space-y-3",children:[w.jsxs("div",{className:"text-xs text-gray-400",children:[" : ",e.authorName||""]})," ",w.jsxs("div",{className:"text-sm text-gray-500",children:[e.shape,"  ",e.sound]}),w.jsx("div",{className:"text-lg font-bold",children:e.label?`${e.label}${m}`:" "}),w.jsx("audio",{ref:i,controls:!0,preload:"none",onPlay:()=>Tb(i.current),className:"w-full"},e?.sound),w.jsxs("div",{className:"flex items-center justify-between pt-1",children:[w.jsxs("div",{className:"text-sm text-gray-600 select-none",children:[" ",o??0]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:g,disabled:u,className:"px-3 py-1.5 rounded-lg bg-indigo-600 text-white text-sm hover:bg-indigo-700 disabled:opacity-50",children:u?"":" "}),w.jsx("button",{onClick:n,className:"px-3 py-1.5 rounded-lg border hover:bg-gray-50",children:""})]})]})]})]})})}const Pb="https://silk-ai-api-842161501725.asia-northeast3.run.app",Uv=String(Pb).replace(/\/+$/,""),so=t=>{const e=typeof t=="number"?t:parseFloat(t);return Number.isFinite(e)?e:null};function Nb(t){let e=null;try{e=JSON.parse(t)}catch{}if(e&&typeof e=="object"){const o=so(e?.confidence);if(typeof e?.prediction=="string"&&o!=null)return{label:String(e.prediction).toLowerCase(),score:o,scores:e?.probabilities};if(e?.probabilities&&typeof e.probabilities=="object"){const u=Object.entries(e.probabilities).map(([d,h])=>[String(d).toLowerCase(),so(h)]).filter(([,d])=>d!=null);if(u.length)return u.sort((d,h)=>h[1]-d[1]),{label:u[0][0],score:u[0][1],scores:e.probabilities}}const l=so(e?.score);if(typeof e?.label=="string"&&l!=null)return{label:e.label,score:l,scores:e?.scores};if(e?.scores&&typeof e.scores=="object"){const u=Object.entries(e.scores).map(([d,h])=>[String(d).toLowerCase(),so(h)]).filter(([,d])=>d!=null);if(u.length)return u.sort((d,h)=>h[1]-d[1]),{label:u[0][0],score:u[0][1],scores:e.scores}}}const n=/"prediction"\s*:\s*"([A-Za-z_-]+)"/.exec(t)?.[1]||/"label"\s*:\s*"([A-Za-z_-]+)"/.exec(t)?.[1],i=/"confidence"\s*:\s*"?(1(?:\.0+)?|0?\.\d+)"?/.exec(t)?.[1]||/"score"\s*:\s*"?(1(?:\.0+)?|0?\.\d+)"?/.exec(t)?.[1];return n&&i?{label:n.toLowerCase(),score:so(i)}:{label:null,score:null}}const Rb=t=>{switch(t){case"happy":return"text-green-600";case"calm":return"text-blue-600";case"love":return"text-pink-500";case"sad":return"text-purple-600";case"angry":return"text-red-600";case"fear":return"text-amber-600";default:return"text-gray-500"}};let Vd=null;function bb(){if(typeof window<"u"&&window.google?.maps)return Promise.resolve(window.google);if(!Vd){const t="AIzaSyCb1vtltxjuAZ01cP0hB-4Ghyt7iMupoqU";Vd=new Promise((e,n)=>{const i=document.getElementById("google-maps-sdk");if(i){i.addEventListener("load",()=>e(window.google)),i.addEventListener("error",()=>n(new Error("Google Maps  ")));return}const o=document.createElement("script");o.id="google-maps-sdk",o.src=`https://maps.googleapis.com/maps/api/js?key=${t}`,o.async=!0,o.defer=!0,o.onload=()=>e(window.google),o.onerror=()=>n(new Error("Google Maps  ")),document.body.appendChild(o)})}return Vd}function Ab(){const[t,e]=D.useState([]),[n,i]=D.useState(null),[o,l]=D.useState(""),u=D.useRef(null),d=D.useRef(null),h=D.useRef(new Map),m=D.useRef([]),[g,y]=D.useState(!1),[_,E]=D.useState(null);D.useEffect(()=>{const R=xu(wr(Sr,"emotions"),O=>{const B=O.val()||{},Z=Object.keys(B).map($=>({id:$,...B[$]})).filter($=>typeof $?.timestamp=="number").map($=>({...$,userId:$.userId??"anonymous",authorName:$.authorName??"",color:$.color??"#eee",shape:$.shape??"-",sound:$.sound??"-",likes:$.likes??0}));e(Z)});return()=>R()},[]);const{groupedCards:C,sortedDates:I}=D.useMemo(()=>{const R=t.reduce((B,q)=>{if(q.timestamp){const Z=new Date(q.timestamp),$=`${Z.getFullYear()}-${String(Z.getMonth()+1).padStart(2,"0")}-${String(Z.getDate()).padStart(2,"0")}`;B[$]||(B[$]=[]),B[$].push(q)}return B},{}),O=Object.keys(R).sort((B,q)=>B<q?1:-1);return{groupedCards:R,sortedDates:O}},[t]);D.useEffect(()=>{let R=!1;return bb().then(O=>{R||!u.current||d.current||(d.current=new O.maps.Map(u.current,{center:{lat:37.5665,lng:126.978},zoom:11,fullscreenControl:!1,streetViewControl:!1,mapTypeControl:!1}))}).catch(O=>l(O.message||"  ")),()=>{R=!0}},[]),D.useEffect(()=>{const R=window.google;if(!d.current||!R)return;const O=t.filter(X=>typeof X.lat=="number"&&typeof X.lng=="number"),B=d.current,q=h.current,Z=new Map;let $=new R.maps.LatLngBounds;q.forEach((X,Ee)=>{O.some(xe=>xe.id===Ee)||X.setMap(null)}),O.forEach(X=>{const Ee=`<div style="min-width:160px"><div><b>${X.label??"unknown"}</b> ${typeof X.score=="number"?Math.round(X.score*100)+"%":""}</div><div style="font-size:12px;color:#555">${X.lat?.toFixed(3)}, ${X.lng?.toFixed(3)}</div></div>`;if(q.has(X.id)){const xe=q.get(X.id);xe.__infoWindow.setContent(Ee),Z.set(X.id,xe)}else{const xe=new R.maps.InfoWindow({content:Ee}),$e=new R.maps.Marker({position:{lat:X.lat,lng:X.lng},map:B,title:X.label||"emotion",icon:{path:R.maps.SymbolPath.CIRCLE,scale:7,fillColor:X.color||"#4285F4",fillOpacity:1,strokeColor:"#333",strokeWeight:1}});$e.__infoWindow=xe,$e.__emotionId=X.id,$e.addListener("click",()=>{h.current.forEach(le=>le.__infoWindow.close());const qe=t.find(le=>le.id===$e.__emotionId);qe&&(E(qe),y(!0))}),Z.set(X.id,$e)}$.extend({lat:X.lat,lng:X.lng})}),h.current=Z,$.isEmpty()||B.fitBounds($),m.current.forEach(X=>X.setMap(null)),m.current=[];const ye=O.filter(X=>{const Ee=X.scores?.happy??(X.label==="happy"?X.score:void 0);return typeof Ee=="number"&&Ee>=.6}),me=new Map,Xe=(X,Ee)=>`${X.toFixed(2)},${Ee.toFixed(2)}`;ye.forEach(X=>{const Ee=Xe(X.lat,X.lng),xe=me.get(Ee)||{latSum:0,lngSum:0,count:0,scoreSum:0};xe.latSum+=X.lat,xe.lngSum+=X.lng,xe.count+=1,xe.scoreSum+=X.scores?.happy??X.score??.6,me.set(Ee,xe)}),me.forEach(X=>{const Ee={lat:X.latSum/X.count,lng:X.lngSum/X.count},xe=X.scoreSum/X.count,$e=100+50*X.count,qe=Math.max(.15,Math.min(.5,.15+xe*.35)),le=new R.maps.Circle({map:B,center:Ee,radius:$e,strokeColor:"#4CAF50",strokeOpacity:.6,strokeWeight:1,fillColor:"#4CAF50",fillOpacity:qe,clickable:!1});m.current.push(le)})},[t]);const A=R=>{if(typeof R.lat!="number"||typeof R.lng!="number")return alert("    .");if(!d.current)return alert("   .");d.current.panTo({lat:R.lat,lng:R.lng}),d.current.setZoom(14)},V=async R=>{if(!n)try{if(i(R.id),!Uv){alert("AI_BASE ");return}const O=`${Uv}/predict`,B=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({color_hex:R.color,shape:R.shape,sound:R.sound})}),q=await B.text();if(console.log("[AI explore]",B.status,O,q),!B.ok){alert(`AI : ${B.status}`);return}const Z=Nb(q),$={};if(typeof Z.label=="string"&&($.label=Z.label),typeof Z.score=="number"&&($.score=Z.score),Z?.scores&&typeof Z.scores=="object"&&($.scores=Z.scores),!Object.keys($).length){alert("AI   ");return}await ZR(wr(Sr,`emotions/${R.id}`),$)}catch(O){alert(O?.message||"AI  ")}finally{i(null)}},L=async(R,O)=>{if(O.stopPropagation(),!!confirm("    ?"))try{await JR(wr(Sr,`emotions/${R}`)),alert(" ")}catch(B){alert(" : "+B.message)}};return w.jsxs("section",{className:"space-y-3 p-4 pt-20 max-w-5xl mx-auto",children:[w.jsx("h2",{className:"text-lg font-semibold",children:" (/)"}),w.jsx("p",{className:"text-sm text-gray-500",children:"      ."}),w.jsx("div",{ref:u,className:"w-full h-[500px] rounded-lg border"}),o&&w.jsx("p",{className:"text-sm text-red-500",children:o}),w.jsxs("div",{className:"space-y-8 mt-4",children:[I.map(R=>w.jsxs("div",{className:"space-y-4",children:[w.jsx("h3",{className:"text-xl font-bold border-b pb-2 text-gray-700",children:R}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:C[R].map(O=>{const B=!!O.label,q=typeof O.lat=="number"&&typeof O.lng=="number",Z=O.timestamp?new Date(O.timestamp).toLocaleDateString("ko-KR").substring(5,12).replace(/\s/g,""):"-";return w.jsxs("div",{onClick:()=>{E(O),y(!0)},className:"rounded-2xl border bg-white shadow-sm p-3 cursor-pointer hover:shadow-md transition-shadow",children:[w.jsxs("div",{className:"relative h-28 rounded-xl bg-white grid place-items-center",children:[w.jsx(ts,{shape:O.shape??"square",color:O.color??"#cccccc",size:88}),w.jsx("div",{className:"absolute top-3 left-3 px-3 py-1 bg-black/30 rounded-full text-xs text-white font-medium z-10",children:Z}),w.jsx("div",{className:"absolute top-3 right-3 text-black/70 text-lg z-10",children:q?"":" "})]}),w.jsxs("div",{className:"p-1 flex flex-col justify-center bg-white",children:[w.jsxs("div",{className:"text-xs text-gray-600 font-medium truncate mt-2 mb-1",children:[" : ",O.authorName]}),w.jsx("div",{className:"text-lg font-extrabold truncate",children:B?w.jsx("span",{className:Rb(O.label),children:O.label}):w.jsx("span",{className:"text-gray-400",children:" "})}),w.jsx("div",{className:"text-xs text-gray-400 mt-1",children:B&&`AI ${Math.round((O.score??0)*100)}%`})]}),w.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("button",{onClick:$=>L(O.id,$),className:"p-1 text-xs text-red-500 hover:text-red-700",children:""}),w.jsxs("small",{className:"text-gray-500 text-xs",children:[O.lat?.toFixed?.(3)??"-",", ",O.lng?.toFixed?.(3)??"-"]})]}),q?w.jsx("button",{onClick:$=>{$.stopPropagation(),A(O)},className:"px-2 py-1 text-xs font-semibold rounded-md bg-indigo-500 text-white hover:bg-indigo-600",children:" "}):B?w.jsx("div",{className:"px-2 py-1 text-xs font-semibold rounded-md text-gray-400 border border-gray-300",children:" "}):w.jsx("button",{onClick:$=>{$.stopPropagation(),V(O)},disabled:n===O.id,className:"px-2 py-1 text-xs rounded-md border bg-white hover:bg-gray-50 disabled:opacity-50",children:n===O.id?"":""}),q&&!B&&w.jsx("button",{onClick:$=>{$.stopPropagation(),V(O)},disabled:n===O.id,className:"px-2 py-1 text-xs rounded-md border bg-white hover:bg-gray-50 disabled:opacity-50",children:n===O.id?"":""})]})]},O.id)})})]},R)),I.length===0&&w.jsx("p",{className:"text-center text-gray-500 mt-10",children:"   ."})]}),w.jsx(Gf,{open:g,item:_,onClose:()=>y(!1)})]})}function Db(){const[t,e]=D.useState(""),[n,i]=D.useState(""),[o,l]=D.useState(!1),[u,d]=D.useState(""),[h,m]=D.useState(""),g=(C,I=" .    .")=>{switch(C){case"auth/invalid-credential":case"auth/wrong-password":return"    .";case"auth/user-not-found":return"      .";case"auth/too-many-requests":return"  .     .";case"auth/popup-blocked":case"auth/popup-closed-by-user":return"  .      .";case"auth/account-exists-with-different-credential":return"       . Google  .";default:return I}},y=async()=>{d(""),m(""),l(!0);try{const C=new Rn;await Zk(vn,C),location.hash="feed"}catch(C){d(g(C?.code,"Google  .")),console.error(C)}finally{l(!1)}},_=async C=>{C.preventDefault(),d(""),m(""),l(!0);try{await kk(vn,t.trim(),n.trim()),location.hash="feed"}catch(I){d(g(I?.code)),console.error(I)}finally{l(!1)}},E=async()=>{d(""),m("");const C=t.trim();if(!C){d("      .");return}try{await Tk(vn,C),m("   .   .")}catch(I){d(g(I?.code,"   .")),console.error(I)}};return w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:w.jsxs("div",{className:"w-full max-w-md bg-white p-8 rounded-2xl shadow-md border",children:[w.jsx("h1",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:""}),w.jsx("button",{type:"button",onClick:y,disabled:o,className:`w-full py-3 rounded-lg font-semibold text-white mb-4
                     bg-gradient-to-r from-[#8877E6] via-[#788AE6] to-[#77ACE6] shadow-md disabled:opacity-60`,children:o?" ":"Google "}),w.jsxs("div",{className:"relative my-5",children:[w.jsx("div",{className:"border-t"}),w.jsx("span",{className:"absolute left-1/2 -translate-x-1/2 -top-3 bg-white px-2 text-xs text-gray-400",children:"  "})]}),w.jsxs("form",{onSubmit:_,className:"space-y-3",children:[w.jsx("input",{type:"email",placeholder:"",value:t,onChange:C=>e(C.target.value),className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#788AE6]"}),w.jsx("input",{type:"password",placeholder:"",value:n,onChange:C=>i(C.target.value),className:"w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-[#788AE6]"}),u&&w.jsx("p",{className:"text-sm text-red-500",children:u}),h&&w.jsx("p",{className:"text-sm text-green-600",children:h}),w.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 rounded-lg font-semibold text-white bg-gray-900 hover:bg-black transition disabled:opacity-60",children:" "})]}),w.jsxs("div",{className:"flex items-center justify-between mt-4 text-sm",children:[w.jsx("button",{onClick:E,className:"text-gray-600 hover:text-gray-900 underline underline-offset-2",children:" "}),w.jsx("a",{href:"#signup",className:"text-[#788AE6] font-semibold hover:underline",children:""})]})]})})}function Mb(){const[t,e]=D.useState(""),[n,i]=D.useState(""),[o,l]=D.useState(""),[u,d]=D.useState(""),[h,m]=D.useState(!1),[g,y]=D.useState(""),_=(C,I=" .")=>{switch(C){case"auth/email-already-in-use":return"   .";case"auth/invalid-email":return"   .";case"auth/weak-password":return"  . 6  .";default:return I}},E=async C=>{if(C.preventDefault(),y(""),!t||!n)return y("  .");if(n!==o)return y("  .");try{m(!0);const I=await Ik(vn,t.trim(),n);u&&await Rk(I.user,{displayName:u});try{await Pk(I.user)}catch{}location.hash="feed"}catch(I){y(_(I?.code)),console.error(I)}finally{m(!1)}};return w.jsx("div",{className:"flex items-center justify-center min-h-[60vh] px-4",children:w.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-2xl shadow-sm border",children:[w.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:""}),w.jsxs("form",{onSubmit:E,className:"space-y-3",children:[w.jsx("input",{className:"w-full p-3 border rounded-lg",placeholder:"",type:"email",value:t,onChange:C=>e(C.target.value)}),w.jsx("input",{className:"w-full p-3 border rounded-lg",placeholder:"",type:"password",value:n,onChange:C=>i(C.target.value)}),w.jsx("input",{className:"w-full p-3 border rounded-lg",placeholder:" ",type:"password",value:o,onChange:C=>l(C.target.value)}),g&&w.jsx("p",{className:"text-sm text-red-500",children:g}),w.jsx("button",{type:"submit",disabled:h,className:"w-full bg-indigo-600 text-white p-3 rounded-lg hover:bg-indigo-700 transition disabled:opacity-60",children:h?" ":""})]}),w.jsx("div",{className:"text-sm text-center mt-4",children:w.jsx("a",{href:"#login",className:"text-indigo-600 hover:underline",children:"  ? "})})]})})}function Bv(t){if(typeof t=="number")return t;if(typeof t=="string"){if(/^\d+$/.test(t)){const n=Number(t);return n<2e9?n*1e3:n}const e=Date.parse(t);return Number.isFinite(e)?e:0}return 0}function Ob(){const[t,e]=D.useState(null),[n,i]=D.useState([]),[o,l]=D.useState(!0),[u,d]=D.useState(""),[h,m]=D.useState(!1),[g,y]=D.useState(null);D.useEffect(()=>{const E=Wo(vn,C=>{if(!C){location.hash="#login";return}e(C.uid)});return()=>E()},[]),D.useEffect(()=>{if(!t)return;l(!0);const E=lS(wr(Sr,"emotions"),oS("userId"),aS(t),sS(500)),C=xu(E,I=>{const A=[];I.forEach(L=>{A.push(L.val())});const V=A.map(L=>({...L,id:L.id,userId:L.userId??"anonymous",color:L.color??"#eeeeee",shape:L.shape??"square",sound:L.sound??"-",timestamp:Bv(L?.timestamp)})).filter(L=>L.timestamp>0).sort((L,R)=>R.timestamp-L.timestamp);i(V),l(!1)},I=>{d(I?.message||"  ."),l(!1)});return()=>C()},[t]);const _=D.useMemo(()=>{const E=new Map;for(const C of n){const I=new Date(C.timestamp),A=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;E.has(A)||E.set(A,[]),E.get(A).push(C)}return Array.from(E.entries()).sort((C,I)=>new Date(I[0]).getTime()-new Date(C[0]).getTime())},[n]);return o?w.jsx("div",{className:"p-4 text-sm text-black/60",children:" "}):u?w.jsxs("div",{className:"p-4 text-sm text-red-600",children:[": ",u]}):w.jsxs("div",{className:"p-4 max-w-5xl mx-auto",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),_.length===0&&w.jsx("div",{className:"text-sm text-black/60",children:" ."}),_.map(([E,C])=>w.jsxs("section",{className:"mb-8",children:[w.jsx("div",{className:"text-sm font-semibold text-black/80 mb-3",children:E}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:C.map(I=>{const A=typeof I.lat=="number"&&typeof I.lng=="number",V=new Date(I.timestamp).toLocaleTimeString();return w.jsxs("button",{onClick:()=>{y({...I,timestamp:typeof I.timestamp=="string"?Bv(I.timestamp):I.timestamp}),m(!0)},className:"text-left rounded-2xl border bg-white shadow-sm hover:shadow-md transition p-3",children:[w.jsxs("div",{className:"relative h-28 rounded-xl bg-white grid place-items-center",children:[w.jsx(ts,{shape:I.shape??"square",color:I.color??"#cccccc",size:88}),w.jsx("div",{className:"absolute top-2 left-2 text-[11px] px-2 py-0.5 rounded-full bg-black/30 text-white",children:V}),w.jsx("div",{className:"absolute top-2 right-2 text-black/70 text-base",children:A?"":""})]}),w.jsxs("div",{className:"mt-2",children:[w.jsxs("div",{className:"text-sm font-medium truncate",children:[I.label??"unknown",typeof I.score=="number"?w.jsxs("span",{className:"text-black/60",children:["  ",Math.round(I.score*100),"%"]}):null]}),w.jsxs("div",{className:"text-xs text-black/60 mt-0.5",children:[I.shape,"  ",I.sound]})]})]},I.id)})})]},E)),w.jsx(Gf,{open:h,item:g,onClose:()=>m(!1)})]})}function zv(t){if(typeof t=="number")return t;if(typeof t=="string"){if(/^\d+$/.test(t)){const n=Number(t);return n<2e9?n*1e3:n}const e=Date.parse(t);return Number.isFinite(e)?e:0}return 0}function Lb(){const[t,e]=D.useState(null),[n,i]=D.useState([]),[o,l]=D.useState(!0),[u,d]=D.useState(""),[h,m]=D.useState(!1),[g,y]=D.useState(null);D.useEffect(()=>{const E=Wo(vn,C=>{if(!C){location.hash="#login";return}e(C.uid)});return()=>E()},[]),D.useEffect(()=>{if(!t)return;l(!0);const E=lS(wr(Sr,"emotions"),oS("userId"),aS(t),sS(500)),C=xu(E,I=>{const A=[];I.forEach(L=>{A.push(L.val())});const V=A.map(L=>({...L,id:L.id,userId:L.userId??"anonymous",color:L.color??"#eeeeee",shape:L.shape??"square",sound:L.sound??"-",timestamp:zv(L?.timestamp)})).filter(L=>L.timestamp>0).sort((L,R)=>R.timestamp-L.timestamp);i(V),l(!1)},I=>{d(I?.message||"  ."),l(!1)});return()=>C()},[t]);const _=D.useMemo(()=>{const E=new Map;for(const C of n){const I=new Date(C.timestamp),A=`${I.getFullYear()}-${String(I.getMonth()+1).padStart(2,"0")}-${String(I.getDate()).padStart(2,"0")}`;E.has(A)||E.set(A,[]),E.get(A).push(C)}return Array.from(E.entries()).sort((C,I)=>new Date(I[0]).getTime()-new Date(C[0]).getTime())},[n]);return o?w.jsx("div",{className:"p-4 text-sm text-black/60",children:" "}):u?w.jsxs("div",{className:"p-4 text-sm text-red-600",children:[": ",u]}):w.jsxs("div",{className:"p-4 max-w-5xl mx-auto",children:[w.jsx("h2",{className:"text-xl font-bold mb-4",children:" "}),_.length===0&&w.jsx("div",{className:"text-sm text-black/60",children:" ."}),_.map(([E,C])=>w.jsxs("section",{className:"mb-8",children:[w.jsx("div",{className:"text-sm font-semibold text-black/80 mb-3",children:E}),w.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4",children:C.map(I=>{const A=typeof I.lat=="number"&&typeof I.lng=="number",V=new Date(I.timestamp).toLocaleTimeString();return w.jsxs("button",{onClick:()=>{y({...I,timestamp:typeof I.timestamp=="string"?zv(I.timestamp):I.timestamp}),m(!0)},className:"text-left rounded-2xl border bg-white shadow-sm hover:shadow-md transition p-3",children:[w.jsxs("div",{className:"relative h-28 rounded-xl bg-white grid place-items-center",children:[w.jsx(ts,{shape:I.shape??"square",color:I.color??"#cccccc",size:88}),w.jsx("div",{className:"absolute top-2 left-2 text-[11px] px-2 py-0.5 rounded-full bg-black/30 text-white",children:V}),w.jsx("div",{className:"absolute top-2 right-2 text-black/70 text-base",children:A?"":""})]}),w.jsxs("div",{className:"mt-2",children:[w.jsxs("div",{className:"text-sm font-medium truncate",children:[I.label??"unknown",typeof I.score=="number"?w.jsxs("span",{className:"text-black/60",children:["  ",Math.round(I.score*100),"%"]}):null]}),w.jsxs("div",{className:"text-xs text-black/60 mt-0.5",children:[I.shape,"  ",I.sound]})]})]},I.id)})})]},E)),w.jsx(Gf,{open:h,item:g,onClose:()=>m(!1)})]})}function Fb(){const t=()=>{location.hash="#write"};return w.jsxs("div",{className:"max-w-3xl mx-auto px-4 pt-20 pb-12",children:[w.jsxs("header",{className:"mb-6 flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl font-bold",children:""}),w.jsx("p",{className:"text-sm text-gray-500",children:"  AI  ."})]}),w.jsxs("button",{onClick:t,className:`inline-flex items-center gap-2 px-4 py-2 rounded-xl text-white
                     bg-indigo-600 hover:bg-indigo-700 active:bg-indigo-800 transition-colors`,"aria-label":"  ",children:[w.jsx("span",{children:"  "}),w.jsx("span",{"aria-hidden":!0,children:""})]})]}),w.jsxs("section",{className:"mt-8",children:[w.jsx("h2",{className:"mb-3 text-xl font-bold",children:""}),w.jsx(Lb,{})]})]})}function jb({mode:t="auto",nextHash:e="#feed",onDone:n}){const[i,o]=D.useState(!1),[l,u]=D.useState(!1);return D.useEffect(()=>{if(window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches){if(o(!0),t==="auto"){const h=setTimeout(()=>{o(!1),n?.(),e&&(location.hash=e)},1200);return()=>clearTimeout(h)}return}if(o(!0),t==="auto"){const h=setTimeout(()=>u(!0),1400),m=setTimeout(()=>{o(!1),n?.(),e&&(location.hash=e)},1800);return()=>{clearTimeout(h),clearTimeout(m)}}},[t,e,n]),!i&&t==="auto"?null:w.jsxs("div",{className:`fixed inset-0 z-[9999] grid place-items-center bg-white
                  ${t==="auto"&&l?"intro-fade-out":""}`,"aria-label":"Intro overlay",role:"dialog",children:[w.jsxs("div",{className:"w-[380px] sm:w-[460px] relative select-none overflow-visible",children:[w.jsxs("svg",{viewBox:"-64 -64 486 632",preserveAspectRatio:"xMidYMid meet",className:"w-[180px] mx-auto overflow-visible","aria-label":"SILK logo",children:[w.jsx("defs",{children:w.jsxs("linearGradient",{id:"silkGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[w.jsx("stop",{offset:"0%",stopColor:"#8877E6"}),w.jsx("stop",{offset:"50%",stopColor:"#788AE6"}),w.jsx("stop",{offset:"100%",stopColor:"#77ACE6"})]})}),w.jsx("g",{transform:"translate(179 252) scale(0.92) translate(-179 -252)",children:w.jsx("path",{d:"M296 28c-34-19-75-31-118-15-33 12-114 58-174 111-27 24-62 56 18 75 72 17 187 31 14 127-191 106-52 184 152 264 43 16 122 0 108-36-14-36-238-111-161-195 50-54 118-92 143-108 11-7 29-12 29-20 1-20-62-41-102-63-108-58 57-95 134-140 26-15 31-25 3-40z",fill:"url(#silkGrad)"})})]}),w.jsx("div",{className:`mt-6 text-center text-4xl sm:text-5xl font-extrabold
                     bg-gradient-to-r from-[#8877E6] via-[#788AE6] to-[#77ACE6]
                     bg-clip-text text-transparent tracking-tight intro-word-reveal`,children:"SILK"}),w.jsx("div",{className:"mt-2 text-center text-sm text-white/60 intro-sub-reveal",children:"sense  image  line  kinesthetics"})]}),w.jsx("style",{children:`
        @keyframes introFadeOut {
          from { opacity: 1 }
          to { opacity: 0 }
        }
        .intro-fade-out {
          animation: introFadeOut 0.4s ease forwards;
        }

        @keyframes wordReveal {
          0% { opacity: 0; transform: translateY(8px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .intro-word-reveal {
          animation: wordReveal 0.8s 0.2s ease-out both;
        }

        @keyframes subReveal {
          0% { opacity: 0; transform: translateY(6px); }
          100% { opacity: 1; transform: translateY(0); }
        }
        .intro-sub-reveal {
          animation: subReveal 0.7s 0.4s ease-out both;
        }
      `})]})}const cS=D.createContext({});function Vb(t){const e=D.useRef(null);return e.current===null&&(e.current=t()),e.current}const qf=typeof window<"u",Ub=qf?D.useLayoutEffect:D.useEffect,Yf=D.createContext(null);function Qf(t,e){t.indexOf(e)===-1&&t.push(e)}function Xf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Un=(t,e,n)=>n>e?e:n<t?t:n;let Jf=()=>{};const Bn={},dS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function hS(t){return typeof t=="object"&&t!==null}const fS=t=>/^0[^.\s]+$/u.test(t);function Zf(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gt=t=>t,Bb=(t,e)=>n=>e(t(n)),ea=(...t)=>t.reduce(Bb),Do=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class ep{constructor(){this.subscriptions=[]}add(e){return Qf(this.subscriptions,e),()=>Xf(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _n=t=>t*1e3,Kt=t=>t/1e3;function pS(t,e){return e?t*(1e3/e):0}const mS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zb=1e-7,Wb=12;function $b(t,e,n,i,o){let l,u,d=0;do u=e+(n-e)/2,l=mS(u,i,o)-t,l>0?n=u:e=u;while(Math.abs(l)>zb&&++d<Wb);return u}function ta(t,e,n,i){if(t===e&&n===i)return Gt;const o=l=>$b(l,0,1,t,n);return l=>l===0||l===1?l:mS(o(l),e,i)}const gS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yS=t=>e=>1-t(1-e),vS=ta(.33,1.53,.69,.99),tp=yS(vS),_S=gS(tp),wS=t=>(t*=2)<1?.5*tp(t):.5*(2-Math.pow(2,-10*(t-1))),np=t=>1-Math.sin(Math.acos(t)),SS=yS(np),ES=gS(np),Hb=ta(.42,0,1,1),Kb=ta(0,0,.58,1),xS=ta(.42,0,.58,1),Gb=t=>Array.isArray(t)&&typeof t[0]!="number",CS=t=>Array.isArray(t)&&typeof t[0]=="number",qb={linear:Gt,easeIn:Hb,easeInOut:xS,easeOut:Kb,circIn:np,circInOut:ES,circOut:SS,backIn:tp,backInOut:_S,backOut:vS,anticipate:wS},Yb=t=>typeof t=="string",Wv=t=>{if(CS(t)){Jf(t.length===4);const[e,n,i,o]=t;return ta(e,n,i,o)}else if(Yb(t))return qb[t];return t},vl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Qb(t,e){let n=new Set,i=new Set,o=!1,l=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(g){u.has(g)&&(m.schedule(g),t()),g(d)}const m={schedule:(g,y=!1,_=!1)=>{const C=_&&o?n:i;return y&&u.add(g),C.has(g)||C.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(d=g,o){l=!0;return}o=!0,[n,i]=[i,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,m.process(g))}};return m}const Xb=40;function TS(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=vl.reduce((R,O)=>(R[O]=Qb(l),R),{}),{setup:d,read:h,resolveKeyframes:m,preUpdate:g,update:y,preRender:_,render:E,postRender:C}=u,I=()=>{const R=Bn.useManualTiming?o.timestamp:performance.now();n=!1,Bn.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(R-o.timestamp,Xb),1)),o.timestamp=R,o.isProcessing=!0,d.process(o),h.process(o),m.process(o),g.process(o),y.process(o),_.process(o),E.process(o),C.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(I))},A=()=>{n=!0,i=!0,o.isProcessing||t(I)};return{schedule:vl.reduce((R,O)=>{const B=u[O];return R[O]=(q,Z=!1,$=!1)=>(n||A(),B.schedule(q,Z,$)),R},{}),cancel:R=>{for(let O=0;O<vl.length;O++)u[vl[O]].cancel(R)},state:o,steps:u}}const{schedule:Fe,cancel:Tr,state:ct,steps:Ud}=TS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0);let Il;function Jb(){Il=void 0}const bt={now:()=>(Il===void 0&&bt.set(ct.isProcessing||Bn.useManualTiming?ct.timestamp:performance.now()),Il),set:t=>{Il=t,queueMicrotask(Jb)}},IS=t=>e=>typeof e=="string"&&e.startsWith(t),rp=IS("--"),Zb=IS("var(--"),ip=t=>Zb(t)?eA.test(t.split("/*")[0].trim()):!1,eA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ds={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mo={...ds,transform:t=>Un(0,1,t)},_l={...ds,default:1},yo=t=>Math.round(t*1e5)/1e5,sp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tA(t){return t==null}const nA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,op=(t,e)=>n=>!!(typeof n=="string"&&nA.test(n)&&n.startsWith(t)||e&&!tA(n)&&Object.prototype.hasOwnProperty.call(n,e)),kS=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,l,u,d]=i.match(sp);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},rA=t=>Un(0,255,t),Bd={...ds,transform:t=>Math.round(rA(t))},qr={test:op("rgb","red"),parse:kS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Bd.transform(t)+", "+Bd.transform(e)+", "+Bd.transform(n)+", "+yo(Mo.transform(i))+")"};function iA(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Ch={test:op("#"),parse:iA,transform:qr.transform},na=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),dr=na("deg"),wn=na("%"),se=na("px"),sA=na("vh"),oA=na("vw"),$v={...wn,parse:t=>wn.parse(t)/100,transform:t=>wn.transform(t*100)},ji={test:op("hsl","hue"),parse:kS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+wn.transform(yo(e))+", "+wn.transform(yo(n))+", "+yo(Mo.transform(i))+")"},Qe={test:t=>qr.test(t)||Ch.test(t)||ji.test(t),parse:t=>qr.test(t)?qr.parse(t):ji.test(t)?ji.parse(t):Ch.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qr.transform(t):ji.transform(t),getAnimatableNone:t=>{const e=Qe.parse(t);return e.alpha=0,Qe.transform(e)}},aA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function lA(t){return isNaN(t)&&typeof t=="string"&&(t.match(sp)?.length||0)+(t.match(aA)?.length||0)>0}const PS="number",NS="color",uA="var",cA="var(",Hv="${}",dA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Oo(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(dA,h=>(Qe.test(h)?(i.color.push(l),o.push(NS),n.push(Qe.parse(h))):h.startsWith(cA)?(i.var.push(l),o.push(uA),n.push(h)):(i.number.push(l),o.push(PS),n.push(parseFloat(h))),++l,Hv)).split(Hv);return{values:n,split:d,indexes:i,types:o}}function RS(t){return Oo(t).values}function bS(t){const{split:e,types:n}=Oo(t),i=e.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],o[u]!==void 0){const d=n[u];d===PS?l+=yo(o[u]):d===NS?l+=Qe.transform(o[u]):l+=o[u]}return l}}const hA=t=>typeof t=="number"?0:Qe.test(t)?Qe.getAnimatableNone(t):t;function fA(t){const e=RS(t);return bS(t)(e.map(hA))}const Ir={test:lA,parse:RS,createTransformer:bS,getAnimatableNone:fA};function zd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pA({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,l=0,u=0;if(!e)o=l=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;o=zd(h,d,t+1/3),l=zd(h,d,t),u=zd(h,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function eu(t,e){return n=>n>0?e:t}const Ue=(t,e,n)=>t+(e-t)*n,Wd=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},mA=[Ch,qr,ji],gA=t=>mA.find(e=>e.test(t));function Kv(t){const e=gA(t);if(!e)return!1;let n=e.parse(t);return e===ji&&(n=pA(n)),n}const Gv=(t,e)=>{const n=Kv(t),i=Kv(e);if(!n||!i)return eu(t,e);const o={...n};return l=>(o.red=Wd(n.red,i.red,l),o.green=Wd(n.green,i.green,l),o.blue=Wd(n.blue,i.blue,l),o.alpha=Ue(n.alpha,i.alpha,l),qr.transform(o))},Th=new Set(["none","hidden"]);function yA(t,e){return Th.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function vA(t,e){return n=>Ue(t,e,n)}function ap(t){return typeof t=="number"?vA:typeof t=="string"?ip(t)?eu:Qe.test(t)?Gv:SA:Array.isArray(t)?AS:typeof t=="object"?Qe.test(t)?Gv:_A:eu}function AS(t,e){const n=[...t],i=n.length,o=t.map((l,u)=>ap(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=o[u](l);return n}}function _A(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=ap(t[o])(t[o],e[o]));return o=>{for(const l in i)n[l]=i[l](o);return n}}function wA(t,e){const n=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][i[l]],d=t.values[u]??0;n[o]=d,i[l]++}return n}const SA=(t,e)=>{const n=Ir.createTransformer(e),i=Oo(t),o=Oo(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Th.has(t)&&!o.values.length||Th.has(e)&&!i.values.length?yA(t,e):ea(AS(wA(i,o),o.values),n):eu(t,e)};function DS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ue(t,e,n):ap(t)(t,e)}const EA=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Fe.update(e,n),stop:()=>Tr(e),now:()=>ct.isProcessing?ct.timestamp:bt.now()}},MS=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)i+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},tu=2e4;function lp(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<tu;)e+=n,i=t.next(e);return e>=tu?1/0:e}function xA(t,e=100,n){const i=n({...t,keyframes:[0,e]}),o=Math.min(lp(i),tu);return{type:"keyframes",ease:l=>i.next(o*l).value/e,duration:Kt(o)}}const CA=5;function OS(t,e,n){const i=Math.max(e-CA,0);return pS(n-t(i),e-i)}const ze={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$d=.001;function TA({duration:t=ze.duration,bounce:e=ze.bounce,velocity:n=ze.velocity,mass:i=ze.mass}){let o,l,u=1-e;u=Un(ze.minDamping,ze.maxDamping,u),t=Un(ze.minDuration,ze.maxDuration,Kt(t)),u<1?(o=m=>{const g=m*u,y=g*t,_=g-n,E=Ih(m,u),C=Math.exp(-y);return $d-_/E*C},l=m=>{const y=m*u*t,_=y*n+n,E=Math.pow(u,2)*Math.pow(m,2)*t,C=Math.exp(-y),I=Ih(Math.pow(m,2),u);return(-o(m)+$d>0?-1:1)*((_-E)*C)/I}):(o=m=>{const g=Math.exp(-m*t),y=(m-n)*t+1;return-$d+g*y},l=m=>{const g=Math.exp(-m*t),y=(n-m)*(t*t);return g*y});const d=5/t,h=kA(o,l,d);if(t=_n(t),isNaN(h))return{stiffness:ze.stiffness,damping:ze.damping,duration:t};{const m=Math.pow(h,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:t}}}const IA=12;function kA(t,e,n){let i=n;for(let o=1;o<IA;o++)i=i-t(i)/e(i);return i}function Ih(t,e){return t*Math.sqrt(1-e*e)}const PA=["duration","bounce"],NA=["stiffness","damping","mass"];function qv(t,e){return e.some(n=>t[n]!==void 0)}function RA(t){let e={velocity:ze.velocity,stiffness:ze.stiffness,damping:ze.damping,mass:ze.mass,isResolvedFromDuration:!1,...t};if(!qv(t,NA)&&qv(t,PA))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,l=2*Un(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ze.mass,stiffness:o,damping:l}}else{const n=TA(t);e={...e,...n,mass:ze.mass},e.isResolvedFromDuration=!0}return e}function nu(t=ze.visualDuration,e=ze.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:m,mass:g,duration:y,velocity:_,isResolvedFromDuration:E}=RA({...n,velocity:-Kt(n.velocity||0)}),C=_||0,I=m/(2*Math.sqrt(h*g)),A=u-l,V=Kt(Math.sqrt(h/g)),L=Math.abs(A)<5;i||(i=L?ze.restSpeed.granular:ze.restSpeed.default),o||(o=L?ze.restDelta.granular:ze.restDelta.default);let R;if(I<1){const B=Ih(V,I);R=q=>{const Z=Math.exp(-I*V*q);return u-Z*((C+I*V*A)/B*Math.sin(B*q)+A*Math.cos(B*q))}}else if(I===1)R=B=>u-Math.exp(-V*B)*(A+(C+V*A)*B);else{const B=V*Math.sqrt(I*I-1);R=q=>{const Z=Math.exp(-I*V*q),$=Math.min(B*q,300);return u-Z*((C+I*V*A)*Math.sinh($)+B*A*Math.cosh($))/B}}const O={calculatedDuration:E&&y||null,next:B=>{const q=R(B);if(E)d.done=B>=y;else{let Z=B===0?C:0;I<1&&(Z=B===0?_n(C):OS(R,B,q));const $=Math.abs(Z)<=i,ye=Math.abs(u-q)<=o;d.done=$&&ye}return d.value=d.done?u:q,d},toString:()=>{const B=Math.min(lp(O),tu),q=MS(Z=>O.next(B*Z).value,B,30);return B+"ms "+q},toTransition:()=>{}};return O}nu.applyToOptions=t=>{const e=xA(t,100,nu);return t.ease=e.ease,t.duration=_n(e.duration),t.type="keyframes",t};function kh({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:h,restDelta:m=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},E=$=>d!==void 0&&$<d||h!==void 0&&$>h,C=$=>d===void 0?h:h===void 0||Math.abs(d-$)<Math.abs(h-$)?d:h;let I=n*e;const A=y+I,V=u===void 0?A:u(A);V!==A&&(I=V-y);const L=$=>-I*Math.exp(-$/i),R=$=>V+L($),O=$=>{const ye=L($),me=R($);_.done=Math.abs(ye)<=m,_.value=_.done?V:me};let B,q;const Z=$=>{E(_.value)&&(B=$,q=nu({keyframes:[_.value,C(_.value)],velocity:OS(R,$,_.value),damping:o,stiffness:l,restDelta:m,restSpeed:g}))};return Z(0),{calculatedDuration:null,next:$=>{let ye=!1;return!q&&B===void 0&&(ye=!0,O($),Z($)),B!==void 0&&$>=B?q.next($-B):(!ye&&O($),_)}}}function bA(t,e,n){const i=[],o=n||Bn.mix||DS,l=t.length-1;for(let u=0;u<l;u++){let d=o(t[u],t[u+1]);if(e){const h=Array.isArray(e)?e[u]||Gt:e;d=ea(h,d)}i.push(d)}return i}function AA(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const l=t.length;if(Jf(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=bA(e,i,o),h=d.length,m=g=>{if(u&&g<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=Do(t[y],t[y+1],g);return d[y](_)};return n?g=>m(Un(t[0],t[l-1],g)):m}function DA(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=Do(0,e,i);t.push(Ue(n,1,o))}}function MA(t){const e=[0];return DA(e,t.length-1),e}function OA(t,e){return t.map(n=>n*e)}function LA(t,e){return t.map(()=>e||xS).splice(0,t.length-1)}function vo({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=Gb(i)?i.map(Wv):Wv(i),l={done:!1,value:e[0]},u=OA(n&&n.length===e.length?n:MA(e),t),d=AA(u,e,{ease:Array.isArray(o)?o:LA(e,o)});return{calculatedDuration:t,next:h=>(l.value=d(h),l.done=h>=t,l)}}const FA=t=>t!==null;function up(t,{repeat:e,repeatType:n="loop"},i,o=1){const l=t.filter(FA),d=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||i===void 0?l[d]:i}const jA={decay:kh,inertia:kh,tween:vo,keyframes:vo,spring:nu};function LS(t){typeof t.type=="string"&&(t.type=jA[t.type])}class cp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const VA=t=>t/100;class dp extends cp{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==bt.now()&&this.tick(bt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;LS(e);const{type:n=vo,repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=e;let{keyframes:d}=e;const h=n||vo;h!==vo&&typeof d[0]!="number"&&(this.mixKeyframes=ea(VA,DS(d[0],d[1])),d=[0,100]);const m=h({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=lp(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:o,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:E,type:C,onUpdate:I,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-m*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?V<0:V>o;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let R=this.currentTime,O=i;if(y){const $=Math.min(this.currentTime,o)/d;let ye=Math.floor($),me=$%1;!me&&$>=1&&(me=1),me===1&&ye--,ye=Math.min(ye,y+1),!!(ye%2)&&(_==="reverse"?(me=1-me,E&&(me-=E/d)):_==="mirror"&&(O=u)),R=Un(0,1,me)*d}const B=L?{done:!1,value:g[0]}:O.next(R);l&&(B.value=l(B.value));let{done:q}=B;!L&&h!==null&&(q=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&q);return Z&&C!==kh&&(B.value=up(g,this.options,A,this.speed)),I&&I(B.value),Z&&this.finish(),B}then(e,n){return this.finished.then(e,n)}get duration(){return Kt(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kt(e)}get time(){return Kt(this.currentTime)}set time(e){e=_n(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Kt(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=EA,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function UA(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yr=t=>t*180/Math.PI,Ph=t=>{const e=Yr(Math.atan2(t[1],t[0]));return Nh(e)},BA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ph,rotateZ:Ph,skewX:t=>Yr(Math.atan(t[1])),skewY:t=>Yr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Nh=t=>(t=t%360,t<0&&(t+=360),t),Yv=Ph,Qv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Xv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qv,scaleY:Xv,scale:t=>(Qv(t)+Xv(t))/2,rotateX:t=>Nh(Yr(Math.atan2(t[6],t[5]))),rotateY:t=>Nh(Yr(Math.atan2(-t[2],t[0]))),rotateZ:Yv,rotate:Yv,skewX:t=>Yr(Math.atan(t[4])),skewY:t=>Yr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Rh(t){return t.includes("scale")?1:0}function bh(t,e){if(!t||t==="none")return Rh(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=zA,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=BA,o=d}if(!o)return Rh(e);const l=i[e],u=o[1].split(",").map($A);return typeof l=="function"?l(u):u[l]}const WA=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return bh(n,e)};function $A(t){return parseFloat(t.trim())}const hs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fs=new Set(hs),Jv=t=>t===ds||t===se,HA=new Set(["x","y","z"]),KA=hs.filter(t=>!HA.has(t));function GA(t){const e=[];return KA.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Xr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>bh(e,"x"),y:(t,{transform:e})=>bh(e,"y")};Xr.translateX=Xr.x;Xr.translateY=Xr.y;const Jr=new Set;let Ah=!1,Dh=!1,Mh=!1;function FS(){if(Dh){const t=Array.from(Jr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=GA(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Dh=!1,Ah=!1,Jr.forEach(t=>t.complete(Mh)),Jr.clear()}function jS(){Jr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Dh=!0)})}function qA(){Mh=!0,jS(),FS(),Mh=!1}class hp{constructor(e,n,i,o,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Jr.add(this),Ah||(Ah=!0,Fe.read(jS),Fe.resolveKeyframes(FS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;if(e[0]===null){const l=o?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const d=i.readValue(n,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),o&&l===void 0&&o.set(e[0])}UA(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jr.delete(this)}cancel(){this.state==="scheduled"&&(Jr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const YA=t=>t.startsWith("--");function QA(t,e,n){YA(e)?t.style.setProperty(e,n):t.style[e]=n}const XA=Zf(()=>window.ScrollTimeline!==void 0),JA={};function ZA(t,e){const n=Zf(t);return()=>JA[e]??n()}const VS=ZA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uo=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Zv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uo([0,.65,.55,1]),circOut:uo([.55,0,1,.45]),backIn:uo([.31,.01,.66,-.59]),backOut:uo([.33,1.53,.69,.99])};function US(t,e){if(t)return typeof t=="function"?VS()?MS(t,e):"ease-out":CS(t)?uo(t):Array.isArray(t)?t.map(n=>US(n,e)||Zv.easeOut):Zv[t]}function eD(t,e,n,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeOut",times:h}={},m=void 0){const g={[e]:n};h&&(g.offset=h);const y=US(d,o);Array.isArray(y)&&(g.easing=y);const _={delay:i,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(_.pseudoElement=m),t.animate(g,_)}function BS(t){return typeof t=="function"&&"applyToOptions"in t}function tD({type:t,...e}){return BS(t)&&VS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class nD extends cp{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:o,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Jf(typeof e.type!="string");const m=tD(e);this.animation=eD(n,i,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=up(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):QA(n,i,g),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Kt(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Kt(e)}get time(){return Kt(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_n(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&XA()?(this.animation.timeline=e,Gt):n(this)}}const zS={anticipate:wS,backInOut:_S,circInOut:ES};function rD(t){return t in zS}function iD(t){typeof t.ease=="string"&&rD(t.ease)&&(t.ease=zS[t.ease])}const e_=10;class sD extends nD{constructor(e){iD(e),LS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:o,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new dp({...u,autoplay:!1}),h=_n(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-e_).value,d.sample(h).value,e_),d.stop()}}const t_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ir.test(t)||t==="0")&&!t.startsWith("url("));function oD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aD(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=t_(o,e),d=t_(l,e);return!u||!d?!1:oD(t)||(n==="spring"||BS(n))&&i}function Oh(t){t.duration=0,t.type="keyframes"}const lD=new Set(["opacity","clipPath","filter","transform"]),uD=Zf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cD(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:o,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=e.owner.getProps();return uD()&&n&&lD.has(n)&&(n!=="transform"||!m)&&!h&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}const dD=40;class hD extends cp{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",keyframes:d,name:h,motionValue:m,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=bt.now();const _={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:l,repeatType:u,name:h,motionValue:m,element:g,...y},E=g?.KeyframeResolver||hp;this.keyframeResolver=new E(d,(C,I,A)=>this.onKeyframesResolved(C,I,_,!A),h,m,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,o){this.keyframeResolver=void 0;const{name:l,type:u,velocity:d,delay:h,isHandoff:m,onUpdate:g}=i;this.resolvedAt=bt.now(),aD(e,l,u,d)||((Bn.instantAnimations||!h)&&g?.(up(e,i,n)),e[0]=e[e.length-1],Oh(i),i.repeat=0);const _={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>dD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},E=!m&&cD(_)?new sD({..._,element:_.motionValue.owner.current}):new dp(_);E.finished.then(()=>this.notifyFinished()).catch(Gt),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qA()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const fD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pD(t){const e=fD.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function WS(t,e,n=1){const[i,o]=pD(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return dS(u)?parseFloat(u):u}return ip(o)?WS(o,e,n+1):o}function fp(t,e){return t?.[e]??t?.default??t}const $S=new Set(["width","height","top","left","right","bottom",...hs]),mD={test:t=>t==="auto",parse:t=>t},HS=t=>e=>e.test(t),KS=[ds,se,wn,dr,oA,sA,mD],n_=t=>KS.find(HS(t));function gD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fS(t):!0}const yD=new Set(["brightness","contrast","saturate","opacity"]);function vD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(sp)||[];if(!i)return t;const o=n.replace(i,"");let l=yD.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+o+")"}const _D=/\b([a-z-]*)\(.*?\)/gu,Lh={...Ir,getAnimatableNone:t=>{const e=t.match(_D);return e?e.map(vD).join(" "):t}},r_={...ds,transform:Math.round},wD={rotate:dr,rotateX:dr,rotateY:dr,rotateZ:dr,scale:_l,scaleX:_l,scaleY:_l,scaleZ:_l,skew:dr,skewX:dr,skewY:dr,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Mo,originX:$v,originY:$v,originZ:se},pp={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,backgroundPositionX:se,backgroundPositionY:se,...wD,zIndex:r_,fillOpacity:Mo,strokeOpacity:Mo,numOctaves:r_},SD={...pp,color:Qe,backgroundColor:Qe,outlineColor:Qe,fill:Qe,stroke:Qe,borderColor:Qe,borderTopColor:Qe,borderRightColor:Qe,borderBottomColor:Qe,borderLeftColor:Qe,filter:Lh,WebkitFilter:Lh},GS=t=>SD[t];function qS(t,e){let n=GS(t);return n!==Lh&&(n=Ir),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const ED=new Set(["auto","none","0"]);function xD(t,e,n){let i=0,o;for(;i<t.length&&!o;){const l=t[i];typeof l=="string"&&!ED.has(l)&&Oo(l).values.length&&(o=t[i]),i++}if(o&&n)for(const l of e)t[l]=qS(n,o)}class CD extends hp{constructor(e,n,i,o,l){super(e,n,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),ip(m))){const g=WS(m,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!$S.has(i)||e.length!==2)return;const[o,l]=e,u=n_(o),d=n_(l);if(u!==d)if(Jv(u)&&Jv(d))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else Xr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||gD(e[o]))&&i.push(o);i.length&&xD(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Xr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,h])=>{e.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function TD(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=n?.[t]??i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const YS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ID(t){return hS(t)&&"offsetHeight"in t}const i_=30,kD=t=>!isNaN(parseFloat(t));class PD{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const o=bt.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=bt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ep);const i=this.events[e].add(n);return e==="change"?()=>{i(),Fe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>i_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,i_);return pS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ns(t,e){return new PD(t,e)}const{schedule:mp}=TS(queueMicrotask,!1),rn={x:!1,y:!1};function QS(){return rn.x||rn.y}function ND(t){return t==="x"||t==="y"?rn[t]?null:(rn[t]=!0,()=>{rn[t]=!1}):rn.x||rn.y?null:(rn.x=rn.y=!0,()=>{rn.x=rn.y=!1})}function XS(t,e){const n=TD(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function s_(t){return!(t.pointerType==="touch"||QS())}function RD(t,e,n={}){const[i,o,l]=XS(t,n),u=d=>{if(!s_(d))return;const{target:h}=d,m=e(h,d);if(typeof m!="function"||!h)return;const g=y=>{s_(y)&&(m(y),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,o)};return i.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const JS=(t,e)=>e?t===e?!0:JS(t,e.parentElement):!1,gp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,bD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AD(t){return bD.has(t.tagName)||t.tabIndex!==-1}const kl=new WeakSet;function o_(t){return e=>{e.key==="Enter"&&t(e)}}function Hd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const DD=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=o_(()=>{if(kl.has(n))return;Hd(n,"down");const o=o_(()=>{Hd(n,"up")}),l=()=>Hd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function a_(t){return gp(t)&&!QS()}function MD(t,e,n={}){const[i,o,l]=XS(t,n),u=d=>{const h=d.currentTarget;if(!a_(d))return;kl.add(h);const m=e(h,d),g=(E,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),kl.has(h)&&kl.delete(h),a_(E)&&typeof m=="function"&&m(E,{success:C})},y=E=>{g(E,h===window||h===document||n.useGlobalTarget||JS(h,E.target))},_=E=>{g(E,!1)};window.addEventListener("pointerup",y,o),window.addEventListener("pointercancel",_,o)};return i.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),ID(d)&&(d.addEventListener("focus",m=>DD(m,o)),!AD(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function ZS(t){return hS(t)&&"ownerSVGElement"in t}function OD(t){return ZS(t)&&t.tagName==="svg"}const yt=t=>!!(t&&t.getVelocity),LD=[...KS,Qe,Ir],FD=t=>LD.find(HS(t)),eE=D.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jD(t=!0){const e=D.useContext(Yf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,l=D.useId();D.useEffect(()=>{if(t)return o(l)},[t]);const u=D.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const tE=D.createContext({strict:!1}),l_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},rs={};for(const t in l_)rs[t]={isEnabled:e=>l_[t].some(n=>!!e[n])};function VD(t){for(const e in t)rs[e]={...rs[e],...t[e]}}const UD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ru(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UD.has(t)}let nE=t=>!ru(t);function BD(t){typeof t=="function"&&(nE=e=>e.startsWith("on")?!ru(e):t(e))}try{BD(require("@emotion/is-prop-valid").default)}catch{}function zD(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(nE(o)||n===!0&&ru(o)||!e&&!ru(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}const Cu=D.createContext({});function Tu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Lo(t){return typeof t=="string"||Array.isArray(t)}const yp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vp=["initial",...yp];function Iu(t){return Tu(t.animate)||vp.some(e=>Lo(t[e]))}function rE(t){return!!(Iu(t)||t.variants)}function WD(t,e){if(Iu(t)){const{initial:n,animate:i}=t;return{initial:n===!1||Lo(n)?n:void 0,animate:Lo(i)?i:void 0}}return t.inherit!==!1?e:{}}function $D(t){const{initial:e,animate:n}=WD(t,D.useContext(Cu));return D.useMemo(()=>({initial:e,animate:n}),[u_(e),u_(n)])}function u_(t){return Array.isArray(t)?t.join(" "):t}const Fo={};function HD(t){for(const e in t)Fo[e]=t[e],rp(e)&&(Fo[e].isCSSVariable=!0)}function iE(t,{layout:e,layoutId:n}){return fs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Fo[t]||t==="opacity")}const KD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},GD=hs.length;function qD(t,e,n){let i="",o=!0;for(let l=0;l<GD;l++){const u=hs[l],d=t[u];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(u.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=YS(d,pp[u]);if(!h){o=!1;const g=KD[u]||u;i+=`${g}(${m}) `}n&&(e[u]=m)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function _p(t,e,n){const{style:i,vars:o,transformOrigin:l}=t;let u=!1,d=!1;for(const h in e){const m=e[h];if(fs.has(h)){u=!0;continue}else if(rp(h)){o[h]=m;continue}else{const g=YS(m,pp[h]);h.startsWith("origin")?(d=!0,l[h]=g):i[h]=g}}if(e.transform||(u||n?i.transform=qD(e,t.transform,n):i.transform&&(i.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${h} ${m} ${g}`}}const wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sE(t,e,n){for(const i in e)!yt(e[i])&&!iE(i,n)&&(t[i]=e[i])}function YD({transformTemplate:t},e){return D.useMemo(()=>{const n=wp();return _p(n,e,t),Object.assign({},n.vars,n.style)},[e])}function QD(t,e){const n=t.style||{},i={};return sE(i,n,t),Object.assign(i,YD(t,e)),i}function XD(t,e){const n={},i=QD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const JD={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZD={offset:"strokeDashoffset",array:"strokeDasharray"};function eM(t,e,n=1,i=0,o=!0){t.pathLength=1;const l=o?JD:ZD;t[l.offset]=se.transform(-i);const u=se.transform(e),d=se.transform(n);t[l.array]=`${u} ${d}`}function oE(t,{attrX:e,attrY:n,attrScale:i,pathLength:o,pathSpacing:l=1,pathOffset:u=0,...d},h,m,g){if(_p(t,d,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_}=t;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=g?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),i!==void 0&&(y.scale=i),o!==void 0&&eM(y,o,l,u,!1)}const aE=()=>({...wp(),attrs:{}}),lE=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tM(t,e,n,i){const o=D.useMemo(()=>{const l=aE();return oE(l,e,lE(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};sE(l,t.style,t),o.style={...l,...o.style}}return o}const nM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sp(t){return typeof t!="string"||t.includes("-")?!1:!!(nM.indexOf(t)>-1||/[A-Z]/u.test(t))}function rM(t,e,n,{latestValues:i},o,l=!1){const d=(Sp(t)?tM:XD)(e,i,o,t),h=zD(e,typeof t=="string",l),m=t!==D.Fragment?{...h,...d,ref:n}:{},{children:g}=e,y=D.useMemo(()=>yt(g)?g.get():g,[g]);return D.createElement(t,{...m,children:y})}function c_(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Ep(t,e,n,i){if(typeof e=="function"){const[o,l]=c_(i);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=c_(i);e=e(n!==void 0?n:t.custom,o,l)}return e}function Pl(t){return yt(t)?t.get():t}function iM({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,o){return{latestValues:sM(n,i,o,t),renderState:e()}}function sM(t,e,n,i){const o={},l=i(t,{});for(const _ in l)o[_]=Pl(l[_]);let{initial:u,animate:d}=t;const h=Iu(t),m=rE(t);e&&m&&!h&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const y=g?d:u;if(y&&typeof y!="boolean"&&!Tu(y)){const _=Array.isArray(y)?y:[y];for(let E=0;E<_.length;E++){const C=Ep(t,_[E]);if(C){const{transitionEnd:I,transition:A,...V}=C;for(const L in V){let R=V[L];if(Array.isArray(R)){const O=g?R.length-1:0;R=R[O]}R!==null&&(o[L]=R)}for(const L in I)o[L]=I[L]}}}return o}const uE=t=>(e,n)=>{const i=D.useContext(Cu),o=D.useContext(Yf),l=()=>iM(t,e,i,o);return n?l():Vb(l)};function xp(t,e,n){const{style:i}=t,o={};for(const l in i)(yt(i[l])||e.style&&yt(e.style[l])||iE(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=i[l]);return o}const oM=uE({scrapeMotionValuesFromProps:xp,createRenderState:wp});function cE(t,e,n){const i=xp(t,e,n);for(const o in t)if(yt(t[o])||yt(e[o])){const l=hs.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=t[o]}return i}const aM=uE({scrapeMotionValuesFromProps:cE,createRenderState:aE}),lM=Symbol.for("motionComponentSymbol");function Vi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function uM(t,e,n){return D.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Vi(n)&&(n.current=i))},[e])}const Cp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cM="framerAppearId",dE="data-"+Cp(cM),hE=D.createContext({});function dM(t,e,n,i,o){const{visualElement:l}=D.useContext(Cu),u=D.useContext(tE),d=D.useContext(Yf),h=D.useContext(eE).reducedMotion,m=D.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,y=D.useContext(hE);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&hM(m.current,n,o,y);const _=D.useRef(!1);D.useInsertionEffect(()=>{g&&_.current&&g.update(n,d)});const E=n[dE],C=D.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return Ub(()=>{g&&(_.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),D.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),C.current=!1),g.enteringChildren=void 0)}),g}function hM(t,e,n,i){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fE(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&Vi(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:h,layoutRoot:m})}function fE(t){if(t)return t.options.allowProjection!==!1?t.projection:fE(t.parent)}function Kd(t,{forwardMotionProps:e=!1}={},n,i){n&&VD(n);const o=Sp(t)?aM:oM;function l(d,h){let m;const g={...D.useContext(eE),...d,layoutId:fM(d)},{isStatic:y}=g,_=$D(d),E=o(d,y);if(!y&&qf){pM();const C=mM(g);m=C.MeasureLayout,_.visualElement=dM(t,E,g,i,C.ProjectionNode)}return w.jsxs(Cu.Provider,{value:_,children:[m&&_.visualElement?w.jsx(m,{visualElement:_.visualElement,...g}):null,rM(t,d,uM(E,_.visualElement,h),E,y,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=D.forwardRef(l);return u[lM]=t,u}function fM({layoutId:t}){const e=D.useContext(cS).id;return e&&t!==void 0?e+"-"+t:t}function pM(t,e){D.useContext(tE).strict}function mM(t){const{drag:e,layout:n}=rs;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function gM(t,e){if(typeof Proxy>"u")return Kd;const n=new Map,i=(l,u)=>Kd(l,u,t,e),o=(l,u)=>i(l,u);return new Proxy(o,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,Kd(u,void 0,t,e)),n.get(u))})}function pE({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function yM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Gd(t){return t===void 0||t===1}function Fh({scale:t,scaleX:e,scaleY:n}){return!Gd(t)||!Gd(e)||!Gd(n)}function Hr(t){return Fh(t)||mE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mE(t){return d_(t.x)||d_(t.y)}function d_(t){return t&&t!=="0%"}function iu(t,e,n){const i=t-n,o=e*i;return n+o}function h_(t,e,n,i,o){return o!==void 0&&(t=iu(t,o,i)),iu(t,n,i)+e}function jh(t,e=0,n=1,i,o){t.min=h_(t.min,e,n,i,o),t.max=h_(t.max,e,n,i,o)}function gE(t,{x:e,y:n}){jh(t.x,e.translate,e.scale,e.originPoint),jh(t.y,n.translate,n.scale,n.originPoint)}const f_=.999999999999,p_=1.0000000000001;function _M(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=n[d],u=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bi(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,gE(t,u)),i&&Hr(l.latestValues)&&Bi(t,l.latestValues))}e.x<p_&&e.x>f_&&(e.x=1),e.y<p_&&e.y>f_&&(e.y=1)}function Ui(t,e){t.min=t.min+e,t.max=t.max+e}function m_(t,e,n,i,o=.5){const l=Ue(t.min,t.max,o);jh(t,e,n,l,i)}function Bi(t,e){m_(t.x,e.x,e.scaleX,e.scale,e.originX),m_(t.y,e.y,e.scaleY,e.scale,e.originY)}function yE(t,e){return pE(vM(t.getBoundingClientRect(),e))}function wM(t,e,n){const i=yE(t,n),{scroll:o}=e;return o&&(Ui(i.x,o.offset.x),Ui(i.y,o.offset.y)),i}const g_=()=>({translate:0,scale:1,origin:0,originPoint:0}),zi=()=>({x:g_(),y:g_()}),y_=()=>({min:0,max:0}),Ge=()=>({x:y_(),y:y_()}),Vh={current:null},vE={current:!1};function SM(){if(vE.current=!0,!!qf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vh.current=t.matches;t.addEventListener("change",e),e()}else Vh.current=!1}const EM=new WeakMap;function xM(t,e,n){for(const i in e){const o=e[i],l=n[i];if(yt(o))t.addValue(i,o);else if(yt(l))t.addValue(i,ns(o,{owner:t}));else if(l!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,ns(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const v_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CM{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=bt.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,Fe.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Iu(n),this.isVariantNode=rE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const _ in y){const E=y[_];h[_]!==void 0&&yt(E)&&E.set(h[_])}}mount(e){this.current=e,EM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),vE.current||SM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vh.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Tr(this.notifyUpdate),Tr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=fs.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Fe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rs){const n=rs[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<v_.length;i++){const o=v_[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=xM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ns(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(dS(i)||fS(i))?i=parseFloat(i):!FD(i)&&Ir.test(n)&&(i=qS(e,n)),this.setBaseTarget(e,yt(i)?i.get():i)),yt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=Ep(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!yt(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ep),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){mp.render(this.render)}}class _E extends CM{constructor(){super(...arguments),this.KeyframeResolver=CD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wE(t,{style:e,vars:n},i,o){const l=t.style;let u;for(u in e)l[u]=e[u];o?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function TM(t){return window.getComputedStyle(t)}class IM extends _E{constructor(){super(...arguments),this.type="html",this.renderInstance=wE}readValueFromInstance(e,n){if(fs.has(n))return this.projection?.isProjecting?Rh(n):WA(e,n);{const i=TM(e),o=(rp(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yE(e,n)}build(e,n,i){_p(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return xp(e,n,i)}}const SE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kM(t,e,n,i){wE(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(SE.has(o)?o:Cp(o),e.attrs[o])}class PM extends _E{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fs.has(n)){const i=GS(n);return i&&i.default||0}return n=SE.has(n)?n:Cp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return cE(e,n,i)}build(e,n,i){oE(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,o){kM(e,n,i,o)}mount(e){this.isSVGTag=lE(e.tagName),super.mount(e)}}const NM=(t,e)=>Sp(t)?new PM(e):new IM(e,{allowProjection:t!==D.Fragment});function qi(t,e,n){const i=t.getProps();return Ep(i,e,n!==void 0?n:i.custom,t)}const Uh=t=>Array.isArray(t);function RM(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ns(n))}function bM(t){return Uh(t)?t[t.length-1]||0:t}function AM(t,e){const n=qi(t,e);let{transitionEnd:i={},transition:o={},...l}=n||{};l={...l,...i};for(const u in l){const d=bM(l[u]);RM(t,u,d)}}function DM(t){return!!(yt(t)&&t.add)}function Bh(t,e){const n=t.getValue("willChange");if(DM(n))return n.add(e);if(!n&&Bn.WillChange){const i=new Bn.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function EE(t){return t.props[dE]}const MM=t=>t!==null;function OM(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(MM),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}const LM={type:"spring",stiffness:500,damping:25,restSpeed:10},FM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jM={type:"keyframes",duration:.8},VM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},UM=(t,{keyframes:e})=>e.length>2?jM:fs.has(t)?t.startsWith("scale")?FM(e[1]):LM:VM;function BM({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const Tp=(t,e,n,i={},o,l)=>u=>{const d=fp(i,t)||{},h=d.delay||i.delay||0;let{elapsed:m=0}=i;m=m-_n(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:_=>{e.set(_),d.onUpdate&&d.onUpdate(_)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};BM(d)||Object.assign(g,UM(t,g)),g.duration&&(g.duration=_n(g.duration)),g.repeatDelay&&(g.repeatDelay=_n(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Oh(g),g.delay===0&&(y=!0)),(Bn.instantAnimations||Bn.skipAnimations)&&(y=!0,Oh(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,y&&!l&&e.get()!==void 0){const _=OM(g.keyframes,d);if(_!==void 0){Fe.update(()=>{g.onUpdate(_),g.onComplete()});return}}return d.isSync?new dp(g):new hD(g)};function zM({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function xE(t,e,{delay:n=0,transitionOverride:i,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...d}=e;i&&(l=i);const h=[],m=o&&t.animationState&&t.animationState.getState()[o];for(const g in d){const y=t.getValue(g,t.latestValues[g]??null),_=d[g];if(_===void 0||m&&zM(m,g))continue;const E={delay:n,...fp(l||{},g)},C=y.get();if(C!==void 0&&!y.isAnimating&&!Array.isArray(_)&&_===C&&!E.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const V=EE(t);if(V){const L=window.MotionHandoffAnimation(V,g,Fe);L!==null&&(E.startTime=L,I=!0)}}Bh(t,g),y.start(Tp(g,y,_,t.shouldReduceMotion&&$S.has(g)?{type:!1}:E,t,I));const A=y.animation;A&&h.push(A)}return u&&Promise.all(h).then(()=>{Fe.update(()=>{u&&AM(t,u)})}),h}function CE(t,e,n,i=0,o=1){const l=Array.from(t).sort((m,g)=>m.sortNodePosition(g)).indexOf(e),u=t.size,d=(u-1)*i;return typeof n=="function"?n(l,u):o===1?l*i:d-l*i}function zh(t,e,n={}){const i=qi(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const l=i?()=>Promise.all(xE(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:g,staggerDirection:y}=o;return WM(t,e,h,m,g,y,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[h,m]=d==="beforeChildren"?[l,u]:[u,l];return h().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function WM(t,e,n=0,i=0,o=0,l=1,u){const d=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),d.push(zh(h,e,{...u,delay:n+(typeof i=="function"?0:i)+CE(t.variantChildren,h,i,o,l)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(d)}function $M(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>zh(t,l,n));i=Promise.all(o)}else if(typeof e=="string")i=zh(t,e,n);else{const o=typeof e=="function"?qi(t,e,n.custom):e;i=Promise.all(xE(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function TE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const HM=vp.length;function IE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?IE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<HM;n++){const i=vp[n],o=t.props[i];(Lo(o)||o===!1)&&(e[i]=o)}return e}const KM=[...yp].reverse(),GM=yp.length;function qM(t){return e=>Promise.all(e.map(({animation:n,options:i})=>$M(t,n,i)))}function YM(t){let e=qM(t),n=__(),i=!0;const o=h=>(m,g)=>{const y=qi(t,g,h==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:_,transitionEnd:E,...C}=y;m={...m,...C,...E}}return m};function l(h){e=h(t)}function u(h){const{props:m}=t,g=IE(t.parent)||{},y=[],_=new Set;let E={},C=1/0;for(let A=0;A<GM;A++){const V=KM[A],L=n[V],R=m[V]!==void 0?m[V]:g[V],O=Lo(R),B=V===h?L.isActive:null;B===!1&&(C=A);let q=R===g[V]&&R!==m[V]&&O;if(q&&i&&t.manuallyAnimateOnMount&&(q=!1),L.protectedKeys={...E},!L.isActive&&B===null||!R&&!L.prevProp||Tu(R)||typeof R=="boolean")continue;const Z=QM(L.prevProp,R);let $=Z||V===h&&L.isActive&&!q&&O||A>C&&O,ye=!1;const me=Array.isArray(R)?R:[R];let Xe=me.reduce(o(V),{});B===!1&&(Xe={});const{prevResolvedValues:X={}}=L,Ee={...X,...Xe},xe=le=>{$=!0,_.has(le)&&(ye=!0,_.delete(le)),L.needsAnimating[le]=!0;const H=t.getValue(le);H&&(H.liveStyle=!1)};for(const le in Ee){const H=Xe[le],te=X[le];if(E.hasOwnProperty(le))continue;let K=!1;Uh(H)&&Uh(te)?K=!TE(H,te):K=H!==te,K?H!=null?xe(le):_.add(le):H!==void 0&&_.has(le)?xe(le):L.protectedKeys[le]=!0}L.prevProp=R,L.prevResolvedValues=Xe,L.isActive&&(E={...E,...Xe}),i&&t.blockInitialAnimation&&($=!1);const $e=q&&Z;$&&(!$e||ye)&&y.push(...me.map(le=>{const H={type:V};if(typeof le=="string"&&i&&!$e&&t.manuallyAnimateOnMount&&t.parent){const{parent:te}=t,K=qi(te,le);if(te.enteringChildren&&K){const{delayChildren:k}=K.transition||{};H.delay=CE(te.enteringChildren,t,k)}}return{animation:le,options:H}}))}if(_.size){const A={};if(typeof m.initial!="boolean"){const V=qi(t,Array.isArray(m.initial)?m.initial[0]:m.initial);V&&V.transition&&(A.transition=V.transition)}_.forEach(V=>{const L=t.getBaseTarget(V),R=t.getValue(V);R&&(R.liveStyle=!0),A[V]=L??null}),y.push({animation:A})}let I=!!y.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(I=!1),i=!1,I?e(y):Promise.resolve()}function d(h,m){if(n[h].isActive===m)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(h,m)),n[h].isActive=m;const g=u(h);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=__()}}}function QM(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!TE(e,t):!1}function zr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function __(){return{animate:zr(!0),whileInView:zr(),whileHover:zr(),whileTap:zr(),whileDrag:zr(),whileFocus:zr(),exit:zr()}}class Pr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class XM extends Pr{constructor(e){super(e),e.animationState||(e.animationState=YM(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let JM=0;class ZM extends Pr{constructor(){super(...arguments),this.id=JM++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const eO={animation:{Feature:XM},exit:{Feature:ZM}};function jo(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function ra(t){return{point:{x:t.pageX,y:t.pageY}}}const tO=t=>e=>gp(e)&&t(e,ra(e));function _o(t,e,n,i){return jo(t,e,tO(n),i)}const kE=1e-4,nO=1-kE,rO=1+kE,PE=.01,iO=0-PE,sO=0+PE;function wt(t){return t.max-t.min}function oO(t,e,n){return Math.abs(t-e)<=n}function w_(t,e,n,i=.5){t.origin=i,t.originPoint=Ue(e.min,e.max,t.origin),t.scale=wt(n)/wt(e),t.translate=Ue(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nO&&t.scale<=rO||isNaN(t.scale))&&(t.scale=1),(t.translate>=iO&&t.translate<=sO||isNaN(t.translate))&&(t.translate=0)}function wo(t,e,n,i){w_(t.x,e.x,n.x,i?i.originX:void 0),w_(t.y,e.y,n.y,i?i.originY:void 0)}function S_(t,e,n){t.min=n.min+e.min,t.max=t.min+wt(e)}function aO(t,e,n){S_(t.x,e.x,n.x),S_(t.y,e.y,n.y)}function E_(t,e,n){t.min=e.min-n.min,t.max=t.min+wt(e)}function So(t,e,n){E_(t.x,e.x,n.x),E_(t.y,e.y,n.y)}function $t(t){return[t("x"),t("y")]}const NE=({current:t})=>t?t.ownerDocument.defaultView:null,x_=(t,e)=>Math.abs(t-e);function lO(t,e){const n=x_(t.x,e.x),i=x_(t.y,e.y);return Math.sqrt(n**2+i**2)}class RE{constructor(e,n,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Yd(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,C=lO(_.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!C)return;const{point:I}=_,{timestamp:A}=ct;this.history.push({...I,timestamp:A});const{onStart:V,onMove:L}=this.handlers;E||(V&&V(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=qd(E,this.transformPagePoint),Fe.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:C,onSessionEnd:I,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Yd(_.type==="pointercancel"?this.lastMoveEventInfo:qd(E,this.transformPagePoint),this.history);this.startEvent&&C&&C(_,V),I&&I(_,V)},!gp(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const d=ra(e),h=qd(d,this.transformPagePoint),{point:m}=h,{timestamp:g}=ct;this.history=[{...m,timestamp:g}];const{onSessionStart:y}=n;y&&y(e,Yd(h,this.history)),this.removeListeners=ea(_o(this.contextWindow,"pointermove",this.handlePointerMove),_o(this.contextWindow,"pointerup",this.handlePointerUp),_o(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Tr(this.updatePoint)}}function qd(t,e){return e?{point:e(t.point)}:t}function C_(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yd({point:t},e){return{point:t,delta:C_(t,bE(e)),offset:C_(t,uO(e)),velocity:cO(e,.1)}}function uO(t){return t[0]}function bE(t){return t[t.length-1]}function cO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=bE(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>_n(e)));)n--;if(!i)return{x:0,y:0};const l=Kt(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function dO(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ue(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ue(n,t,i.max):Math.min(t,n)),t}function T_(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hO(t,{top:e,left:n,bottom:i,right:o}){return{x:T_(t.x,n,o),y:T_(t.y,e,i)}}function I_(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function fO(t,e){return{x:I_(t.x,e.x),y:I_(t.y,e.y)}}function pO(t,e){let n=.5;const i=wt(t),o=wt(e);return o>i?n=Do(e.min,e.max-i,t.min):i>o&&(n=Do(t.min,t.max-o,e.min)),Un(0,1,n)}function mO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wh=.35;function gO(t=Wh){return t===!1?t=0:t===!0&&(t=Wh),{x:k_(t,"left","right"),y:k_(t,"top","bottom")}}function k_(t,e,n){return{min:P_(t,e),max:P_(t,n)}}function P_(t,e){return typeof t=="number"?t:t[e]||0}const yO=new WeakMap;class vO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ra(y).point)},u=(y,_)=>{const{drag:E,dragPropagation:C,onDragStart:I}=this.getProps();if(E&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ND(E),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$t(V=>{let L=this.getAxisMotionValue(V).get()||0;if(wn.test(L)){const{projection:R}=this.visualElement;if(R&&R.layout){const O=R.layout.layoutBox[V];O&&(L=wt(O)*(parseFloat(L)/100))}}this.originPoint[V]=L}),I&&Fe.postRender(()=>I(y,_)),Bh(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},d=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_;const{dragPropagation:E,dragDirectionLock:C,onDirectionLock:I,onDrag:A}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:V}=_;if(C&&this.currentDirection===null){this.currentDirection=_O(V),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",_.point,V),this.updateAxis("y",_.point,V),this.visualElement.render(),A&&A(y,_)},h=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_,this.stop(y,_),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>$t(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new RE(e,{onSessionStart:l,onStart:u,onMove:d,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:NE(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&Fe.postRender(()=>d(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!wl(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=dO(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&Vi(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=hO(i.layoutBox,e):this.constraints=!1,this.elastic=gO(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&$t(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=mO(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vi(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=wM(i,o.root,this.visualElement.getTransformPagePoint());let u=fO(o.layout.layoutBox,l);if(n){const d=n(yM(u));this.hasMutatedConstraints=!!d,d&&(u=pE(d))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=$t(g=>{if(!wl(g,n,this.currentDirection))return;let y=h&&h[g]||{};u&&(y={min:0,max:0});const _=o?200:1e6,E=o?40:1e7,C={type:"inertia",velocity:i?e[g]:0,bounceStiffness:_,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...l,...y};return this.startAxisValueAnimation(g,C)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Bh(this.visualElement,e),i.start(Tp(e,i,0,n,this.visualElement,!1))}stopAnimation(){$t(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$t(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){$t(n=>{const{drag:i}=this.getProps();if(!wl(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[n];l.set(e[n]-Ue(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Vi(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};$t(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const h=d.get();o[u]=pO({min:h,max:h},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),$t(u=>{if(!wl(u,e,null))return;const d=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];d.set(Ue(h,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;yO.set(this.visualElement,this);const e=this.visualElement.current,n=_o(e,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Vi(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Fe.read(i);const u=jo(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&($t(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=h[g].translate,y.set(y.get()+h[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Wh,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function wl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _O(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wO extends Pr{constructor(e){super(e),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new vO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const N_=t=>(e,n)=>{t&&Fe.postRender(()=>t(e,n))};class SO extends Pr{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(e){this.session=new RE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:N_(e),onStart:N_(n),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Fe.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=_o(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function R_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const oo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=R_(t,e.target.x),i=R_(t,e.target.y);return`${n}% ${i}%`}},EO={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Ir.parse(t);if(o.length>5)return i;const l=Ir.createTransformer(t),u=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;o[0+u]/=d,o[1+u]/=h;const m=Ue(d,h,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};let Qd=!1;class xO extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;HD(CO),l&&(n.group&&n.group.add(l),i&&i.register&&o&&i.register(l),Qd&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,Qd=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Fe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;Qd=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AE(t){const[e,n]=jD(),i=D.useContext(cS);return w.jsx(xO,{...t,layoutGroup:i,switchLayoutGroup:D.useContext(hE),isPresent:e,safeToRemove:n})}const CO={borderRadius:{...oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oo,borderTopRightRadius:oo,borderBottomLeftRadius:oo,borderBottomRightRadius:oo,boxShadow:EO};function TO(t,e,n){const i=yt(t)?t:ns(t);return i.start(Tp("",i,e,n)),i.animation}const IO=(t,e)=>t.depth-e.depth;class kO{constructor(){this.children=[],this.isDirty=!1}add(e){Qf(this.children,e),this.isDirty=!0}remove(e){Xf(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IO),this.isDirty=!1,this.children.forEach(e)}}function PO(t,e){const n=bt.now(),i=({timestamp:o})=>{const l=o-n;l>=e&&(Tr(i),t(l-e))};return Fe.setup(i,!0),()=>Tr(i)}const DE=["TopLeft","TopRight","BottomLeft","BottomRight"],NO=DE.length,b_=t=>typeof t=="string"?parseFloat(t):t,A_=t=>typeof t=="number"||se.test(t);function RO(t,e,n,i,o,l){o?(t.opacity=Ue(0,n.opacity??1,bO(i)),t.opacityExit=Ue(e.opacity??1,0,AO(i))):l&&(t.opacity=Ue(e.opacity??1,n.opacity??1,i));for(let u=0;u<NO;u++){const d=`border${DE[u]}Radius`;let h=D_(e,d),m=D_(n,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||A_(h)===A_(m)?(t[d]=Math.max(Ue(b_(h),b_(m),i),0),(wn.test(m)||wn.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=Ue(e.rotate||0,n.rotate||0,i))}function D_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bO=ME(0,.5,SS),AO=ME(.5,.95,Gt);function ME(t,e,n){return i=>i<t?0:i>e?1:n(Do(t,e,i))}function M_(t,e){t.min=e.min,t.max=e.max}function Wt(t,e){M_(t.x,e.x),M_(t.y,e.y)}function O_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function L_(t,e,n,i,o){return t-=e,t=iu(t,1/n,i),o!==void 0&&(t=iu(t,1/o,i)),t}function DO(t,e=0,n=1,i=.5,o,l=t,u=t){if(wn.test(e)&&(e=parseFloat(e),e=Ue(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Ue(l.min,l.max,i);t===l&&(d-=e),t.min=L_(t.min,e,n,d,o),t.max=L_(t.max,e,n,d,o)}function F_(t,e,[n,i,o],l,u){DO(t,e[n],e[i],e[o],e.scale,l,u)}const MO=["x","scaleX","originX"],OO=["y","scaleY","originY"];function j_(t,e,n,i){F_(t.x,e,MO,n?n.x:void 0,i?i.x:void 0),F_(t.y,e,OO,n?n.y:void 0,i?i.y:void 0)}function V_(t){return t.translate===0&&t.scale===1}function OE(t){return V_(t.x)&&V_(t.y)}function U_(t,e){return t.min===e.min&&t.max===e.max}function LO(t,e){return U_(t.x,e.x)&&U_(t.y,e.y)}function B_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LE(t,e){return B_(t.x,e.x)&&B_(t.y,e.y)}function z_(t){return wt(t.x)/wt(t.y)}function W_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FO{constructor(){this.members=[]}add(e){Qf(this.members,e),e.scheduleRender()}remove(e){if(Xf(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jO(t,e,n){let i="";const o=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:_,skewX:E,skewY:C}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),E&&(i+=`skewX(${E}deg) `),C&&(i+=`skewY(${C}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(i+=`scale(${d}, ${h})`),i||"none"}const Xd=["","X","Y","Z"],VO=1e3;let UO=0;function Jd(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function FE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=EE(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Fe,!(o||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&FE(i)}function jE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=UO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WO),this.nodes.forEach(GO),this.nodes.forEach(qO),this.nodes.forEach($O)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new kO)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ep),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=ZS(u)&&!OD(u),this.instance=u;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),t){let g,y=0;const _=()=>this.root.updateBlockedByResize=!1;Fe.read(()=>{y=window.innerWidth}),t(u,()=>{const E=window.innerWidth;E!==y&&(y=E,this.root.updateBlockedByResize=!0,g&&g(),g=PO(_,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(K_)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||ZO,{onLayoutAnimationStart:I,onLayoutAnimationComplete:A}=m.getProps(),V=!this.targetLayout||!LE(this.targetLayout,E),L=!y&&_;if(this.options.layoutRoot||this.resumeFrom||L||y&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...fp(C,"layout"),onPlay:I,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(g,L)}else y||K_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Tr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(H_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KO),this.nodes.forEach(BO),this.nodes.forEach(zO)):this.nodes.forEach(H_),this.clearAllSnapshots();const d=bt.now();ct.delta=Un(0,1e3/60,d-ct.timestamp),ct.timestamp=d,ct.isProcessing=!0,Ud.update.process(ct),Ud.preRender.process(ct),Ud.render.process(ct),ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HO),this.sharedNodes.forEach(QO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wt(this.snapshot.measuredBox.x)&&!wt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!OE(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||Hr(this.latestValues)||g)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),eL(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ge();const d=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(tL))){const{scroll:m}=this.root;m&&(Ui(d.x,m.offset.x),Ui(d.y,m.offset.y))}return d}removeElementScroll(u){const d=Ge();if(Wt(d,u),this.scroll?.wasRoot)return d;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:g,options:y}=m;m!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Wt(d,u),Ui(d.x,g.offset.x),Ui(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const h=Ge();Wt(h,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Bi(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Hr(g.latestValues)&&Bi(h,g.latestValues)}return Hr(this.latestValues)&&Bi(h,this.latestValues),h}removeTransform(u){const d=Ge();Wt(d,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Hr(m.latestValues))continue;Fh(m.latestValues)&&m.updateSnapshot();const g=Ge(),y=m.measurePageBox();Wt(g,y),j_(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Hr(this.latestValues)&&j_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=ct.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),So(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wt(this.target,this.layout.layoutBox),gE(this.target,this.targetDelta)):Wt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),So(this.relativeTargetOrigin,this.target,_.target),Wt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fh(this.parent.latestValues)||mE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===ct.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Wt(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;_M(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ge());const{target:E}=u;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(O_(this.prevProjectionDelta.x,this.projectionDelta.x),O_(this.prevProjectionDelta.y,this.projectionDelta.y)),wo(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!W_(this.projectionDelta.x,this.prevProjectionDelta.x)||!W_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zi(),this.projectionDelta=zi(),this.projectionDeltaWithTransform=zi()}setAnimationOrigin(u,d=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},y=zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const _=Ge(),E=h?h.source:void 0,C=this.layout?this.layout.source:void 0,I=E!==C,A=this.getStack(),V=!A||A.members.length<=1,L=!!(I&&!V&&this.options.crossfade===!0&&!this.path.some(JO));this.animationProgress=0;let R;this.mixTargetDelta=O=>{const B=O/1e3;G_(y.x,u.x,B),G_(y.y,u.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(So(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XO(this.relativeTarget,this.relativeTargetOrigin,_,B),R&&LO(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ge()),Wt(R,this.relativeTarget)),I&&(this.animationValues=g,RO(g,m,this.latestValues,B,L,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Tr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fe.update(()=>{Nl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ns(0)),this.currentAnimation=TO(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:g}=u;if(!(!d||!h||!m)){if(this!==u&&this.layout&&m&&VE(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Ge();const y=wt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+y;const _=wt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+_}Wt(d,h),Bi(d,g),wo(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new FO),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&Jd("z",u,m,this.animationValues);for(let g=0;g<Xd.length;g++)Jd(`rotate${Xd[g]}`,u,m,this.animationValues),Jd(`skew${Xd[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Pl(d?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Pl(d?.pointerEvents)||""),this.hasProjected&&!Hr(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=jO(this.projectionDeltaWithTransform,this.treeScale,g);h&&(y=h(g,y)),u.transform=y;const{x:_,y:E}=this.projectionDelta;u.transformOrigin=`${_.origin*100}% ${E.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in Fo){if(g[C]===void 0)continue;const{correct:I,applyTo:A,isCSSVariable:V}=Fo[C],L=y==="none"?g[C]:I(g[C],m);if(A){const R=A.length;for(let O=0;O<R;O++)u[A[O]]=L}else V?this.options.visualElement.renderState.vars[C]=L:u[C]=L}this.options.layoutId&&(u.pointerEvents=m===this?Pl(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach($_),this.root.sharedNodes.clear()}}}function BO(t){t.updateLayout()}function zO(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?$t(g=>{const y=l?e.measuredBox[g]:e.layoutBox[g],_=wt(y);y.min=n[g].min,y.max=y.min+_}):VE(o,e.layoutBox,n)&&$t(g=>{const y=l?e.measuredBox[g]:e.layoutBox[g],_=wt(n[g]);y.max=y.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+_)});const u=zi();wo(u,n,e.layoutBox);const d=zi();l?wo(d,t.applyTransform(i,!0),e.measuredBox):wo(d,n,e.layoutBox);const h=!OE(u);let m=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:_}=g;if(y&&_){const E=Ge();So(E,e.layoutBox,y.layoutBox);const C=Ge();So(C,n,_.layoutBox),LE(E,C)||(m=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=E,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function WO(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $O(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HO(t){t.clearSnapshot()}function $_(t){t.clearMeasurements()}function H_(t){t.isLayoutDirty=!1}function KO(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function K_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GO(t){t.resolveTargetDelta()}function qO(t){t.calcProjection()}function YO(t){t.resetSkewAndRotation()}function QO(t){t.removeLeadSnapshot()}function G_(t,e,n){t.translate=Ue(e.translate,0,n),t.scale=Ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function q_(t,e,n,i){t.min=Ue(e.min,n.min,i),t.max=Ue(e.max,n.max,i)}function XO(t,e,n,i){q_(t.x,e.x,n.x,i),q_(t.y,e.y,n.y,i)}function JO(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ZO={duration:.45,ease:[.4,0,.1,1]},Y_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Q_=Y_("applewebkit/")&&!Y_("chrome/")?Math.round:Gt;function X_(t){t.min=Q_(t.min),t.max=Q_(t.max)}function eL(t){X_(t.x),X_(t.y)}function VE(t,e,n){return t==="position"||t==="preserve-aspect"&&!oO(z_(e),z_(n),.2)}function tL(t){return t!==t.root&&t.scroll?.wasRoot}const nL=jE({attachResizeListener:(t,e)=>jo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zd={current:void 0},UE=jE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Zd.current){const t=new nL({});t.mount(window),t.setOptions({layoutScroll:!0}),Zd.current=t}return Zd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rL={pan:{Feature:SO},drag:{Feature:wO,ProjectionNode:UE,MeasureLayout:AE}};function J_(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=i[o];l&&Fe.postRender(()=>l(e,ra(e)))}class iL extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=RD(e,(n,i)=>(J_(this.node,i,"Start"),o=>J_(this.node,o,"End"))))}unmount(){}}class sL extends Pr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ea(jo(this.node.current,"focus",()=>this.onFocus()),jo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Z_(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=i[o];l&&Fe.postRender(()=>l(e,ra(e)))}class oL extends Pr{mount(){const{current:e}=this.node;e&&(this.unmount=MD(e,(n,i)=>(Z_(this.node,i,"Start"),(o,{success:l})=>Z_(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $h=new WeakMap,eh=new WeakMap,aL=t=>{const e=$h.get(t.target);e&&e(t)},lL=t=>{t.forEach(aL)};function uL({root:t,...e}){const n=t||document;eh.has(n)||eh.set(n,{});const i=eh.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(lL,{root:t,...e})),i[o]}function cL(t,e,n){const i=uL(e);return $h.set(t,n),i.observe(t),()=>{$h.delete(t),i.unobserve(t)}}const dL={some:0,all:1};class hL extends Pr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:dL[o]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=m?g:y;_&&_(h)};return cL(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(fL(e,n))&&this.startObserver()}unmount(){}}function fL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pL={inView:{Feature:hL},tap:{Feature:oL},focus:{Feature:sL},hover:{Feature:iL}},mL={layout:{ProjectionNode:UE,MeasureLayout:AE}},gL={...eO,...pL,...rL,...mL},gn=gM(gL,NM),yL=[{id:1,title:`AI  
 `,subtitle:"      .",color:"from-amber-400 via-orange-400 to-rose-400",accentColor:"text-amber-500",dotColor:"bg-amber-500"},{id:2,title:`
 `,subtitle:"      .",color:"from-slate-800 via-slate-700 to-slate-600",accentColor:"text-slate-700",dotColor:"bg-slate-700"},{id:3,title:` 
, Silk`,subtitle:"      .",color:"from-indigo-500 via-purple-500 to-pink-500",accentColor:"text-indigo-600",dotColor:"bg-indigo-600"}];function vL(){return w.jsxs("div",{className:"bg-neutral-50",children:[w.jsxs("section",{className:"min-h-screen flex flex-col justify-center items-center px-6 relative overflow-hidden bg-neutral-50",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-neutral-50 via-indigo-50/30 to-neutral-50"}),w.jsxs(gn.div,{initial:{opacity:0,y:60},animate:{opacity:1,y:0},transition:{duration:1.2,ease:[.22,1,.36,1]},className:"text-center max-w-5xl relative z-10",children:[w.jsx(gn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:1,delay:.2},className:"mb-12",children:w.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-bold text-neutral-900 leading-[1.1] mb-8 tracking-tight",children:[" ,",w.jsx("br",{}),w.jsx("span",{className:"inline-block bg-gradient-to-r from-[#8877E6] via-[#788AE6] to-[#77ACE6] bg-clip-text text-transparent",children:"Silk"}),w.jsx("span",{className:"text-neutral-900",children:""}),w.jsx("br",{}),w.jsx("span",{className:"text-neutral-900",children:""})]})}),w.jsx(gn.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.5},className:"text-lg sm:text-xl text-neutral-600 mb-14 font-light leading-relaxed max-w-2xl mx-auto",children:"        "}),w.jsxs(gn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1,delay:.7},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[w.jsx("button",{className:"group px-8 py-4 bg-neutral-900 text-white text-base font-medium rounded-full hover:bg-neutral-800 transition-all duration-500 hover:scale-[1.02] hover:shadow-2xl hover:shadow-neutral-900/20 min-w-[200px]",children:w.jsx("span",{className:"inline-block transition-transform duration-500 group-hover:translate-x-1",children:"   "})}),w.jsx("button",{className:"px-8 py-4 bg-white text-neutral-900 text-base font-medium rounded-full border border-neutral-200 hover:border-neutral-300 hover:bg-neutral-50 transition-all duration-500 hover:scale-[1.02] hover:shadow-xl min-w-[200px]",children:"  "})]})]}),w.jsx(gn.div,{animate:{y:[0,-30,0],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-1/4 right-[10%] w-[500px] h-[500px] bg-gradient-to-br from-indigo-300/20 to-purple-300/20 rounded-full blur-3xl"}),w.jsx(gn.div,{animate:{y:[0,40,0],opacity:[.2,.4,.2]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-1/4 left-[10%] w-[400px] h-[400px] bg-gradient-to-br from-pink-300/20 to-rose-300/20 rounded-full blur-3xl"})]}),w.jsx("div",{className:"relative bg-neutral-50",children:yL.map((t,e)=>w.jsx("section",{className:"min-h-screen flex items-center justify-center px-6 py-20",children:w.jsxs("div",{className:"max-w-7xl w-full grid md:grid-cols-2 gap-16 items-center",children:[w.jsxs(gn.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6,ease:"easeOut"},viewport:{once:!0,amount:.3},className:e%2===0?"md:order-1":"md:order-2",children:[w.jsx("div",{className:"mb-6",children:w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("div",{className:`w-2 h-2 rounded-full ${t.dotColor}`}),w.jsxs("span",{className:"text-xs font-semibold text-neutral-400 tracking-widest uppercase",children:["Step ",t.id]})]})}),w.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-neutral-900 leading-[1.1] mb-8 whitespace-pre-line tracking-tight",children:t.title}),w.jsx("p",{className:"text-xl text-neutral-500 font-light leading-relaxed",children:t.subtitle})]}),w.jsx(gn.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.6,ease:"easeOut"},viewport:{once:!0,amount:.3},className:`flex justify-center ${e%2===0?"md:order-2":"md:order-1"}`,children:w.jsx("div",{className:"relative",children:w.jsxs("div",{className:"w-[300px] h-[600px] bg-neutral-900 rounded-[48px] p-2 shadow-2xl shadow-neutral-900/30",children:[w.jsxs("div",{className:`w-full h-full bg-gradient-to-br ${t.color} rounded-[40px] flex items-center justify-center text-white overflow-hidden relative`,children:[w.jsx("div",{className:"absolute inset-0 bg-white/5"}),w.jsxs("div",{className:"relative z-10 text-center p-8",children:[w.jsx("div",{className:"text-7xl mb-6",children:e===0?"":e===1?"":""}),w.jsx("div",{className:"text-lg font-medium opacity-90"})]})]}),w.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 w-24 h-6 bg-neutral-900 rounded-full border-2 border-neutral-800"})]})})})]})},t.id))}),w.jsx("section",{className:"py-32 px-6 bg-neutral-50",children:w.jsxs("div",{className:"max-w-7xl mx-auto",children:[w.jsxs(gn.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-20",children:[w.jsx("div",{className:"inline-block mb-6 px-4 py-2 bg-neutral-100 rounded-full",children:w.jsx("span",{className:"text-sm font-semibold text-neutral-600 tracking-wide",children:" "})}),w.jsx("h2",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-neutral-900 tracking-tight",children:"Silk  "})]}),w.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:[{title:"Sound",desc:"     .",icon:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:w.jsx("path",{d:"M12 3v18M6 17v-10M18 17v-10"})}),gradient:"from-indigo-500 to-purple-500"},{title:"Shape",desc:"       .",icon:w.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),w.jsx("path",{d:"M12 18V6"}),w.jsx("path",{d:"M6 12h12"})]}),gradient:"from-pink-500 to-rose-500"},{title:"Color",desc:"       .",icon:w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:w.jsx("path",{d:"M12 2L2 7l10 5 10-5L12 2zM2 17l10 5 10-5M2 12l10 5 10-5"})}),gradient:"from-teal-500 to-cyan-500"}].map((t,e)=>w.jsxs(gn.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:e*.15},viewport:{once:!0},whileHover:{y:-8,transition:{duration:.3}},className:"bg-neutral-50 rounded-3xl p-10 hover:shadow-xl hover:shadow-neutral-200/50 transition-all duration-500 cursor-pointer border border-neutral-200/50 group",children:[w.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${t.gradient} rounded-2xl flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-500 shadow-lg`,children:t.icon}),w.jsx("h3",{className:"text-2xl font-bold text-neutral-900 mb-4 tracking-tight",children:t.title}),w.jsx("p",{className:"text-base text-neutral-600 leading-relaxed font-light",children:t.desc})]},e))})]})})]})}const e0=()=>{const t=(location.hash||"#home").slice(1);return["home","profile","explore","write","login","signup","history"].includes(t)?t:"home"},t0=t=>t==="home"||t==="profile"||t==="explore";function _L(){const[t,e]=D.useState(e0()),[n,i]=D.useState(null),[o,l]=D.useState(!1);D.useEffect(()=>{const g=Wo(vn,y=>{i(y),l(!0)});return()=>g()},[]),D.useEffect(()=>{const g=()=>e(e0());return window.addEventListener("hashchange",g),()=>window.removeEventListener("hashchange",g)},[]);const u=o?n?t==="login"||t==="signup"?"#home":`#${t}`:t!=="login"&&t!=="signup"?"#login":`#${t}`:"#login";let d=null;o?n?d=w.jsxs(w.Fragment,{children:[t==="home"&&w.jsx(vL,{}),t==="profile"&&w.jsx(Fb,{}),t==="explore"&&w.jsx(Ab,{}),t==="write"&&w.jsx(Cb,{}),t==="history"&&w.jsx(Ob,{})]}):d=w.jsxs(w.Fragment,{children:[t==="login"&&w.jsx(Db,{}),t==="signup"&&w.jsx(Mb,{}),t!=="login"&&t!=="signup"&&w.jsx("div",{className:"grid place-items-center h-[70vh] text-sm text-red-500",children:" ."})]}):d=w.jsx("div",{className:"grid place-items-center h-[70vh] text-sm text-gray-500",children:""});const h=o&&n&&t0(t),m=t0(t)?t:"home";return w.jsxs("div",{className:"min-h-screen bg-gray-50",children:[w.jsx(jb,{mode:"auto",nextHash:u}),w.jsx("main",{className:"max-w-5xl mx-auto px-4 py-4",children:d}),h&&w.jsx(_b,{current:m})]})}GC.createRoot(document.getElementById("root")).render(w.jsx(UC.StrictMode,{children:w.jsx(_L,{})}));
